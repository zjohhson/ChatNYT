{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Ivan Kopeykin @vankop\n*/\n\"use strict\";\n\nconst makeSerializable = require(\"../util/makeSerializable\");\n\nconst HarmonyImportSpecifierDependency = require(\"./HarmonyImportSpecifierDependency\");\n/** @typedef {import(\"webpack-sources\").ReplaceSource} ReplaceSource */\n\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n\n/** @typedef {import(\"../Dependency\")} Dependency */\n\n/** @typedef {import(\"../DependencyTemplate\").DependencyTemplateContext} DependencyTemplateContext */\n\n/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n\n/** @typedef {import(\"../ModuleGraphConnection\")} ModuleGraphConnection */\n\n/** @typedef {import(\"../javascript/JavascriptParser\").Assertions} Assertions */\n\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n\n/**\n * Dependency for static evaluating import specifier. e.g.\n * @example\n * import a from \"a\";\n * \"x\" in a;\n * a.x !== undefined; // if x value statically analyzable\n */\n\n\nclass HarmonyEvaluatedImportSpecifierDependency extends HarmonyImportSpecifierDependency {\n  /**\n   * @param {string} request the request string\n   * @param {number} sourceOrder source order\n   * @param {TODO} ids ids\n   * @param {TODO} name name\n   * @param {Range} range location in source code\n   * @param {Assertions} assertions assertions\n   * @param {string} operator operator\n   */\n  constructor(request, sourceOrder, ids, name, range, assertions, operator) {\n    super(request, sourceOrder, ids, name, range, false, assertions, []);\n    this.operator = operator;\n  }\n\n  get type() {\n    return `evaluated X ${this.operator} harmony import specifier`;\n  }\n  /**\n   * @param {ObjectSerializerContext} context context\n   */\n\n\n  serialize(context) {\n    super.serialize(context);\n    const {\n      write\n    } = context;\n    write(this.operator);\n  }\n  /**\n   * @param {ObjectDeserializerContext} context context\n   */\n\n\n  deserialize(context) {\n    super.deserialize(context);\n    const {\n      read\n    } = context;\n    this.operator = read();\n  }\n\n}\n\nmakeSerializable(HarmonyEvaluatedImportSpecifierDependency, \"webpack/lib/dependencies/HarmonyEvaluatedImportSpecifierDependency\");\nHarmonyEvaluatedImportSpecifierDependency.Template = class HarmonyEvaluatedImportSpecifierDependencyTemplate extends HarmonyImportSpecifierDependency.Template {\n  /**\n   * @param {Dependency} dependency the dependency for which the template should be applied\n   * @param {ReplaceSource} source the current replace source which can be modified\n   * @param {DependencyTemplateContext} templateContext the context object\n   * @returns {void}\n   */\n  apply(dependency, source, templateContext) {\n    const dep =\n    /** @type {HarmonyEvaluatedImportSpecifierDependency} */\n    dependency;\n    const {\n      module,\n      moduleGraph,\n      runtime\n    } = templateContext;\n    const connection = moduleGraph.getConnection(dep); // Skip rendering depending when dependency is conditional\n\n    if (connection && !connection.isTargetActive(runtime)) return;\n    const exportsInfo = moduleGraph.getExportsInfo(\n    /** @type {ModuleGraphConnection} */\n    connection.module);\n    const ids = dep.getIds(moduleGraph);\n    let value;\n    const exportsType =\n    /** @type {ModuleGraphConnection} */\n    connection.module.getExportsType(moduleGraph,\n    /** @type {BuildMeta} */\n    module.buildMeta.strictHarmonyModule);\n\n    switch (exportsType) {\n      case \"default-with-named\":\n        {\n          if (ids[0] === \"default\") {\n            value = ids.length === 1 || exportsInfo.isExportProvided(ids.slice(1));\n          } else {\n            value = exportsInfo.isExportProvided(ids);\n          }\n\n          break;\n        }\n\n      case \"namespace\":\n        {\n          if (ids[0] === \"__esModule\") {\n            value = ids.length === 1 || undefined;\n          } else {\n            value = exportsInfo.isExportProvided(ids);\n          }\n\n          break;\n        }\n\n      case \"dynamic\":\n        {\n          if (ids[0] !== \"default\") {\n            value = exportsInfo.isExportProvided(ids);\n          }\n\n          break;\n        }\n      // default-only could lead to runtime error, when default value is primitive\n    }\n\n    if (typeof value === \"boolean\") {\n      source.replace(dep.range[0], dep.range[1] - 1, ` ${value}`);\n    } else {\n      const usedName = exportsInfo.getUsedName(ids, runtime);\n\n      const code = this._getCodeForIds(dep, source, templateContext, ids.slice(0, -1));\n\n      source.replace(dep.range[0], dep.range[1] - 1, `${usedName ? JSON.stringify(usedName[usedName.length - 1]) : '\"\"'} in ${code}`);\n    }\n  }\n\n};\nmodule.exports = HarmonyEvaluatedImportSpecifierDependency;","map":{"version":3,"sources":["/Users/zachjohnson/Desktop/ChatNYT/node_modules/webpack/lib/dependencies/HarmonyEvaluatedImportSpecifierDependency.js"],"names":["makeSerializable","require","HarmonyImportSpecifierDependency","HarmonyEvaluatedImportSpecifierDependency","constructor","request","sourceOrder","ids","name","range","assertions","operator","type","serialize","context","write","deserialize","read","Template","HarmonyEvaluatedImportSpecifierDependencyTemplate","apply","dependency","source","templateContext","dep","module","moduleGraph","runtime","connection","getConnection","isTargetActive","exportsInfo","getExportsInfo","getIds","value","exportsType","getExportsType","buildMeta","strictHarmonyModule","length","isExportProvided","slice","undefined","replace","usedName","getUsedName","code","_getCodeForIds","JSON","stringify","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Ivan Kopeykin @vankop\n*/\n\n\"use strict\";\n\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst HarmonyImportSpecifierDependency = require(\"./HarmonyImportSpecifierDependency\");\n\n/** @typedef {import(\"webpack-sources\").ReplaceSource} ReplaceSource */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../Dependency\")} Dependency */\n/** @typedef {import(\"../DependencyTemplate\").DependencyTemplateContext} DependencyTemplateContext */\n/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n/** @typedef {import(\"../ModuleGraphConnection\")} ModuleGraphConnection */\n/** @typedef {import(\"../javascript/JavascriptParser\").Assertions} Assertions */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n\n/**\n * Dependency for static evaluating import specifier. e.g.\n * @example\n * import a from \"a\";\n * \"x\" in a;\n * a.x !== undefined; // if x value statically analyzable\n */\nclass HarmonyEvaluatedImportSpecifierDependency extends HarmonyImportSpecifierDependency {\n\t/**\n\t * @param {string} request the request string\n\t * @param {number} sourceOrder source order\n\t * @param {TODO} ids ids\n\t * @param {TODO} name name\n\t * @param {Range} range location in source code\n\t * @param {Assertions} assertions assertions\n\t * @param {string} operator operator\n\t */\n\tconstructor(request, sourceOrder, ids, name, range, assertions, operator) {\n\t\tsuper(request, sourceOrder, ids, name, range, false, assertions, []);\n\t\tthis.operator = operator;\n\t}\n\n\tget type() {\n\t\treturn `evaluated X ${this.operator} harmony import specifier`;\n\t}\n\n\t/**\n\t * @param {ObjectSerializerContext} context context\n\t */\n\tserialize(context) {\n\t\tsuper.serialize(context);\n\t\tconst { write } = context;\n\t\twrite(this.operator);\n\t}\n\n\t/**\n\t * @param {ObjectDeserializerContext} context context\n\t */\n\tdeserialize(context) {\n\t\tsuper.deserialize(context);\n\t\tconst { read } = context;\n\t\tthis.operator = read();\n\t}\n}\n\nmakeSerializable(\n\tHarmonyEvaluatedImportSpecifierDependency,\n\t\"webpack/lib/dependencies/HarmonyEvaluatedImportSpecifierDependency\"\n);\n\nHarmonyEvaluatedImportSpecifierDependency.Template = class HarmonyEvaluatedImportSpecifierDependencyTemplate extends (\n\tHarmonyImportSpecifierDependency.Template\n) {\n\t/**\n\t * @param {Dependency} dependency the dependency for which the template should be applied\n\t * @param {ReplaceSource} source the current replace source which can be modified\n\t * @param {DependencyTemplateContext} templateContext the context object\n\t * @returns {void}\n\t */\n\tapply(dependency, source, templateContext) {\n\t\tconst dep = /** @type {HarmonyEvaluatedImportSpecifierDependency} */ (\n\t\t\tdependency\n\t\t);\n\t\tconst { module, moduleGraph, runtime } = templateContext;\n\t\tconst connection = moduleGraph.getConnection(dep);\n\t\t// Skip rendering depending when dependency is conditional\n\t\tif (connection && !connection.isTargetActive(runtime)) return;\n\n\t\tconst exportsInfo = moduleGraph.getExportsInfo(\n\t\t\t/** @type {ModuleGraphConnection} */ (connection).module\n\t\t);\n\t\tconst ids = dep.getIds(moduleGraph);\n\n\t\tlet value;\n\n\t\tconst exportsType =\n\t\t\t/** @type {ModuleGraphConnection} */\n\t\t\t(connection).module.getExportsType(\n\t\t\t\tmoduleGraph,\n\t\t\t\t/** @type {BuildMeta} */\n\t\t\t\t(module.buildMeta).strictHarmonyModule\n\t\t\t);\n\t\tswitch (exportsType) {\n\t\t\tcase \"default-with-named\": {\n\t\t\t\tif (ids[0] === \"default\") {\n\t\t\t\t\tvalue =\n\t\t\t\t\t\tids.length === 1 || exportsInfo.isExportProvided(ids.slice(1));\n\t\t\t\t} else {\n\t\t\t\t\tvalue = exportsInfo.isExportProvided(ids);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"namespace\": {\n\t\t\t\tif (ids[0] === \"__esModule\") {\n\t\t\t\t\tvalue = ids.length === 1 || undefined;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = exportsInfo.isExportProvided(ids);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"dynamic\": {\n\t\t\t\tif (ids[0] !== \"default\") {\n\t\t\t\t\tvalue = exportsInfo.isExportProvided(ids);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// default-only could lead to runtime error, when default value is primitive\n\t\t}\n\n\t\tif (typeof value === \"boolean\") {\n\t\t\tsource.replace(dep.range[0], dep.range[1] - 1, ` ${value}`);\n\t\t} else {\n\t\t\tconst usedName = exportsInfo.getUsedName(ids, runtime);\n\n\t\t\tconst code = this._getCodeForIds(\n\t\t\t\tdep,\n\t\t\t\tsource,\n\t\t\t\ttemplateContext,\n\t\t\t\tids.slice(0, -1)\n\t\t\t);\n\t\t\tsource.replace(\n\t\t\t\tdep.range[0],\n\t\t\t\tdep.range[1] - 1,\n\t\t\t\t`${\n\t\t\t\t\tusedName ? JSON.stringify(usedName[usedName.length - 1]) : '\"\"'\n\t\t\t\t} in ${code}`\n\t\t\t);\n\t\t}\n\t}\n};\n\nmodule.exports = HarmonyEvaluatedImportSpecifierDependency;\n"]},"metadata":{},"sourceType":"script"}
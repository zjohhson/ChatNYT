{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst RequireContextDependency = require(\"./RequireContextDependency\");\n/** @typedef {import(\"../Dependency\").DependencyLocation} DependencyLocation */\n\n/** @typedef {import(\"../javascript/JavascriptParser\")} JavascriptParser */\n\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n\n\nmodule.exports = class RequireContextDependencyParserPlugin {\n  /**\n   * @param {JavascriptParser} parser the parser\n   * @returns {void}\n   */\n  apply(parser) {\n    parser.hooks.call.for(\"require.context\").tap(\"RequireContextDependencyParserPlugin\", expr => {\n      let regExp = /^\\.\\/.*$/;\n      let recursive = true;\n      let mode = \"sync\";\n\n      switch (expr.arguments.length) {\n        case 4:\n          {\n            const modeExpr = parser.evaluateExpression(expr.arguments[3]);\n            if (!modeExpr.isString()) return;\n            mode =\n            /** @type {string} */\n            modeExpr.string;\n          }\n        // falls through\n\n        case 3:\n          {\n            const regExpExpr = parser.evaluateExpression(expr.arguments[2]);\n            if (!regExpExpr.isRegExp()) return;\n            regExp =\n            /** @type {RegExp} */\n            regExpExpr.regExp;\n          }\n        // falls through\n\n        case 2:\n          {\n            const recursiveExpr = parser.evaluateExpression(expr.arguments[1]);\n            if (!recursiveExpr.isBoolean()) return;\n            recursive =\n            /** @type {boolean} */\n            recursiveExpr.bool;\n          }\n        // falls through\n\n        case 1:\n          {\n            const requestExpr = parser.evaluateExpression(expr.arguments[0]);\n            if (!requestExpr.isString()) return;\n            const dep = new RequireContextDependency({\n              request: requestExpr.string,\n              recursive,\n              regExp,\n              mode,\n              category: \"commonjs\"\n            },\n            /** @type {Range} */\n            expr.range);\n            dep.loc =\n            /** @type {DependencyLocation} */\n            expr.loc;\n            dep.optional = !!parser.scope.inTry;\n            parser.state.current.addDependency(dep);\n            return true;\n          }\n      }\n    });\n  }\n\n};","map":{"version":3,"sources":["/Users/zachjohnson/Desktop/ChatNYT/node_modules/webpack/lib/dependencies/RequireContextDependencyParserPlugin.js"],"names":["RequireContextDependency","require","module","exports","RequireContextDependencyParserPlugin","apply","parser","hooks","call","for","tap","expr","regExp","recursive","mode","arguments","length","modeExpr","evaluateExpression","isString","string","regExpExpr","isRegExp","recursiveExpr","isBoolean","bool","requestExpr","dep","request","category","range","loc","optional","scope","inTry","state","current","addDependency"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,wBAAwB,GAAGC,OAAO,CAAC,4BAAD,CAAxC;AAEA;;AACA;;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,MAAMC,oCAAN,CAA2C;AAC3D;AACD;AACA;AACA;AACCC,EAAAA,KAAK,CAACC,MAAD,EAAS;AACbA,IAAAA,MAAM,CAACC,KAAP,CAAaC,IAAb,CACEC,GADF,CACM,iBADN,EAEEC,GAFF,CAEM,sCAFN,EAE8CC,IAAI,IAAI;AACpD,UAAIC,MAAM,GAAG,UAAb;AACA,UAAIC,SAAS,GAAG,IAAhB;AACA,UAAIC,IAAI,GAAG,MAAX;;AACA,cAAQH,IAAI,CAACI,SAAL,CAAeC,MAAvB;AACC,aAAK,CAAL;AAAQ;AACP,kBAAMC,QAAQ,GAAGX,MAAM,CAACY,kBAAP,CAA0BP,IAAI,CAACI,SAAL,CAAe,CAAf,CAA1B,CAAjB;AACA,gBAAI,CAACE,QAAQ,CAACE,QAAT,EAAL,EAA0B;AAC1BL,YAAAA,IAAI;AAAG;AAAuBG,YAAAA,QAAQ,CAACG,MAAvC;AACA;AACD;;AACA,aAAK,CAAL;AAAQ;AACP,kBAAMC,UAAU,GAAGf,MAAM,CAACY,kBAAP,CAA0BP,IAAI,CAACI,SAAL,CAAe,CAAf,CAA1B,CAAnB;AACA,gBAAI,CAACM,UAAU,CAACC,QAAX,EAAL,EAA4B;AAC5BV,YAAAA,MAAM;AAAG;AAAuBS,YAAAA,UAAU,CAACT,MAA3C;AACA;AACD;;AACA,aAAK,CAAL;AAAQ;AACP,kBAAMW,aAAa,GAAGjB,MAAM,CAACY,kBAAP,CAA0BP,IAAI,CAACI,SAAL,CAAe,CAAf,CAA1B,CAAtB;AACA,gBAAI,CAACQ,aAAa,CAACC,SAAd,EAAL,EAAgC;AAChCX,YAAAA,SAAS;AAAG;AAAwBU,YAAAA,aAAa,CAACE,IAAlD;AACA;AACD;;AACA,aAAK,CAAL;AAAQ;AACP,kBAAMC,WAAW,GAAGpB,MAAM,CAACY,kBAAP,CAA0BP,IAAI,CAACI,SAAL,CAAe,CAAf,CAA1B,CAApB;AACA,gBAAI,CAACW,WAAW,CAACP,QAAZ,EAAL,EAA6B;AAC7B,kBAAMQ,GAAG,GAAG,IAAI3B,wBAAJ,CACX;AACC4B,cAAAA,OAAO,EAAEF,WAAW,CAACN,MADtB;AAECP,cAAAA,SAFD;AAGCD,cAAAA,MAHD;AAICE,cAAAA,IAJD;AAKCe,cAAAA,QAAQ,EAAE;AALX,aADW;AAQX;AAAsBlB,YAAAA,IAAI,CAACmB,KARhB,CAAZ;AAUAH,YAAAA,GAAG,CAACI,GAAJ;AAAU;AAAmCpB,YAAAA,IAAI,CAACoB,GAAlD;AACAJ,YAAAA,GAAG,CAACK,QAAJ,GAAe,CAAC,CAAC1B,MAAM,CAAC2B,KAAP,CAAaC,KAA9B;AACA5B,YAAAA,MAAM,CAAC6B,KAAP,CAAaC,OAAb,CAAqBC,aAArB,CAAmCV,GAAnC;AACA,mBAAO,IAAP;AACA;AApCF;AAsCA,KA5CF;AA6CA;;AAnD0D,CAA5D","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst RequireContextDependency = require(\"./RequireContextDependency\");\n\n/** @typedef {import(\"../Dependency\").DependencyLocation} DependencyLocation */\n/** @typedef {import(\"../javascript/JavascriptParser\")} JavascriptParser */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n\nmodule.exports = class RequireContextDependencyParserPlugin {\n\t/**\n\t * @param {JavascriptParser} parser the parser\n\t * @returns {void}\n\t */\n\tapply(parser) {\n\t\tparser.hooks.call\n\t\t\t.for(\"require.context\")\n\t\t\t.tap(\"RequireContextDependencyParserPlugin\", expr => {\n\t\t\t\tlet regExp = /^\\.\\/.*$/;\n\t\t\t\tlet recursive = true;\n\t\t\t\tlet mode = \"sync\";\n\t\t\t\tswitch (expr.arguments.length) {\n\t\t\t\t\tcase 4: {\n\t\t\t\t\t\tconst modeExpr = parser.evaluateExpression(expr.arguments[3]);\n\t\t\t\t\t\tif (!modeExpr.isString()) return;\n\t\t\t\t\t\tmode = /** @type {string} */ (modeExpr.string);\n\t\t\t\t\t}\n\t\t\t\t\t// falls through\n\t\t\t\t\tcase 3: {\n\t\t\t\t\t\tconst regExpExpr = parser.evaluateExpression(expr.arguments[2]);\n\t\t\t\t\t\tif (!regExpExpr.isRegExp()) return;\n\t\t\t\t\t\tregExp = /** @type {RegExp} */ (regExpExpr.regExp);\n\t\t\t\t\t}\n\t\t\t\t\t// falls through\n\t\t\t\t\tcase 2: {\n\t\t\t\t\t\tconst recursiveExpr = parser.evaluateExpression(expr.arguments[1]);\n\t\t\t\t\t\tif (!recursiveExpr.isBoolean()) return;\n\t\t\t\t\t\trecursive = /** @type {boolean} */ (recursiveExpr.bool);\n\t\t\t\t\t}\n\t\t\t\t\t// falls through\n\t\t\t\t\tcase 1: {\n\t\t\t\t\t\tconst requestExpr = parser.evaluateExpression(expr.arguments[0]);\n\t\t\t\t\t\tif (!requestExpr.isString()) return;\n\t\t\t\t\t\tconst dep = new RequireContextDependency(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequest: requestExpr.string,\n\t\t\t\t\t\t\t\trecursive,\n\t\t\t\t\t\t\t\tregExp,\n\t\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\t\tcategory: \"commonjs\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/** @type {Range} */ (expr.range)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdep.loc = /** @type {DependencyLocation} */ (expr.loc);\n\t\t\t\t\t\tdep.optional = !!parser.scope.inTry;\n\t\t\t\t\t\tparser.state.current.addDependency(dep);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}
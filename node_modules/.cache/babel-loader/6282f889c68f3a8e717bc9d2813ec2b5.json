{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Dependency = require(\"../Dependency\");\n\nconst DependencyTemplate = require(\"../DependencyTemplate\");\n\nconst makeSerializable = require(\"../util/makeSerializable\");\n\nconst memoize = require(\"../util/memoize\");\n/** @typedef {import(\"../ContextModule\").ContextOptions} ContextOptions */\n\n/** @typedef {import(\"../Dependency\").TRANSITIVE} TRANSITIVE */\n\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n\n\nconst getCriticalDependencyWarning = memoize(() => require(\"./CriticalDependencyWarning\"));\n/** @typedef {ContextOptions & { request: string }} ContextDependencyOptions */\n\n/**\n * @param {RegExp | null | undefined} r regexp\n * @returns {string} stringified regexp\n */\n\nconst regExpToString = r => r ? r + \"\" : \"\";\n\nclass ContextDependency extends Dependency {\n  /**\n   * @param {ContextDependencyOptions} options options for the context module\n   * @param {string=} context request context\n   */\n  constructor(options, context) {\n    super();\n    this.options = options;\n    this.userRequest = this.options && this.options.request;\n    /** @type {false | undefined | string} */\n\n    this.critical = false;\n    this.hadGlobalOrStickyRegExp = false;\n\n    if (this.options && (this.options.regExp.global || this.options.regExp.sticky)) {\n      this.options = { ...this.options,\n        regExp: null\n      };\n      this.hadGlobalOrStickyRegExp = true;\n    }\n\n    this.request = undefined;\n    this.range = undefined;\n    this.valueRange = undefined;\n    /** @type {boolean | string | undefined} */\n\n    this.inShorthand = undefined; // TODO refactor this\n\n    this.replaces = undefined;\n    this._requestContext = context;\n  }\n  /**\n   * @returns {string | undefined} a request context\n   */\n\n\n  getContext() {\n    return this._requestContext;\n  }\n\n  get category() {\n    return \"commonjs\";\n  }\n  /**\n   * @returns {boolean | TRANSITIVE} true, when changes to the referenced module could affect the referencing module; TRANSITIVE, when changes to the referenced module could affect referencing modules of the referencing module\n   */\n\n\n  couldAffectReferencingModule() {\n    return true;\n  }\n  /**\n   * @returns {string | null} an identifier to merge equal requests\n   */\n\n\n  getResourceIdentifier() {\n    return `context${this._requestContext || \"\"}|ctx request${this.options.request} ${this.options.recursive} ` + `${regExpToString(this.options.regExp)} ${regExpToString(this.options.include)} ${regExpToString(this.options.exclude)} ` + `${this.options.mode} ${this.options.chunkName} ` + `${JSON.stringify(this.options.groupOptions)}`;\n  }\n  /**\n   * Returns warnings\n   * @param {ModuleGraph} moduleGraph module graph\n   * @returns {WebpackError[] | null | undefined} warnings\n   */\n\n\n  getWarnings(moduleGraph) {\n    let warnings = super.getWarnings(moduleGraph);\n\n    if (this.critical) {\n      if (!warnings) warnings = [];\n      const CriticalDependencyWarning = getCriticalDependencyWarning();\n      warnings.push(new CriticalDependencyWarning(this.critical));\n    }\n\n    if (this.hadGlobalOrStickyRegExp) {\n      if (!warnings) warnings = [];\n      const CriticalDependencyWarning = getCriticalDependencyWarning();\n      warnings.push(new CriticalDependencyWarning(\"Contexts can't use RegExps with the 'g' or 'y' flags.\"));\n    }\n\n    return warnings;\n  }\n  /**\n   * @param {ObjectSerializerContext} context context\n   */\n\n\n  serialize(context) {\n    const {\n      write\n    } = context;\n    write(this.options);\n    write(this.userRequest);\n    write(this.critical);\n    write(this.hadGlobalOrStickyRegExp);\n    write(this.request);\n    write(this._requestContext);\n    write(this.range);\n    write(this.valueRange);\n    write(this.prepend);\n    write(this.replaces);\n    super.serialize(context);\n  }\n  /**\n   * @param {ObjectDeserializerContext} context context\n   */\n\n\n  deserialize(context) {\n    const {\n      read\n    } = context;\n    this.options = read();\n    this.userRequest = read();\n    this.critical = read();\n    this.hadGlobalOrStickyRegExp = read();\n    this.request = read();\n    this._requestContext = read();\n    this.range = read();\n    this.valueRange = read();\n    this.prepend = read();\n    this.replaces = read();\n    super.deserialize(context);\n  }\n\n}\n\nmakeSerializable(ContextDependency, \"webpack/lib/dependencies/ContextDependency\");\nContextDependency.Template = DependencyTemplate;\nmodule.exports = ContextDependency;","map":{"version":3,"sources":["/Users/zachjohnson/Desktop/ChatNYT/node_modules/webpack/lib/dependencies/ContextDependency.js"],"names":["Dependency","require","DependencyTemplate","makeSerializable","memoize","getCriticalDependencyWarning","regExpToString","r","ContextDependency","constructor","options","context","userRequest","request","critical","hadGlobalOrStickyRegExp","regExp","global","sticky","undefined","range","valueRange","inShorthand","replaces","_requestContext","getContext","category","couldAffectReferencingModule","getResourceIdentifier","recursive","include","exclude","mode","chunkName","JSON","stringify","groupOptions","getWarnings","moduleGraph","warnings","CriticalDependencyWarning","push","serialize","write","prepend","deserialize","read","Template","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,uBAAD,CAAlC;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,0BAAD,CAAhC;;AACA,MAAMG,OAAO,GAAGH,OAAO,CAAC,iBAAD,CAAvB;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;AAEA,MAAMI,4BAA4B,GAAGD,OAAO,CAAC,MAC5CH,OAAO,CAAC,6BAAD,CADoC,CAA5C;AAIA;;AAEA;AACA;AACA;AACA;;AACA,MAAMK,cAAc,GAAGC,CAAC,IAAKA,CAAC,GAAGA,CAAC,GAAG,EAAP,GAAY,EAA1C;;AAEA,MAAMC,iBAAN,SAAgCR,UAAhC,CAA2C;AAC1C;AACD;AACA;AACA;AACCS,EAAAA,WAAW,CAACC,OAAD,EAAUC,OAAV,EAAmB;AAC7B;AAEA,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,WAAL,GAAmB,KAAKF,OAAL,IAAgB,KAAKA,OAAL,CAAaG,OAAhD;AACA;;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,uBAAL,GAA+B,KAA/B;;AAEA,QACC,KAAKL,OAAL,KACC,KAAKA,OAAL,CAAaM,MAAb,CAAoBC,MAApB,IAA8B,KAAKP,OAAL,CAAaM,MAAb,CAAoBE,MADnD,CADD,EAGE;AACD,WAAKR,OAAL,GAAe,EAAE,GAAG,KAAKA,OAAV;AAAmBM,QAAAA,MAAM,EAAE;AAA3B,OAAf;AACA,WAAKD,uBAAL,GAA+B,IAA/B;AACA;;AAED,SAAKF,OAAL,GAAeM,SAAf;AACA,SAAKC,KAAL,GAAaD,SAAb;AACA,SAAKE,UAAL,GAAkBF,SAAlB;AACA;;AACA,SAAKG,WAAL,GAAmBH,SAAnB,CArB6B,CAsB7B;;AACA,SAAKI,QAAL,GAAgBJ,SAAhB;AACA,SAAKK,eAAL,GAAuBb,OAAvB;AACA;AAED;AACD;AACA;;;AACCc,EAAAA,UAAU,GAAG;AACZ,WAAO,KAAKD,eAAZ;AACA;;AAEW,MAARE,QAAQ,GAAG;AACd,WAAO,UAAP;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,4BAA4B,GAAG;AAC9B,WAAO,IAAP;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,qBAAqB,GAAG;AACvB,WACE,UAAS,KAAKJ,eAAL,IAAwB,EAAG,eACpC,KAAKd,OAAL,CAAaG,OACb,IAAG,KAAKH,OAAL,CAAamB,SAAU,GAF3B,GAGC,GAAEvB,cAAc,CAAC,KAAKI,OAAL,CAAaM,MAAd,CAAsB,IAAGV,cAAc,CACvD,KAAKI,OAAL,CAAaoB,OAD0C,CAEtD,IAAGxB,cAAc,CAAC,KAAKI,OAAL,CAAaqB,OAAd,CAAuB,GAL1C,GAMC,GAAE,KAAKrB,OAAL,CAAasB,IAAK,IAAG,KAAKtB,OAAL,CAAauB,SAAU,GAN/C,GAOC,GAAEC,IAAI,CAACC,SAAL,CAAe,KAAKzB,OAAL,CAAa0B,YAA5B,CAA0C,EAR9C;AAUA;AAED;AACD;AACA;AACA;AACA;;;AACCC,EAAAA,WAAW,CAACC,WAAD,EAAc;AACxB,QAAIC,QAAQ,GAAG,MAAMF,WAAN,CAAkBC,WAAlB,CAAf;;AAEA,QAAI,KAAKxB,QAAT,EAAmB;AAClB,UAAI,CAACyB,QAAL,EAAeA,QAAQ,GAAG,EAAX;AACf,YAAMC,yBAAyB,GAAGnC,4BAA4B,EAA9D;AACAkC,MAAAA,QAAQ,CAACE,IAAT,CAAc,IAAID,yBAAJ,CAA8B,KAAK1B,QAAnC,CAAd;AACA;;AAED,QAAI,KAAKC,uBAAT,EAAkC;AACjC,UAAI,CAACwB,QAAL,EAAeA,QAAQ,GAAG,EAAX;AACf,YAAMC,yBAAyB,GAAGnC,4BAA4B,EAA9D;AACAkC,MAAAA,QAAQ,CAACE,IAAT,CACC,IAAID,yBAAJ,CACC,uDADD,CADD;AAKA;;AAED,WAAOD,QAAP;AACA;AAED;AACD;AACA;;;AACCG,EAAAA,SAAS,CAAC/B,OAAD,EAAU;AAClB,UAAM;AAAEgC,MAAAA;AAAF,QAAYhC,OAAlB;AAEAgC,IAAAA,KAAK,CAAC,KAAKjC,OAAN,CAAL;AACAiC,IAAAA,KAAK,CAAC,KAAK/B,WAAN,CAAL;AACA+B,IAAAA,KAAK,CAAC,KAAK7B,QAAN,CAAL;AACA6B,IAAAA,KAAK,CAAC,KAAK5B,uBAAN,CAAL;AACA4B,IAAAA,KAAK,CAAC,KAAK9B,OAAN,CAAL;AACA8B,IAAAA,KAAK,CAAC,KAAKnB,eAAN,CAAL;AACAmB,IAAAA,KAAK,CAAC,KAAKvB,KAAN,CAAL;AACAuB,IAAAA,KAAK,CAAC,KAAKtB,UAAN,CAAL;AACAsB,IAAAA,KAAK,CAAC,KAAKC,OAAN,CAAL;AACAD,IAAAA,KAAK,CAAC,KAAKpB,QAAN,CAAL;AAEA,UAAMmB,SAAN,CAAgB/B,OAAhB;AACA;AAED;AACD;AACA;;;AACCkC,EAAAA,WAAW,CAAClC,OAAD,EAAU;AACpB,UAAM;AAAEmC,MAAAA;AAAF,QAAWnC,OAAjB;AAEA,SAAKD,OAAL,GAAeoC,IAAI,EAAnB;AACA,SAAKlC,WAAL,GAAmBkC,IAAI,EAAvB;AACA,SAAKhC,QAAL,GAAgBgC,IAAI,EAApB;AACA,SAAK/B,uBAAL,GAA+B+B,IAAI,EAAnC;AACA,SAAKjC,OAAL,GAAeiC,IAAI,EAAnB;AACA,SAAKtB,eAAL,GAAuBsB,IAAI,EAA3B;AACA,SAAK1B,KAAL,GAAa0B,IAAI,EAAjB;AACA,SAAKzB,UAAL,GAAkByB,IAAI,EAAtB;AACA,SAAKF,OAAL,GAAeE,IAAI,EAAnB;AACA,SAAKvB,QAAL,GAAgBuB,IAAI,EAApB;AAEA,UAAMD,WAAN,CAAkBlC,OAAlB;AACA;;AAnIyC;;AAsI3CR,gBAAgB,CACfK,iBADe,EAEf,4CAFe,CAAhB;AAKAA,iBAAiB,CAACuC,QAAlB,GAA6B7C,kBAA7B;AAEA8C,MAAM,CAACC,OAAP,GAAiBzC,iBAAjB","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst Dependency = require(\"../Dependency\");\nconst DependencyTemplate = require(\"../DependencyTemplate\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst memoize = require(\"../util/memoize\");\n\n/** @typedef {import(\"../ContextModule\").ContextOptions} ContextOptions */\n/** @typedef {import(\"../Dependency\").TRANSITIVE} TRANSITIVE */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n\nconst getCriticalDependencyWarning = memoize(() =>\n\trequire(\"./CriticalDependencyWarning\")\n);\n\n/** @typedef {ContextOptions & { request: string }} ContextDependencyOptions */\n\n/**\n * @param {RegExp | null | undefined} r regexp\n * @returns {string} stringified regexp\n */\nconst regExpToString = r => (r ? r + \"\" : \"\");\n\nclass ContextDependency extends Dependency {\n\t/**\n\t * @param {ContextDependencyOptions} options options for the context module\n\t * @param {string=} context request context\n\t */\n\tconstructor(options, context) {\n\t\tsuper();\n\n\t\tthis.options = options;\n\t\tthis.userRequest = this.options && this.options.request;\n\t\t/** @type {false | undefined | string} */\n\t\tthis.critical = false;\n\t\tthis.hadGlobalOrStickyRegExp = false;\n\n\t\tif (\n\t\t\tthis.options &&\n\t\t\t(this.options.regExp.global || this.options.regExp.sticky)\n\t\t) {\n\t\t\tthis.options = { ...this.options, regExp: null };\n\t\t\tthis.hadGlobalOrStickyRegExp = true;\n\t\t}\n\n\t\tthis.request = undefined;\n\t\tthis.range = undefined;\n\t\tthis.valueRange = undefined;\n\t\t/** @type {boolean | string | undefined} */\n\t\tthis.inShorthand = undefined;\n\t\t// TODO refactor this\n\t\tthis.replaces = undefined;\n\t\tthis._requestContext = context;\n\t}\n\n\t/**\n\t * @returns {string | undefined} a request context\n\t */\n\tgetContext() {\n\t\treturn this._requestContext;\n\t}\n\n\tget category() {\n\t\treturn \"commonjs\";\n\t}\n\n\t/**\n\t * @returns {boolean | TRANSITIVE} true, when changes to the referenced module could affect the referencing module; TRANSITIVE, when changes to the referenced module could affect referencing modules of the referencing module\n\t */\n\tcouldAffectReferencingModule() {\n\t\treturn true;\n\t}\n\n\t/**\n\t * @returns {string | null} an identifier to merge equal requests\n\t */\n\tgetResourceIdentifier() {\n\t\treturn (\n\t\t\t`context${this._requestContext || \"\"}|ctx request${\n\t\t\t\tthis.options.request\n\t\t\t} ${this.options.recursive} ` +\n\t\t\t`${regExpToString(this.options.regExp)} ${regExpToString(\n\t\t\t\tthis.options.include\n\t\t\t)} ${regExpToString(this.options.exclude)} ` +\n\t\t\t`${this.options.mode} ${this.options.chunkName} ` +\n\t\t\t`${JSON.stringify(this.options.groupOptions)}`\n\t\t);\n\t}\n\n\t/**\n\t * Returns warnings\n\t * @param {ModuleGraph} moduleGraph module graph\n\t * @returns {WebpackError[] | null | undefined} warnings\n\t */\n\tgetWarnings(moduleGraph) {\n\t\tlet warnings = super.getWarnings(moduleGraph);\n\n\t\tif (this.critical) {\n\t\t\tif (!warnings) warnings = [];\n\t\t\tconst CriticalDependencyWarning = getCriticalDependencyWarning();\n\t\t\twarnings.push(new CriticalDependencyWarning(this.critical));\n\t\t}\n\n\t\tif (this.hadGlobalOrStickyRegExp) {\n\t\t\tif (!warnings) warnings = [];\n\t\t\tconst CriticalDependencyWarning = getCriticalDependencyWarning();\n\t\t\twarnings.push(\n\t\t\t\tnew CriticalDependencyWarning(\n\t\t\t\t\t\"Contexts can't use RegExps with the 'g' or 'y' flags.\"\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn warnings;\n\t}\n\n\t/**\n\t * @param {ObjectSerializerContext} context context\n\t */\n\tserialize(context) {\n\t\tconst { write } = context;\n\n\t\twrite(this.options);\n\t\twrite(this.userRequest);\n\t\twrite(this.critical);\n\t\twrite(this.hadGlobalOrStickyRegExp);\n\t\twrite(this.request);\n\t\twrite(this._requestContext);\n\t\twrite(this.range);\n\t\twrite(this.valueRange);\n\t\twrite(this.prepend);\n\t\twrite(this.replaces);\n\n\t\tsuper.serialize(context);\n\t}\n\n\t/**\n\t * @param {ObjectDeserializerContext} context context\n\t */\n\tdeserialize(context) {\n\t\tconst { read } = context;\n\n\t\tthis.options = read();\n\t\tthis.userRequest = read();\n\t\tthis.critical = read();\n\t\tthis.hadGlobalOrStickyRegExp = read();\n\t\tthis.request = read();\n\t\tthis._requestContext = read();\n\t\tthis.range = read();\n\t\tthis.valueRange = read();\n\t\tthis.prepend = read();\n\t\tthis.replaces = read();\n\n\t\tsuper.deserialize(context);\n\t}\n}\n\nmakeSerializable(\n\tContextDependency,\n\t\"webpack/lib/dependencies/ContextDependency\"\n);\n\nContextDependency.Template = DependencyTemplate;\n\nmodule.exports = ContextDependency;\n"]},"metadata":{},"sourceType":"script"}
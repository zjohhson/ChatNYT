{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\n\nconst RuntimeModule = require(\"../RuntimeModule\");\n\nconst Template = require(\"../Template\");\n/** @typedef {import(\"../Chunk\")} Chunk */\n\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n\n/** @typedef {import(\"../Compilation\")} Compilation */\n\n\nclass StartupChunkDependenciesRuntimeModule extends RuntimeModule {\n  /**\n   * @param {boolean} asyncChunkLoading use async chunk loading\n   */\n  constructor(asyncChunkLoading) {\n    super(\"startup chunk dependencies\", RuntimeModule.STAGE_TRIGGER);\n    this.asyncChunkLoading = asyncChunkLoading;\n  }\n  /**\n   * @returns {string | null} runtime code\n   */\n\n\n  generate() {\n    const chunkGraph =\n    /** @type {ChunkGraph} */\n    this.chunkGraph;\n    const chunk =\n    /** @type {Chunk} */\n    this.chunk;\n    const chunkIds = Array.from(chunkGraph.getChunkEntryDependentChunksIterable(chunk)).map(chunk => {\n      return chunk.id;\n    });\n    const compilation =\n    /** @type {Compilation} */\n    this.compilation;\n    const {\n      runtimeTemplate\n    } = compilation;\n    return Template.asString([`var next = ${RuntimeGlobals.startup};`, `${RuntimeGlobals.startup} = ${runtimeTemplate.basicFunction(\"\", !this.asyncChunkLoading ? chunkIds.map(id => `${RuntimeGlobals.ensureChunk}(${JSON.stringify(id)});`).concat(\"return next();\") : chunkIds.length === 1 ? `return ${RuntimeGlobals.ensureChunk}(${JSON.stringify(chunkIds[0])}).then(next);` : chunkIds.length > 2 ? [// using map is shorter for 3 or more chunks\n    `return Promise.all(${JSON.stringify(chunkIds)}.map(${RuntimeGlobals.ensureChunk}, ${RuntimeGlobals.require})).then(next);`] : [// calling ensureChunk directly is shorter for 0 - 2 chunks\n    \"return Promise.all([\", Template.indent(chunkIds.map(id => `${RuntimeGlobals.ensureChunk}(${JSON.stringify(id)})`).join(\",\\n\")), \"]).then(next);\"])};`]);\n  }\n\n}\n\nmodule.exports = StartupChunkDependenciesRuntimeModule;","map":{"version":3,"sources":["/Users/zachjohnson/Desktop/ChatNYT/node_modules/webpack/lib/runtime/StartupChunkDependenciesRuntimeModule.js"],"names":["RuntimeGlobals","require","RuntimeModule","Template","StartupChunkDependenciesRuntimeModule","constructor","asyncChunkLoading","STAGE_TRIGGER","generate","chunkGraph","chunk","chunkIds","Array","from","getChunkEntryDependentChunksIterable","map","id","compilation","runtimeTemplate","asString","startup","basicFunction","ensureChunk","JSON","stringify","concat","length","indent","join","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,cAAc,GAAGC,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,kBAAD,CAA7B;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,aAAD,CAAxB;AAEA;;AACA;;AACA;;;AAEA,MAAMG,qCAAN,SAAoDF,aAApD,CAAkE;AACjE;AACD;AACA;AACCG,EAAAA,WAAW,CAACC,iBAAD,EAAoB;AAC9B,UAAM,4BAAN,EAAoCJ,aAAa,CAACK,aAAlD;AACA,SAAKD,iBAAL,GAAyBA,iBAAzB;AACA;AAED;AACD;AACA;;;AACCE,EAAAA,QAAQ,GAAG;AACV,UAAMC,UAAU;AAAG;AAA2B,SAAKA,UAAnD;AACA,UAAMC,KAAK;AAAG;AAAsB,SAAKA,KAAzC;AACA,UAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAN,CAChBJ,UAAU,CAACK,oCAAX,CAAgDJ,KAAhD,CADgB,EAEfK,GAFe,CAEXL,KAAK,IAAI;AACd,aAAOA,KAAK,CAACM,EAAb;AACA,KAJgB,CAAjB;AAKA,UAAMC,WAAW;AAAG;AAA4B,SAAKA,WAArD;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAsBD,WAA5B;AACA,WAAOd,QAAQ,CAACgB,QAAT,CAAkB,CACvB,cAAanB,cAAc,CAACoB,OAAQ,GADb,EAEvB,GAAEpB,cAAc,CAACoB,OAAQ,MAAKF,eAAe,CAACG,aAAhB,CAC9B,EAD8B,EAE9B,CAAC,KAAKf,iBAAN,GACGK,QAAQ,CACPI,GADD,CAECC,EAAE,IAAK,GAAEhB,cAAc,CAACsB,WAAY,IAAGC,IAAI,CAACC,SAAL,CAAeR,EAAf,CAAmB,IAF3D,EAICS,MAJD,CAIQ,gBAJR,CADH,GAMGd,QAAQ,CAACe,MAAT,KAAoB,CAApB,GACC,UAAS1B,cAAc,CAACsB,WAAY,IAAGC,IAAI,CAACC,SAAL,CACxCb,QAAQ,CAAC,CAAD,CADgC,CAEtC,eAHF,GAIAA,QAAQ,CAACe,MAAT,GAAkB,CAAlB,GACA,CACA;AACC,0BAAqBH,IAAI,CAACC,SAAL,CAAeb,QAAf,CAAyB,QAC9CX,cAAc,CAACsB,WACf,KAAItB,cAAc,CAACC,OAAQ,gBAJ5B,CADA,GAOA,CACA;AACA,0BAFA,EAGAE,QAAQ,CAACwB,MAAT,CACChB,QAAQ,CACNI,GADF,CAEEC,EAAE,IAAK,GAAEhB,cAAc,CAACsB,WAAY,IAAGC,IAAI,CAACC,SAAL,CAAeR,EAAf,CAAmB,GAF5D,EAIEY,IAJF,CAIO,KAJP,CADD,CAHA,EAUA,gBAVA,CAnB2B,CA+B7B,GAjCsB,CAAlB,CAAP;AAmCA;;AAzDgE;;AA4DlEC,MAAM,CAACC,OAAP,GAAiB1B,qCAAjB","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst RuntimeModule = require(\"../RuntimeModule\");\nconst Template = require(\"../Template\");\n\n/** @typedef {import(\"../Chunk\")} Chunk */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../Compilation\")} Compilation */\n\nclass StartupChunkDependenciesRuntimeModule extends RuntimeModule {\n\t/**\n\t * @param {boolean} asyncChunkLoading use async chunk loading\n\t */\n\tconstructor(asyncChunkLoading) {\n\t\tsuper(\"startup chunk dependencies\", RuntimeModule.STAGE_TRIGGER);\n\t\tthis.asyncChunkLoading = asyncChunkLoading;\n\t}\n\n\t/**\n\t * @returns {string | null} runtime code\n\t */\n\tgenerate() {\n\t\tconst chunkGraph = /** @type {ChunkGraph} */ (this.chunkGraph);\n\t\tconst chunk = /** @type {Chunk} */ (this.chunk);\n\t\tconst chunkIds = Array.from(\n\t\t\tchunkGraph.getChunkEntryDependentChunksIterable(chunk)\n\t\t).map(chunk => {\n\t\t\treturn chunk.id;\n\t\t});\n\t\tconst compilation = /** @type {Compilation} */ (this.compilation);\n\t\tconst { runtimeTemplate } = compilation;\n\t\treturn Template.asString([\n\t\t\t`var next = ${RuntimeGlobals.startup};`,\n\t\t\t`${RuntimeGlobals.startup} = ${runtimeTemplate.basicFunction(\n\t\t\t\t\"\",\n\t\t\t\t!this.asyncChunkLoading\n\t\t\t\t\t? chunkIds\n\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\tid => `${RuntimeGlobals.ensureChunk}(${JSON.stringify(id)});`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.concat(\"return next();\")\n\t\t\t\t\t: chunkIds.length === 1\n\t\t\t\t\t? `return ${RuntimeGlobals.ensureChunk}(${JSON.stringify(\n\t\t\t\t\t\t\tchunkIds[0]\n\t\t\t\t\t  )}).then(next);`\n\t\t\t\t\t: chunkIds.length > 2\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t// using map is shorter for 3 or more chunks\n\t\t\t\t\t\t\t`return Promise.all(${JSON.stringify(chunkIds)}.map(${\n\t\t\t\t\t\t\t\tRuntimeGlobals.ensureChunk\n\t\t\t\t\t\t\t}, ${RuntimeGlobals.require})).then(next);`\n\t\t\t\t\t  ]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\t// calling ensureChunk directly is shorter for 0 - 2 chunks\n\t\t\t\t\t\t\t\"return Promise.all([\",\n\t\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t\tchunkIds\n\t\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t\tid => `${RuntimeGlobals.ensureChunk}(${JSON.stringify(id)})`\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.join(\",\\n\")\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\"]).then(next);\"\n\t\t\t\t\t  ]\n\t\t\t)};`\n\t\t]);\n\t}\n}\n\nmodule.exports = StartupChunkDependenciesRuntimeModule;\n"]},"metadata":{},"sourceType":"script"}
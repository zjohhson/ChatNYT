{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n/** @typedef {import(\"ajv\").Ajv} Ajv */\n\n/**\n *\n * @param {Ajv} ajv\n * @param {string} keyword\n * @param {any} definition\n */\n\nfunction addKeyword(ajv, keyword, definition) {\n  let customRuleCode;\n\n  try {\n    // @ts-ignore\n    // eslint-disable-next-line global-require\n    customRuleCode = require(\"ajv/lib/dotjs/custom\"); // @ts-ignore\n\n    const {\n      RULES\n    } = ajv;\n    let ruleGroup;\n\n    for (let i = 0; i < RULES.length; i++) {\n      const rg = RULES[i];\n\n      if (typeof rg.type === \"undefined\") {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    const rule = {\n      keyword,\n      definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.unshift(rule);\n    RULES.custom[keyword] = rule;\n    RULES.keywords[keyword] = true;\n    RULES.all[keyword] = true;\n  } catch (e) {// Nothing, fallback\n  }\n}\n/**\n *\n * @param {Ajv} ajv\n * @returns {Ajv}\n */\n\n\nfunction addUndefinedAsNullKeyword(ajv) {\n  // There is workaround for old versions of ajv, where `before` is not implemented\n  addKeyword(ajv, \"undefinedAsNull\", {\n    modifying: true,\n\n    /**\n     * @param {boolean} kwVal\n     * @param {unknown} data\n     * @param {any} parentSchema\n     * @param {string} dataPath\n     * @param {unknown} parentData\n     * @param {number | string} parentDataProperty\n     * @return {boolean}\n     */\n    validate(kwVal, data, parentSchema, dataPath, parentData, parentDataProperty) {\n      if (kwVal && parentSchema && typeof parentSchema.enum !== \"undefined\" && parentData && typeof parentDataProperty === \"number\") {\n        const idx =\n        /** @type {number} */\n        parentDataProperty;\n        const parentDataRef =\n        /** @type {any[]} */\n        parentData;\n\n        if (typeof parentDataRef[idx] === \"undefined\") {\n          parentDataRef[idx] = null;\n        }\n      }\n\n      return true;\n    }\n\n  });\n  return ajv;\n}\n\nvar _default = addUndefinedAsNullKeyword;\nexports.default = _default;","map":{"version":3,"sources":["/Users/zachjohnson/Desktop/ChatNYT/node_modules/schema-utils/dist/keywords/undefinedAsNull.js"],"names":["Object","defineProperty","exports","value","default","addKeyword","ajv","keyword","definition","customRuleCode","require","RULES","ruleGroup","i","length","rg","type","rule","custom","code","implements","rules","unshift","keywords","all","e","addUndefinedAsNullKeyword","modifying","validate","kwVal","data","parentSchema","dataPath","parentData","parentDataProperty","enum","idx","parentDataRef","_default"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,UAAT,CAAoBC,GAApB,EAAyBC,OAAzB,EAAkCC,UAAlC,EAA8C;AAC5C,MAAIC,cAAJ;;AAEA,MAAI;AACF;AACA;AACAA,IAAAA,cAAc,GAAGC,OAAO,CAAC,sBAAD,CAAxB,CAHE,CAGgD;;AAElD,UAAM;AACJC,MAAAA;AADI,QAEFL,GAFJ;AAGA,QAAIM,SAAJ;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,YAAME,EAAE,GAAGJ,KAAK,CAACE,CAAD,CAAhB;;AAEA,UAAI,OAAOE,EAAE,CAACC,IAAV,KAAmB,WAAvB,EAAoC;AAClCJ,QAAAA,SAAS,GAAGG,EAAZ;AACA;AACD;AACF;;AAED,UAAME,IAAI,GAAG;AACXV,MAAAA,OADW;AAEXC,MAAAA,UAFW;AAGXU,MAAAA,MAAM,EAAE,IAHG;AAIXC,MAAAA,IAAI,EAAEV,cAJK;AAKXW,MAAAA,UAAU,EAAEZ,UAAU,CAACY;AALZ,KAAb;AAOAR,IAAAA,SAAS,CAACS,KAAV,CAAgBC,OAAhB,CAAwBL,IAAxB;AACAN,IAAAA,KAAK,CAACO,MAAN,CAAaX,OAAb,IAAwBU,IAAxB;AACAN,IAAAA,KAAK,CAACY,QAAN,CAAehB,OAAf,IAA0B,IAA1B;AACAI,IAAAA,KAAK,CAACa,GAAN,CAAUjB,OAAV,IAAqB,IAArB;AACD,GA9BD,CA8BE,OAAOkB,CAAP,EAAU,CAAC;AACZ;AACF;AACD;AACA;AACA;AACA;AACA;;;AAGA,SAASC,yBAAT,CAAmCpB,GAAnC,EAAwC;AACtC;AACAD,EAAAA,UAAU,CAACC,GAAD,EAAM,iBAAN,EAAyB;AACjCqB,IAAAA,SAAS,EAAE,IADsB;;AAGjC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,IAAAA,QAAQ,CAACC,KAAD,EAAQC,IAAR,EAAcC,YAAd,EAA4BC,QAA5B,EAAsCC,UAAtC,EAAkDC,kBAAlD,EAAsE;AAC5E,UAAIL,KAAK,IAAIE,YAAT,IAAyB,OAAOA,YAAY,CAACI,IAApB,KAA6B,WAAtD,IAAqEF,UAArE,IAAmF,OAAOC,kBAAP,KAA8B,QAArH,EAA+H;AAC7H,cAAME,GAAG;AACT;AACAF,QAAAA,kBAFA;AAGA,cAAMG,aAAa;AACnB;AACAJ,QAAAA,UAFA;;AAIA,YAAI,OAAOI,aAAa,CAACD,GAAD,CAApB,KAA8B,WAAlC,EAA+C;AAC7CC,UAAAA,aAAa,CAACD,GAAD,CAAb,GAAqB,IAArB;AACD;AACF;;AAED,aAAO,IAAP;AACD;;AA3BgC,GAAzB,CAAV;AA8BA,SAAO9B,GAAP;AACD;;AAED,IAAIgC,QAAQ,GAAGZ,yBAAf;AACAxB,OAAO,CAACE,OAAR,GAAkBkC,QAAlB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/** @typedef {import(\"ajv\").Ajv} Ajv */\n\n/**\n *\n * @param {Ajv} ajv\n * @param {string} keyword\n * @param {any} definition\n */\nfunction addKeyword(ajv, keyword, definition) {\n  let customRuleCode;\n\n  try {\n    // @ts-ignore\n    // eslint-disable-next-line global-require\n    customRuleCode = require(\"ajv/lib/dotjs/custom\"); // @ts-ignore\n\n    const {\n      RULES\n    } = ajv;\n    let ruleGroup;\n\n    for (let i = 0; i < RULES.length; i++) {\n      const rg = RULES[i];\n\n      if (typeof rg.type === \"undefined\") {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    const rule = {\n      keyword,\n      definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.unshift(rule);\n    RULES.custom[keyword] = rule;\n    RULES.keywords[keyword] = true;\n    RULES.all[keyword] = true;\n  } catch (e) {// Nothing, fallback\n  }\n}\n/**\n *\n * @param {Ajv} ajv\n * @returns {Ajv}\n */\n\n\nfunction addUndefinedAsNullKeyword(ajv) {\n  // There is workaround for old versions of ajv, where `before` is not implemented\n  addKeyword(ajv, \"undefinedAsNull\", {\n    modifying: true,\n\n    /**\n     * @param {boolean} kwVal\n     * @param {unknown} data\n     * @param {any} parentSchema\n     * @param {string} dataPath\n     * @param {unknown} parentData\n     * @param {number | string} parentDataProperty\n     * @return {boolean}\n     */\n    validate(kwVal, data, parentSchema, dataPath, parentData, parentDataProperty) {\n      if (kwVal && parentSchema && typeof parentSchema.enum !== \"undefined\" && parentData && typeof parentDataProperty === \"number\") {\n        const idx =\n        /** @type {number} */\n        parentDataProperty;\n        const parentDataRef =\n        /** @type {any[]} */\n        parentData;\n\n        if (typeof parentDataRef[idx] === \"undefined\") {\n          parentDataRef[idx] = null;\n        }\n      }\n\n      return true;\n    }\n\n  });\n  return ajv;\n}\n\nvar _default = addUndefinedAsNullKeyword;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}
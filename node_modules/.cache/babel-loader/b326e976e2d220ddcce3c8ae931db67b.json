{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst {\n  JAVASCRIPT_MODULE_TYPE_AUTO,\n  JSON_MODULE_TYPE,\n  WEBASSEMBLY_MODULE_TYPE_ASYNC,\n  JAVASCRIPT_MODULE_TYPE_ESM,\n  JAVASCRIPT_MODULE_TYPE_DYNAMIC,\n  WEBASSEMBLY_MODULE_TYPE_SYNC,\n  ASSET_MODULE_TYPE,\n  CSS_MODULE_TYPE_AUTO,\n  CSS_MODULE_TYPE,\n  CSS_MODULE_TYPE_MODULE\n} = require(\"../ModuleTypeConstants\");\n\nconst Template = require(\"../Template\");\n\nconst {\n  cleverMerge\n} = require(\"../util/cleverMerge\");\n\nconst {\n  getTargetsProperties,\n  getTargetProperties,\n  getDefaultTarget\n} = require(\"./target\");\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Context} Context */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryStaticNormalized} EntryStaticNormalized */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Environment} Environment */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").FileCacheOptions} FileCacheOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryType} LibraryType */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").OptimizationSplitChunksOptions} OptimizationSplitChunksOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ParserOptionsByModuleTypeKnown} ParserOptionsByModuleTypeKnown */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\n/** @typedef {import(\"../Module\")} Module */\n\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n/**\n * Sets a constant default value when undefined\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {T[P]} value a default value of the property\n * @returns {void}\n */\n\nconst D = (obj, prop, value) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = value;\n  }\n};\n/**\n * Sets a dynamic default value when undefined, by calling the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\n\n\nconst F = (obj, prop, factory) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = factory();\n  }\n};\n/**\n * Sets a dynamic default value when undefined, by calling the factory function.\n * factory must return an array or undefined\n * When the current value is already an array an contains \"...\" it's replaced with\n * the result of the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\n\n\nconst A = (obj, prop, factory) => {\n  const value = obj[prop];\n\n  if (value === undefined) {\n    obj[prop] = factory();\n  } else if (Array.isArray(value)) {\n    /** @type {any[] | undefined} */\n    let newArray = undefined;\n\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n\n      if (item === \"...\") {\n        if (newArray === undefined) {\n          newArray = value.slice(0, i);\n          obj[prop] =\n          /** @type {T[P]} */\n\n          /** @type {unknown} */\n          newArray;\n        }\n\n        const items =\n        /** @type {any[]} */\n\n        /** @type {unknown} */\n        factory();\n\n        if (items !== undefined) {\n          for (const item of items) {\n            newArray.push(item);\n          }\n        }\n      } else if (newArray !== undefined) {\n        newArray.push(item);\n      }\n    }\n  }\n};\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\n\n\nconst applyWebpackOptionsBaseDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  applyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\n\n\nconst applyWebpackOptionsDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  F(options, \"target\", () => {\n    return getDefaultTarget(\n    /** @type {string} */\n    options.context);\n  });\n  const {\n    mode,\n    name,\n    target\n  } = options;\n  let targetProperties = target === false ?\n  /** @type {false} */\n  false : typeof target === \"string\" ? getTargetProperties(target,\n  /** @type {Context} */\n  options.context) : getTargetsProperties(\n  /** @type {string[]} */\n  target,\n  /** @type {Context} */\n  options.context);\n  const development = mode === \"development\";\n  const production = mode === \"production\" || !mode;\n\n  if (typeof options.entry !== \"function\") {\n    for (const key of Object.keys(options.entry)) {\n      F(options.entry[key], \"import\", () =>\n      /** @type {[string]} */\n      [\"./src\"]);\n    }\n  }\n\n  F(options, \"devtool\", () => development ? \"eval\" : false);\n  D(options, \"watch\", false);\n  D(options, \"profile\", false);\n  D(options, \"parallelism\", 100);\n  D(options, \"recordsInputPath\", false);\n  D(options, \"recordsOutputPath\", false);\n  applyExperimentsDefaults(options.experiments, {\n    production,\n    development,\n    targetProperties\n  });\n  const futureDefaults =\n  /** @type {NonNullable<ExperimentsNormalized[\"futureDefaults\"]>} */\n  options.experiments.futureDefaults;\n  F(options, \"cache\", () => development ? {\n    type:\n    /** @type {\"memory\"} */\n    \"memory\"\n  } : false);\n  applyCacheDefaults(options.cache, {\n    name: name || \"default\",\n    mode: mode || \"production\",\n    development,\n    cacheUnaffected: options.experiments.cacheUnaffected\n  });\n  const cache = !!options.cache;\n  applySnapshotDefaults(options.snapshot, {\n    production,\n    futureDefaults\n  });\n  applyModuleDefaults(options.module, {\n    cache,\n    syncWebAssembly:\n    /** @type {NonNullable<ExperimentsNormalized[\"syncWebAssembly\"]>} */\n    options.experiments.syncWebAssembly,\n    asyncWebAssembly:\n    /** @type {NonNullable<ExperimentsNormalized[\"asyncWebAssembly\"]>} */\n    options.experiments.asyncWebAssembly,\n    css:\n    /** @type {NonNullable<ExperimentsNormalized[\"css\"]>} */\n    options.experiments.css,\n    futureDefaults,\n    isNode: targetProperties && targetProperties.node === true\n  });\n  applyOutputDefaults(options.output, {\n    context:\n    /** @type {Context} */\n    options.context,\n    targetProperties,\n    isAffectedByBrowserslist: target === undefined || typeof target === \"string\" && target.startsWith(\"browserslist\") || Array.isArray(target) && target.some(target => target.startsWith(\"browserslist\")),\n    outputModule:\n    /** @type {NonNullable<ExperimentsNormalized[\"outputModule\"]>} */\n    options.experiments.outputModule,\n    development,\n    entry: options.entry,\n    module: options.module,\n    futureDefaults\n  });\n  applyExternalsPresetsDefaults(options.externalsPresets, {\n    targetProperties,\n    buildHttp: !!options.experiments.buildHttp\n  });\n  applyLoaderDefaults(\n  /** @type {NonNullable<WebpackOptions[\"loader\"]>} */\n  options.loader, {\n    targetProperties,\n    environment: options.output.environment\n  });\n  F(options, \"externalsType\", () => {\n    const validExternalTypes = require(\"../../schemas/WebpackOptions.json\").definitions.ExternalsType.enum;\n\n    return options.output.library && validExternalTypes.includes(options.output.library.type) ?\n    /** @type {ExternalsType} */\n    options.output.library.type : options.output.module ? \"module\" : \"var\";\n  });\n  applyNodeDefaults(options.node, {\n    futureDefaults:\n    /** @type {NonNullable<WebpackOptions[\"experiments\"][\"futureDefaults\"]>} */\n    options.experiments.futureDefaults,\n    targetProperties\n  });\n  F(options, \"performance\", () => production && targetProperties && (targetProperties.browser || targetProperties.browser === null) ? {} : false);\n  applyPerformanceDefaults(\n  /** @type {NonNullable<WebpackOptions[\"performance\"]>} */\n  options.performance, {\n    production\n  });\n  applyOptimizationDefaults(options.optimization, {\n    development,\n    production,\n    css:\n    /** @type {NonNullable<ExperimentsNormalized[\"css\"]>} */\n    options.experiments.css,\n    records: !!(options.recordsInputPath || options.recordsOutputPath)\n  });\n  options.resolve = cleverMerge(getResolveDefaults({\n    cache,\n    context:\n    /** @type {Context} */\n    options.context,\n    targetProperties,\n    mode:\n    /** @type {Mode} */\n    options.mode,\n    css:\n    /** @type {NonNullable<ExperimentsNormalized[\"css\"]>} */\n    options.experiments.css\n  }), options.resolve);\n  options.resolveLoader = cleverMerge(getResolveLoaderDefaults({\n    cache\n  }), options.resolveLoader);\n};\n/**\n * @param {ExperimentsNormalized} experiments options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development mode\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\n\n\nconst applyExperimentsDefaults = (experiments, _ref) => {\n  let {\n    production,\n    development,\n    targetProperties\n  } = _ref;\n  D(experiments, \"futureDefaults\", false);\n  D(experiments, \"backCompat\", !experiments.futureDefaults);\n  D(experiments, \"syncWebAssembly\", false);\n  D(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n  D(experiments, \"outputModule\", false);\n  D(experiments, \"layers\", false);\n  D(experiments, \"lazyCompilation\", undefined);\n  D(experiments, \"buildHttp\", undefined);\n  D(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n  F(experiments, \"css\", () => experiments.futureDefaults ? {} : undefined); // TODO webpack 6: remove this. topLevelAwait should be enabled by default\n\n  let shouldEnableTopLevelAwait = true;\n\n  if (typeof experiments.topLevelAwait === \"boolean\") {\n    shouldEnableTopLevelAwait = experiments.topLevelAwait;\n  }\n\n  D(experiments, \"topLevelAwait\", shouldEnableTopLevelAwait);\n\n  if (typeof experiments.buildHttp === \"object\") {\n    D(experiments.buildHttp, \"frozen\", production);\n    D(experiments.buildHttp, \"upgrade\", false);\n  }\n\n  if (typeof experiments.css === \"object\") {\n    D(experiments.css, \"exportsOnly\", !targetProperties || !targetProperties.document);\n  }\n};\n/**\n * @param {CacheOptions} cache options\n * @param {Object} options options\n * @param {string} options.name name\n * @param {Mode} options.mode mode\n * @param {boolean} options.development is development mode\n * @param {Experiments[\"cacheUnaffected\"]} options.cacheUnaffected the cacheUnaffected experiment is enabled\n * @returns {void}\n */\n\n\nconst applyCacheDefaults = (cache, _ref2) => {\n  let {\n    name,\n    mode,\n    development,\n    cacheUnaffected\n  } = _ref2;\n  if (cache === false) return;\n\n  switch (cache.type) {\n    case \"filesystem\":\n      F(cache, \"name\", () => name + \"-\" + mode);\n      D(cache, \"version\", \"\");\n      F(cache, \"cacheDirectory\", () => {\n        const cwd = process.cwd();\n        /** @type {string | undefined} */\n\n        let dir = cwd;\n\n        for (;;) {\n          try {\n            if (fs.statSync(path.join(dir, \"package.json\")).isFile()) break; // eslint-disable-next-line no-empty\n          } catch (e) {}\n\n          const parent = path.dirname(dir);\n\n          if (dir === parent) {\n            dir = undefined;\n            break;\n          }\n\n          dir = parent;\n        }\n\n        if (!dir) {\n          return path.resolve(cwd, \".cache/webpack\");\n        } else if (process.versions.pnp === \"1\") {\n          return path.resolve(dir, \".pnp/.cache/webpack\");\n        } else if (process.versions.pnp === \"3\") {\n          return path.resolve(dir, \".yarn/.cache/webpack\");\n        } else {\n          return path.resolve(dir, \"node_modules/.cache/webpack\");\n        }\n      });\n      F(cache, \"cacheLocation\", () => path.resolve(\n      /** @type {NonNullable<FileCacheOptions[\"cacheDirectory\"]>} */\n      cache.cacheDirectory,\n      /** @type {NonNullable<FileCacheOptions[\"name\"]>} */\n      cache.name));\n      D(cache, \"hashAlgorithm\", \"md4\");\n      D(cache, \"store\", \"pack\");\n      D(cache, \"compression\", false);\n      D(cache, \"profile\", false);\n      D(cache, \"idleTimeout\", 60000);\n      D(cache, \"idleTimeoutForInitialStore\", 5000);\n      D(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n      D(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n      D(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n\n      D(cache, \"allowCollectingMemory\", development);\n      D(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n      D(cache, \"readonly\", false);\n      D(\n      /** @type {NonNullable<FileCacheOptions[\"buildDependencies\"]>} */\n      cache.buildDependencies, \"defaultWebpack\", [path.resolve(__dirname, \"..\") + path.sep]);\n      break;\n\n    case \"memory\":\n      D(cache, \"maxGenerations\", Infinity);\n      D(cache, \"cacheUnaffected\", development && cacheUnaffected);\n      break;\n  }\n};\n/**\n * @param {SnapshotOptions} snapshot options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applySnapshotDefaults = (snapshot, _ref3) => {\n  let {\n    production,\n    futureDefaults\n  } = _ref3;\n\n  if (futureDefaults) {\n    F(snapshot, \"managedPaths\", () => process.versions.pnp === \"3\" ? [/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/] : [/^(.+?[\\\\/]node_modules[\\\\/])/]);\n    F(snapshot, \"immutablePaths\", () => process.versions.pnp === \"3\" ? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/] : []);\n  } else {\n    A(snapshot, \"managedPaths\", () => {\n      if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [path.resolve(match[1], \"unplugged\")];\n        }\n      } else {\n        const match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec( // eslint-disable-next-line node/no-extraneous-require\n        require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      }\n\n      return [];\n    });\n    A(snapshot, \"immutablePaths\", () => {\n      if (process.versions.pnp === \"1\") {\n        const match = /^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      } else if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      }\n\n      return [];\n    });\n  }\n\n  F(snapshot, \"resolveBuildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"buildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"module\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n  F(snapshot, \"resolve\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n};\n/**\n * @param {JavascriptParserOptions} parserOptions parser options\n * @param {Object} options options\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\n\n\nconst applyJavascriptParserOptionsDefaults = (parserOptions, _ref4) => {\n  let {\n    futureDefaults,\n    isNode\n  } = _ref4;\n  D(parserOptions, \"unknownContextRequest\", \".\");\n  D(parserOptions, \"unknownContextRegExp\", false);\n  D(parserOptions, \"unknownContextRecursive\", true);\n  D(parserOptions, \"unknownContextCritical\", true);\n  D(parserOptions, \"exprContextRequest\", \".\");\n  D(parserOptions, \"exprContextRegExp\", false);\n  D(parserOptions, \"exprContextRecursive\", true);\n  D(parserOptions, \"exprContextCritical\", true);\n  D(parserOptions, \"wrappedContextRegExp\", /.*/);\n  D(parserOptions, \"wrappedContextRecursive\", true);\n  D(parserOptions, \"wrappedContextCritical\", false);\n  D(parserOptions, \"strictThisContextOnImports\", false);\n  D(parserOptions, \"importMeta\", true);\n  D(parserOptions, \"dynamicImportMode\", \"lazy\");\n  D(parserOptions, \"dynamicImportPrefetch\", false);\n  D(parserOptions, \"dynamicImportPreload\", false);\n  D(parserOptions, \"dynamicImportFetchPriority\", false);\n  D(parserOptions, \"createRequire\", isNode);\n  if (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n/**\n * @param {ModuleOptions} module options\n * @param {Object} options options\n * @param {boolean} options.cache is caching enabled\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\n * @param {CssExperimentOptions|false} options.css is css enabled\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\n\n\nconst applyModuleDefaults = (module, _ref5) => {\n  let {\n    cache,\n    syncWebAssembly,\n    asyncWebAssembly,\n    css,\n    futureDefaults,\n    isNode\n  } = _ref5;\n\n  if (cache) {\n    D(module, \"unsafeCache\",\n    /**\n     * @param {Module} module module\n     * @returns {boolean | null | string} true, if we want to cache the module\n     */\n    module => {\n      const name = module.nameForCondition();\n      return name && NODE_MODULES_REGEXP.test(name);\n    });\n  } else {\n    D(module, \"unsafeCache\", false);\n  }\n\n  F(module.parser, ASSET_MODULE_TYPE, () => ({}));\n  F(\n  /** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"asset\"]>} */\n  module.parser.asset, \"dataUrlCondition\", () => ({}));\n\n  if (typeof\n  /** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"asset\"]>} */\n  module.parser.asset.dataUrlCondition === \"object\") {\n    D(\n    /** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"asset\"]>} */\n    module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\n  }\n\n  F(module.parser, \"javascript\", () => ({}));\n  applyJavascriptParserOptionsDefaults(\n  /** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"javascript\"]>} */\n  module.parser.javascript, {\n    futureDefaults,\n    isNode\n  });\n  A(module, \"defaultRules\", () => {\n    const esm = {\n      type: JAVASCRIPT_MODULE_TYPE_ESM,\n      resolve: {\n        byDependency: {\n          esm: {\n            fullySpecified: true\n          }\n        }\n      }\n    };\n    const commonjs = {\n      type: JAVASCRIPT_MODULE_TYPE_DYNAMIC\n    };\n    /** @type {RuleSetRules} */\n\n    const rules = [{\n      mimetype: \"application/node\",\n      type: JAVASCRIPT_MODULE_TYPE_AUTO\n    }, {\n      test: /\\.json$/i,\n      type: JSON_MODULE_TYPE\n    }, {\n      mimetype: \"application/json\",\n      type: JSON_MODULE_TYPE\n    }, {\n      test: /\\.mjs$/i,\n      ...esm\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"module\"\n      },\n      ...esm\n    }, {\n      test: /\\.cjs$/i,\n      ...commonjs\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"commonjs\"\n      },\n      ...commonjs\n    }, {\n      mimetype: {\n        or: [\"text/javascript\", \"application/javascript\"]\n      },\n      ...esm\n    }];\n\n    if (asyncWebAssembly) {\n      const wasm = {\n        type: WEBASSEMBLY_MODULE_TYPE_ASYNC,\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    } else if (syncWebAssembly) {\n      const wasm = {\n        type: WEBASSEMBLY_MODULE_TYPE_SYNC,\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    }\n\n    if (css) {\n      const resolve = {\n        fullySpecified: true,\n        preferRelative: true\n      };\n      rules.push({\n        test: /\\.css$/i,\n        type: CSS_MODULE_TYPE_AUTO,\n        resolve\n      });\n      rules.push({\n        mimetype: \"text/css+module\",\n        type: CSS_MODULE_TYPE_MODULE,\n        resolve\n      });\n      rules.push({\n        mimetype: \"text/css\",\n        type: CSS_MODULE_TYPE,\n        resolve\n      });\n    }\n\n    rules.push({\n      dependency: \"url\",\n      oneOf: [{\n        scheme: /^data$/,\n        type: \"asset/inline\"\n      }, {\n        type: \"asset/resource\"\n      }]\n    }, {\n      assert: {\n        type: \"json\"\n      },\n      type: JSON_MODULE_TYPE\n    });\n    return rules;\n  });\n};\n/**\n * @param {Output} output options\n * @param {Object} options options\n * @param {string} options.context context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\n * @param {boolean} options.outputModule is outputModule experiment enabled\n * @param {boolean} options.development is development mode\n * @param {Entry} options.entry entry option\n * @param {ModuleOptions} options.module module option\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyOutputDefaults = (output, _ref6) => {\n  let {\n    context,\n    targetProperties: tp,\n    isAffectedByBrowserslist,\n    outputModule,\n    development,\n    entry,\n    module,\n    futureDefaults\n  } = _ref6;\n\n  /**\n   * @param {Library=} library the library option\n   * @returns {string} a readable library name\n   */\n  const getLibraryName = library => {\n    const libraryName = typeof library === \"object\" && library && !Array.isArray(library) && \"type\" in library ? library.name :\n    /** @type {LibraryName} */\n    library;\n\n    if (Array.isArray(libraryName)) {\n      return libraryName.join(\".\");\n    } else if (typeof libraryName === \"object\") {\n      return getLibraryName(libraryName.root);\n    } else if (typeof libraryName === \"string\") {\n      return libraryName;\n    }\n\n    return \"\";\n  };\n\n  F(output, \"uniqueName\", () => {\n    const libraryName = getLibraryName(output.library).replace(/^\\[(\\\\*[\\w:]+\\\\*)\\](\\.)|(\\.)\\[(\\\\*[\\w:]+\\\\*)\\](?=\\.|$)|\\[(\\\\*[\\w:]+\\\\*)\\]/g, (m, a, d1, d2, b, c) => {\n      const content = a || b || c;\n      return content.startsWith(\"\\\\\") && content.endsWith(\"\\\\\") ? `${d2 || \"\"}[${content.slice(1, -1)}]${d1 || \"\"}` : \"\";\n    });\n    if (libraryName) return libraryName;\n    const pkgPath = path.resolve(context, \"package.json\");\n\n    try {\n      const packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n      return packageInfo.name || \"\";\n    } catch (e) {\n      if (\n      /** @type {Error & { code: string }} */\n      e.code !== \"ENOENT\") {\n        /** @type {Error & { code: string }} */\n        e.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n        throw e;\n      }\n\n      return \"\";\n    }\n  });\n  F(output, \"module\", () => !!outputModule);\n  D(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n  F(output, \"iife\", () => !output.module);\n  D(output, \"importFunctionName\", \"import\");\n  D(output, \"importMetaName\", \"import.meta\");\n  F(output, \"chunkFilename\", () => {\n    const filename =\n    /** @type {NonNullable<Output[\"chunkFilename\"]>} */\n    output.filename;\n\n    if (typeof filename !== \"function\") {\n      const hasName = filename.includes(\"[name]\");\n      const hasId = filename.includes(\"[id]\");\n      const hasChunkHash = filename.includes(\"[chunkhash]\");\n      const hasContentHash = filename.includes(\"[contenthash]\"); // Anything changing depending on chunk is fine\n\n      if (hasChunkHash || hasContentHash || hasName || hasId) return filename; // Otherwise prefix \"[id].\" in front of the basename to make it changing\n\n      return filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n    }\n\n    return output.module ? \"[id].mjs\" : \"[id].js\";\n  });\n  F(output, \"cssFilename\", () => {\n    const filename =\n    /** @type {NonNullable<Output[\"cssFilename\"]>} */\n    output.filename;\n\n    if (typeof filename !== \"function\") {\n      return filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n\n    return \"[id].css\";\n  });\n  F(output, \"cssChunkFilename\", () => {\n    const chunkFilename =\n    /** @type {NonNullable<Output[\"cssChunkFilename\"]>} */\n    output.chunkFilename;\n\n    if (typeof chunkFilename !== \"function\") {\n      return chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n\n    return \"[id].css\";\n  });\n  D(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n  D(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n  D(output, \"compareBeforeEmit\", true);\n  D(output, \"charset\", true);\n  F(output, \"hotUpdateGlobal\", () => Template.toIdentifier(\"webpackHotUpdate\" + Template.toIdentifier(\n  /** @type {NonNullable<Output[\"uniqueName\"]>} */\n  output.uniqueName)));\n  F(output, \"chunkLoadingGlobal\", () => Template.toIdentifier(\"webpackChunk\" + Template.toIdentifier(\n  /** @type {NonNullable<Output[\"uniqueName\"]>} */\n  output.uniqueName)));\n  F(output, \"globalObject\", () => {\n    if (tp) {\n      if (tp.global) return \"global\";\n      if (tp.globalThis) return \"globalThis\";\n    }\n\n    return \"self\";\n  });\n  F(output, \"chunkFormat\", () => {\n    if (tp) {\n      const helpMessage = isAffectedByBrowserslist ? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\" : \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n\n      if (output.module) {\n        if (tp.dynamicImport) return \"module\";\n        if (tp.document) return \"array-push\";\n        throw new Error(\"For the selected environment is no default ESM chunk format available:\\n\" + \"ESM exports can be chosen when 'import()' is available.\\n\" + \"JSONP Array push can be chosen when 'document' is available.\\n\" + helpMessage);\n      } else {\n        if (tp.document) return \"array-push\";\n        if (tp.require) return \"commonjs\";\n        if (tp.nodeBuiltins) return \"commonjs\";\n        if (tp.importScripts) return \"array-push\";\n        throw new Error(\"For the selected environment is no default script chunk format available:\\n\" + \"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" + \"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" + helpMessage);\n      }\n    }\n\n    throw new Error(\"Chunk format can't be selected by default when no target is specified\");\n  });\n  D(output, \"asyncChunks\", true);\n  F(output, \"chunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.document) return \"jsonp\";\n          if (tp.importScripts) return \"import-scripts\";\n          break;\n\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n\n        case \"module\":\n          if (tp.dynamicImport) return \"import\";\n          break;\n      }\n\n      if (tp.require === null || tp.nodeBuiltins === null || tp.document === null || tp.importScripts === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"workerChunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.importScriptsInWorker) return \"import-scripts\";\n          break;\n\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n\n        case \"module\":\n          if (tp.dynamicImportInWorker) return \"import\";\n          break;\n      }\n\n      if (tp.require === null || tp.nodeBuiltins === null || tp.importScriptsInWorker === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"wasmLoading\", () => {\n    if (tp) {\n      if (tp.fetchWasm) return \"fetch\";\n      if (tp.nodeBuiltins) return output.module ? \"async-node-module\" : \"async-node\";\n\n      if (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"workerWasmLoading\", () => output.wasmLoading);\n  F(output, \"devtoolNamespace\", () => output.uniqueName);\n\n  if (output.library) {\n    F(output.library, \"type\", () => output.module ? \"module\" : \"var\");\n  }\n\n  F(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n  F(output, \"pathinfo\", () => development);\n  D(output, \"sourceMapFilename\", \"[file].map[query]\");\n  D(output, \"hotUpdateChunkFilename\", `[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`);\n  D(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n  D(output, \"crossOriginLoading\", false);\n  F(output, \"scriptType\", () => output.module ? \"module\" : false);\n  D(output, \"publicPath\", tp && (tp.document || tp.importScripts) || output.scriptType === \"module\" ? \"auto\" : \"\");\n  D(output, \"workerPublicPath\", \"\");\n  D(output, \"chunkLoadTimeout\", 120000);\n  D(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n  D(output, \"hashDigest\", \"hex\");\n  D(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n  D(output, \"strictModuleExceptionHandling\", false);\n  const environment =\n  /** @type {Environment} */\n  output.environment;\n  /**\n   * @param {boolean | undefined} v value\n   * @returns {boolean} true, when v is truthy or undefined\n   */\n\n  const optimistic = v => v || v === undefined;\n  /**\n   * @param {boolean | undefined} v value\n   * @param {boolean | undefined} c condition\n   * @returns {boolean | undefined} true, when v is truthy or undefined, or c is truthy\n   */\n\n\n  const conditionallyOptimistic = (v, c) => v === undefined && c || v;\n\n  F(environment, \"globalThis\", () =>\n  /** @type {boolean | undefined} */\n  tp && tp.globalThis);\n  F(environment, \"bigIntLiteral\", () =>\n  /** @type {boolean | undefined} */\n  tp && tp.bigIntLiteral);\n  F(environment, \"const\", () => tp && optimistic(\n  /** @type {boolean | undefined} */\n  tp.const));\n  F(environment, \"arrowFunction\", () => tp && optimistic(\n  /** @type {boolean | undefined} */\n  tp.arrowFunction));\n  F(environment, \"forOf\", () => tp && optimistic(\n  /** @type {boolean | undefined} */\n  tp.forOf));\n  F(environment, \"destructuring\", () => tp && optimistic(\n  /** @type {boolean | undefined} */\n  tp.destructuring));\n  F(environment, \"optionalChaining\", () => tp && optimistic(\n  /** @type {boolean | undefined} */\n  tp.optionalChaining));\n  F(environment, \"templateLiteral\", () => tp && optimistic(\n  /** @type {boolean | undefined} */\n  tp.templateLiteral));\n  F(environment, \"dynamicImport\", () => conditionallyOptimistic(\n  /** @type {boolean | undefined} */\n  tp && tp.dynamicImport, output.module));\n  F(environment, \"dynamicImportInWorker\", () => conditionallyOptimistic(\n  /** @type {boolean | undefined} */\n  tp && tp.dynamicImportInWorker, output.module));\n  F(environment, \"module\", () => conditionallyOptimistic(\n  /** @type {boolean | undefined} */\n  tp && tp.module, output.module));\n  const {\n    trustedTypes\n  } = output;\n\n  if (trustedTypes) {\n    F(trustedTypes, \"policyName\", () =>\n    /** @type {NonNullable<Output[\"uniqueName\"]>} */\n    output.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\");\n    D(trustedTypes, \"onPolicyCreationFailure\", \"stop\");\n  }\n  /**\n   * @param {function(EntryDescription): void} fn iterator\n   * @returns {void}\n   */\n\n\n  const forEachEntry = fn => {\n    for (const name of Object.keys(entry)) {\n      fn(\n      /** @type {{[k: string] : EntryDescription}} */\n      entry[name]);\n    }\n  };\n\n  A(output, \"enabledLibraryTypes\", () => {\n    /** @type {LibraryType[]} */\n    const enabledLibraryTypes = [];\n\n    if (output.library) {\n      enabledLibraryTypes.push(output.library.type);\n    }\n\n    forEachEntry(desc => {\n      if (desc.library) {\n        enabledLibraryTypes.push(desc.library.type);\n      }\n    });\n    return enabledLibraryTypes;\n  });\n  A(output, \"enabledChunkLoadingTypes\", () => {\n    const enabledChunkLoadingTypes = new Set();\n\n    if (output.chunkLoading) {\n      enabledChunkLoadingTypes.add(output.chunkLoading);\n    }\n\n    if (output.workerChunkLoading) {\n      enabledChunkLoadingTypes.add(output.workerChunkLoading);\n    }\n\n    forEachEntry(desc => {\n      if (desc.chunkLoading) {\n        enabledChunkLoadingTypes.add(desc.chunkLoading);\n      }\n    });\n    return Array.from(enabledChunkLoadingTypes);\n  });\n  A(output, \"enabledWasmLoadingTypes\", () => {\n    const enabledWasmLoadingTypes = new Set();\n\n    if (output.wasmLoading) {\n      enabledWasmLoadingTypes.add(output.wasmLoading);\n    }\n\n    if (output.workerWasmLoading) {\n      enabledWasmLoadingTypes.add(output.workerWasmLoading);\n    }\n\n    forEachEntry(desc => {\n      if (desc.wasmLoading) {\n        enabledWasmLoadingTypes.add(desc.wasmLoading);\n      }\n    });\n    return Array.from(enabledWasmLoadingTypes);\n  });\n};\n/**\n * @param {ExternalsPresets} externalsPresets options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.buildHttp buildHttp experiment enabled\n * @returns {void}\n */\n\n\nconst applyExternalsPresetsDefaults = (externalsPresets, _ref7) => {\n  let {\n    targetProperties,\n    buildHttp\n  } = _ref7;\n  D(externalsPresets, \"web\",\n  /** @type {boolean | undefined} */\n  !buildHttp && targetProperties && targetProperties.web);\n  D(externalsPresets, \"node\",\n  /** @type {boolean | undefined} */\n  targetProperties && targetProperties.node);\n  D(externalsPresets, \"nwjs\",\n  /** @type {boolean | undefined} */\n  targetProperties && targetProperties.nwjs);\n  D(externalsPresets, \"electron\",\n  /** @type {boolean | undefined} */\n  targetProperties && targetProperties.electron);\n  D(externalsPresets, \"electronMain\",\n  /** @type {boolean | undefined} */\n  targetProperties && targetProperties.electron && targetProperties.electronMain);\n  D(externalsPresets, \"electronPreload\",\n  /** @type {boolean | undefined} */\n  targetProperties && targetProperties.electron && targetProperties.electronPreload);\n  D(externalsPresets, \"electronRenderer\",\n  /** @type {boolean | undefined} */\n  targetProperties && targetProperties.electron && targetProperties.electronRenderer);\n};\n/**\n * @param {Loader} loader options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Environment} options.environment environment\n * @returns {void}\n */\n\n\nconst applyLoaderDefaults = (loader, _ref8) => {\n  let {\n    targetProperties,\n    environment\n  } = _ref8;\n  F(loader, \"target\", () => {\n    if (targetProperties) {\n      if (targetProperties.electron) {\n        if (targetProperties.electronMain) return \"electron-main\";\n        if (targetProperties.electronPreload) return \"electron-preload\";\n        if (targetProperties.electronRenderer) return \"electron-renderer\";\n        return \"electron\";\n      }\n\n      if (targetProperties.nwjs) return \"nwjs\";\n      if (targetProperties.node) return \"node\";\n      if (targetProperties.web) return \"web\";\n    }\n  });\n  D(loader, \"environment\", environment);\n};\n/**\n * @param {WebpackNode} node options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyNodeDefaults = (node, _ref9) => {\n  let {\n    futureDefaults,\n    targetProperties\n  } = _ref9;\n  if (node === false) return;\n  F(node, \"global\", () => {\n    if (targetProperties && targetProperties.global) return false; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn\" : true;\n  });\n  F(node, \"__filename\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\"; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n  F(node, \"__dirname\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\"; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n};\n/**\n * @param {Performance} performance options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @returns {void}\n */\n\n\nconst applyPerformanceDefaults = (performance, _ref10) => {\n  let {\n    production\n  } = _ref10;\n  if (performance === false) return;\n  D(performance, \"maxAssetSize\", 250000);\n  D(performance, \"maxEntrypointSize\", 250000);\n  F(performance, \"hints\", () => production ? \"warning\" : false);\n};\n/**\n * @param {Optimization} optimization options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development\n * @param {CssExperimentOptions|false} options.css is css enabled\n * @param {boolean} options.records using records\n * @returns {void}\n */\n\n\nconst applyOptimizationDefaults = (optimization, _ref11) => {\n  let {\n    production,\n    development,\n    css,\n    records\n  } = _ref11;\n  D(optimization, \"removeAvailableModules\", false);\n  D(optimization, \"removeEmptyChunks\", true);\n  D(optimization, \"mergeDuplicateChunks\", true);\n  D(optimization, \"flagIncludedChunks\", production);\n  F(optimization, \"moduleIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"chunkIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"sideEffects\", () => production ? true : \"flag\");\n  D(optimization, \"providedExports\", true);\n  D(optimization, \"usedExports\", production);\n  D(optimization, \"innerGraph\", production);\n  D(optimization, \"mangleExports\", production);\n  D(optimization, \"concatenateModules\", production);\n  D(optimization, \"runtimeChunk\", false);\n  D(optimization, \"emitOnErrors\", !production);\n  D(optimization, \"checkWasmTypes\", production);\n  D(optimization, \"mangleWasmImports\", false);\n  D(optimization, \"portableRecords\", records);\n  D(optimization, \"realContentHash\", production);\n  D(optimization, \"minimize\", production);\n  A(optimization, \"minimizer\", () => [{\n    apply: compiler => {\n      // Lazy load the Terser plugin\n      const TerserPlugin = require(\"terser-webpack-plugin\");\n\n      new TerserPlugin({\n        terserOptions: {\n          compress: {\n            passes: 2\n          }\n        }\n      }).apply(compiler);\n    }\n  }]);\n  F(optimization, \"nodeEnv\", () => {\n    if (production) return \"production\";\n    if (development) return \"development\";\n    return false;\n  });\n  const {\n    splitChunks\n  } = optimization;\n\n  if (splitChunks) {\n    A(splitChunks, \"defaultSizeTypes\", () => css ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]);\n    D(splitChunks, \"hidePathInfo\", production);\n    D(splitChunks, \"chunks\", \"async\");\n    D(splitChunks, \"usedExports\", optimization.usedExports === true);\n    D(splitChunks, \"minChunks\", 1);\n    F(splitChunks, \"minSize\", () => production ? 20000 : 10000);\n    F(splitChunks, \"minRemainingSize\", () => development ? 0 : undefined);\n    F(splitChunks, \"enforceSizeThreshold\", () => production ? 50000 : 30000);\n    F(splitChunks, \"maxAsyncRequests\", () => production ? 30 : Infinity);\n    F(splitChunks, \"maxInitialRequests\", () => production ? 30 : Infinity);\n    D(splitChunks, \"automaticNameDelimiter\", \"-\");\n    const cacheGroups =\n    /** @type {NonNullable<OptimizationSplitChunksOptions[\"cacheGroups\"]>} */\n    splitChunks.cacheGroups;\n    F(cacheGroups, \"default\", () => ({\n      idHint: \"\",\n      reuseExistingChunk: true,\n      minChunks: 2,\n      priority: -20\n    }));\n    F(cacheGroups, \"defaultVendors\", () => ({\n      idHint: \"vendors\",\n      reuseExistingChunk: true,\n      test: NODE_MODULES_REGEXP,\n      priority: -10\n    }));\n  }\n};\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @param {string} options.context build context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Mode} options.mode mode\n * @param {CssExperimentOptions|false} options.css is css enabled\n * @returns {ResolveOptions} resolve options\n */\n\n\nconst getResolveDefaults = _ref12 => {\n  let {\n    cache,\n    context,\n    targetProperties,\n    mode,\n    css\n  } = _ref12;\n\n  /** @type {string[]} */\n  const conditions = [\"webpack\"];\n  conditions.push(mode === \"development\" ? \"development\" : \"production\");\n\n  if (targetProperties) {\n    if (targetProperties.webworker) conditions.push(\"worker\");\n    if (targetProperties.node) conditions.push(\"node\");\n    if (targetProperties.web) conditions.push(\"browser\");\n    if (targetProperties.electron) conditions.push(\"electron\");\n    if (targetProperties.nwjs) conditions.push(\"nwjs\");\n  }\n\n  const jsExtensions = [\".js\", \".json\", \".wasm\"];\n  const tp = targetProperties;\n  const browserField = tp && tp.web && (!tp.node || tp.electron && tp.electronRenderer);\n  /** @type {function(): ResolveOptions} */\n\n  const cjsDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"require\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {function(): ResolveOptions} */\n\n\n  const esmDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"import\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {ResolveOptions} */\n\n\n  const resolveOptions = {\n    cache,\n    modules: [\"node_modules\"],\n    conditionNames: conditions,\n    mainFiles: [\"index\"],\n    extensions: [],\n    aliasFields: [],\n    exportsFields: [\"exports\"],\n    roots: [context],\n    mainFields: [\"main\"],\n    byDependency: {\n      wasm: esmDeps(),\n      esm: esmDeps(),\n      loaderImport: esmDeps(),\n      url: {\n        preferRelative: true\n      },\n      worker: { ...esmDeps(),\n        preferRelative: true\n      },\n      commonjs: cjsDeps(),\n      amd: cjsDeps(),\n      // for backward-compat: loadModule\n      loader: cjsDeps(),\n      // for backward-compat: Custom Dependency\n      unknown: cjsDeps(),\n      // for backward-compat: getResolve without dependencyType\n      undefined: cjsDeps()\n    }\n  };\n\n  if (css) {\n    const styleConditions = [];\n    styleConditions.push(\"webpack\");\n    styleConditions.push(mode === \"development\" ? \"development\" : \"production\");\n    styleConditions.push(\"style\");\n    resolveOptions.byDependency[\"css-import\"] = {\n      // We avoid using any main files because we have to be consistent with CSS `@import`\n      // and CSS `@import` does not handle `main` files in directories,\n      // you should always specify the full URL for styles\n      mainFiles: [],\n      mainFields: [\"style\", \"...\"],\n      conditionNames: styleConditions,\n      extensions: [\".css\"]\n    };\n  }\n\n  return resolveOptions;\n};\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @returns {ResolveOptions} resolve options\n */\n\n\nconst getResolveLoaderDefaults = _ref13 => {\n  let {\n    cache\n  } = _ref13;\n\n  /** @type {ResolveOptions} */\n  const resolveOptions = {\n    cache,\n    conditionNames: [\"loader\", \"require\", \"node\"],\n    exportsFields: [\"exports\"],\n    mainFields: [\"loader\", \"main\"],\n    extensions: [\".js\"],\n    mainFiles: [\"index\"]\n  };\n  return resolveOptions;\n};\n/**\n * @param {InfrastructureLogging} infrastructureLogging options\n * @returns {void}\n */\n\n\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n  F(infrastructureLogging, \"stream\", () => process.stderr);\n  const tty =\n  /** @type {any} */\n  infrastructureLogging.stream.isTTY && process.env.TERM !== \"dumb\";\n  D(infrastructureLogging, \"level\", \"info\");\n  D(infrastructureLogging, \"debug\", false);\n  D(infrastructureLogging, \"colors\", tty);\n  D(infrastructureLogging, \"appendOnly\", !tty);\n};\n\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;","map":{"version":3,"sources":["/Users/zachjohnson/Desktop/ChatNYT/node_modules/webpack/lib/config/defaults.js"],"names":["fs","require","path","JAVASCRIPT_MODULE_TYPE_AUTO","JSON_MODULE_TYPE","WEBASSEMBLY_MODULE_TYPE_ASYNC","JAVASCRIPT_MODULE_TYPE_ESM","JAVASCRIPT_MODULE_TYPE_DYNAMIC","WEBASSEMBLY_MODULE_TYPE_SYNC","ASSET_MODULE_TYPE","CSS_MODULE_TYPE_AUTO","CSS_MODULE_TYPE","CSS_MODULE_TYPE_MODULE","Template","cleverMerge","getTargetsProperties","getTargetProperties","getDefaultTarget","NODE_MODULES_REGEXP","D","obj","prop","value","undefined","F","factory","A","Array","isArray","newArray","i","length","item","slice","items","push","applyWebpackOptionsBaseDefaults","options","process","cwd","applyInfrastructureLoggingDefaults","infrastructureLogging","applyWebpackOptionsDefaults","context","mode","name","target","targetProperties","development","production","entry","key","Object","keys","applyExperimentsDefaults","experiments","futureDefaults","type","applyCacheDefaults","cache","cacheUnaffected","applySnapshotDefaults","snapshot","applyModuleDefaults","module","syncWebAssembly","asyncWebAssembly","css","isNode","node","applyOutputDefaults","output","isAffectedByBrowserslist","startsWith","some","outputModule","applyExternalsPresetsDefaults","externalsPresets","buildHttp","applyLoaderDefaults","loader","environment","validExternalTypes","definitions","ExternalsType","enum","library","includes","applyNodeDefaults","browser","applyPerformanceDefaults","performance","applyOptimizationDefaults","optimization","records","recordsInputPath","recordsOutputPath","resolve","getResolveDefaults","resolveLoader","getResolveLoaderDefaults","shouldEnableTopLevelAwait","topLevelAwait","document","dir","statSync","join","isFile","e","parent","dirname","versions","pnp","cacheDirectory","Infinity","buildDependencies","__dirname","sep","match","exec","timestamp","hash","applyJavascriptParserOptionsDefaults","parserOptions","nameForCondition","test","parser","asset","dataUrlCondition","javascript","esm","byDependency","fullySpecified","commonjs","rules","mimetype","descriptionData","or","wasm","preferRelative","dependency","oneOf","scheme","assert","tp","getLibraryName","libraryName","root","replace","m","a","d1","d2","b","c","content","endsWith","pkgPath","packageInfo","JSON","parse","readFileSync","code","message","filename","hasName","hasId","hasChunkHash","hasContentHash","chunkFilename","toIdentifier","uniqueName","global","globalThis","helpMessage","dynamicImport","Error","nodeBuiltins","importScripts","chunkFormat","importScriptsInWorker","dynamicImportInWorker","fetchWasm","wasmLoading","scriptType","optimistic","v","conditionallyOptimistic","bigIntLiteral","const","arrowFunction","forOf","destructuring","optionalChaining","templateLiteral","trustedTypes","forEachEntry","fn","enabledLibraryTypes","desc","enabledChunkLoadingTypes","Set","chunkLoading","add","workerChunkLoading","from","enabledWasmLoadingTypes","workerWasmLoading","web","nwjs","electron","electronMain","electronPreload","electronRenderer","apply","compiler","TerserPlugin","terserOptions","compress","passes","splitChunks","usedExports","cacheGroups","idHint","reuseExistingChunk","minChunks","priority","conditions","webworker","jsExtensions","browserField","cjsDeps","aliasFields","mainFields","conditionNames","extensions","esmDeps","resolveOptions","modules","mainFiles","exportsFields","roots","loaderImport","url","worker","amd","unknown","styleConditions","stderr","tty","stream","isTTY","env","TERM","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AACLE,EAAAA,2BADK;AAELC,EAAAA,gBAFK;AAGLC,EAAAA,6BAHK;AAILC,EAAAA,0BAJK;AAKLC,EAAAA,8BALK;AAMLC,EAAAA,4BANK;AAOLC,EAAAA,iBAPK;AAQLC,EAAAA,oBARK;AASLC,EAAAA,eATK;AAULC,EAAAA;AAVK,IAWFX,OAAO,CAAC,wBAAD,CAXX;;AAYA,MAAMY,QAAQ,GAAGZ,OAAO,CAAC,aAAD,CAAxB;;AACA,MAAM;AAAEa,EAAAA;AAAF,IAAkBb,OAAO,CAAC,qBAAD,CAA/B;;AACA,MAAM;AACLc,EAAAA,oBADK;AAELC,EAAAA,mBAFK;AAGLC,EAAAA;AAHK,IAIFhB,OAAO,CAAC,UAAD,CAJX;AAMA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;AAEA,MAAMiB,mBAAmB,GAAG,yBAA5B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,CAAC,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,KAAZ,KAAsB;AAC/B,MAAIF,GAAG,CAACC,IAAD,CAAH,KAAcE,SAAlB,EAA6B;AAC5BH,IAAAA,GAAG,CAACC,IAAD,CAAH,GAAYC,KAAZ;AACA;AACD,CAJD;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAME,CAAC,GAAG,CAACJ,GAAD,EAAMC,IAAN,EAAYI,OAAZ,KAAwB;AACjC,MAAIL,GAAG,CAACC,IAAD,CAAH,KAAcE,SAAlB,EAA6B;AAC5BH,IAAAA,GAAG,CAACC,IAAD,CAAH,GAAYI,OAAO,EAAnB;AACA;AACD,CAJD;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,CAAC,GAAG,CAACN,GAAD,EAAMC,IAAN,EAAYI,OAAZ,KAAwB;AACjC,QAAMH,KAAK,GAAGF,GAAG,CAACC,IAAD,CAAjB;;AACA,MAAIC,KAAK,KAAKC,SAAd,EAAyB;AACxBH,IAAAA,GAAG,CAACC,IAAD,CAAH,GAAYI,OAAO,EAAnB;AACA,GAFD,MAEO,IAAIE,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AAChC;AACA,QAAIO,QAAQ,GAAGN,SAAf;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,KAAK,CAACS,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACtC,YAAME,IAAI,GAAGV,KAAK,CAACQ,CAAD,CAAlB;;AACA,UAAIE,IAAI,KAAK,KAAb,EAAoB;AACnB,YAAIH,QAAQ,KAAKN,SAAjB,EAA4B;AAC3BM,UAAAA,QAAQ,GAAGP,KAAK,CAACW,KAAN,CAAY,CAAZ,EAAeH,CAAf,CAAX;AACAV,UAAAA,GAAG,CAACC,IAAD,CAAH;AAAY;;AAAqB;AAAwBQ,UAAAA,QAAzD;AACA;;AACD,cAAMK,KAAK;AAAG;;AAAsB;AAAwBT,QAAAA,OAAO,EAAnE;;AACA,YAAIS,KAAK,KAAKX,SAAd,EAAyB;AACxB,eAAK,MAAMS,IAAX,IAAmBE,KAAnB,EAA0B;AACzBL,YAAAA,QAAQ,CAACM,IAAT,CAAcH,IAAd;AACA;AACD;AACD,OAXD,MAWO,IAAIH,QAAQ,KAAKN,SAAjB,EAA4B;AAClCM,QAAAA,QAAQ,CAACM,IAAT,CAAcH,IAAd;AACA;AACD;AACD;AACD,CAzBD;AA2BA;AACA;AACA;AACA;;;AACA,MAAMI,+BAA+B,GAAGC,OAAO,IAAI;AAClDb,EAAAA,CAAC,CAACa,OAAD,EAAU,SAAV,EAAqB,MAAMC,OAAO,CAACC,GAAR,EAA3B,CAAD;AACAC,EAAAA,kCAAkC,CAACH,OAAO,CAACI,qBAAT,CAAlC;AACA,CAHD;AAKA;AACA;AACA;AACA;;;AACA,MAAMC,2BAA2B,GAAGL,OAAO,IAAI;AAC9Cb,EAAAA,CAAC,CAACa,OAAD,EAAU,SAAV,EAAqB,MAAMC,OAAO,CAACC,GAAR,EAA3B,CAAD;AACAf,EAAAA,CAAC,CAACa,OAAD,EAAU,QAAV,EAAoB,MAAM;AAC1B,WAAOpB,gBAAgB;AAAC;AAAuBoB,IAAAA,OAAO,CAACM,OAAhC,CAAvB;AACA,GAFA,CAAD;AAIA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA;AAAd,MAAyBT,OAA/B;AAEA,MAAIU,gBAAgB,GACnBD,MAAM,KAAK,KAAX;AACG;AAAsB,OADzB,GAEG,OAAOA,MAAP,KAAkB,QAAlB,GACA9B,mBAAmB,CAAC8B,MAAD;AAAS;AAAwBT,EAAAA,OAAO,CAACM,OAAzC,CADnB,GAEA5B,oBAAoB;AACpB;AAAyB+B,EAAAA,MADL;AAEpB;AAAwBT,EAAAA,OAAO,CAACM,OAFZ,CALxB;AAUA,QAAMK,WAAW,GAAGJ,IAAI,KAAK,aAA7B;AACA,QAAMK,UAAU,GAAGL,IAAI,KAAK,YAAT,IAAyB,CAACA,IAA7C;;AAEA,MAAI,OAAOP,OAAO,CAACa,KAAf,KAAyB,UAA7B,EAAyC;AACxC,SAAK,MAAMC,GAAX,IAAkBC,MAAM,CAACC,IAAP,CAAYhB,OAAO,CAACa,KAApB,CAAlB,EAA8C;AAC7C1B,MAAAA,CAAC,CACAa,OAAO,CAACa,KAAR,CAAcC,GAAd,CADA,EAEA,QAFA,EAGA;AAAM;AAAyB,OAAC,OAAD,CAH/B,CAAD;AAKA;AACD;;AAED3B,EAAAA,CAAC,CAACa,OAAD,EAAU,SAAV,EAAqB,MAAOW,WAAW,GAAG,MAAH,GAAY,KAAnD,CAAD;AACA7B,EAAAA,CAAC,CAACkB,OAAD,EAAU,OAAV,EAAmB,KAAnB,CAAD;AACAlB,EAAAA,CAAC,CAACkB,OAAD,EAAU,SAAV,EAAqB,KAArB,CAAD;AACAlB,EAAAA,CAAC,CAACkB,OAAD,EAAU,aAAV,EAAyB,GAAzB,CAAD;AACAlB,EAAAA,CAAC,CAACkB,OAAD,EAAU,kBAAV,EAA8B,KAA9B,CAAD;AACAlB,EAAAA,CAAC,CAACkB,OAAD,EAAU,mBAAV,EAA+B,KAA/B,CAAD;AAEAiB,EAAAA,wBAAwB,CAACjB,OAAO,CAACkB,WAAT,EAAsB;AAC7CN,IAAAA,UAD6C;AAE7CD,IAAAA,WAF6C;AAG7CD,IAAAA;AAH6C,GAAtB,CAAxB;AAMA,QAAMS,cAAc;AACnB;AACCnB,EAAAA,OAAO,CAACkB,WAAR,CAAoBC,cAFtB;AAIAhC,EAAAA,CAAC,CAACa,OAAD,EAAU,OAAV,EAAmB,MACnBW,WAAW,GAAG;AAAES,IAAAA,IAAI;AAAE;AAAyB;AAAjC,GAAH,GAAkD,KAD7D,CAAD;AAGAC,EAAAA,kBAAkB,CAACrB,OAAO,CAACsB,KAAT,EAAgB;AACjCd,IAAAA,IAAI,EAAEA,IAAI,IAAI,SADmB;AAEjCD,IAAAA,IAAI,EAAEA,IAAI,IAAI,YAFmB;AAGjCI,IAAAA,WAHiC;AAIjCY,IAAAA,eAAe,EAAEvB,OAAO,CAACkB,WAAR,CAAoBK;AAJJ,GAAhB,CAAlB;AAMA,QAAMD,KAAK,GAAG,CAAC,CAACtB,OAAO,CAACsB,KAAxB;AAEAE,EAAAA,qBAAqB,CAACxB,OAAO,CAACyB,QAAT,EAAmB;AACvCb,IAAAA,UADuC;AAEvCO,IAAAA;AAFuC,GAAnB,CAArB;AAKAO,EAAAA,mBAAmB,CAAC1B,OAAO,CAAC2B,MAAT,EAAiB;AACnCL,IAAAA,KADmC;AAEnCM,IAAAA,eAAe;AACd;AACC5B,IAAAA,OAAO,CAACkB,WAAR,CAAoBU,eAJa;AAKnCC,IAAAA,gBAAgB;AACf;AACC7B,IAAAA,OAAO,CAACkB,WAAR,CAAoBW,gBAPa;AAQnCC,IAAAA,GAAG;AACF;AACC9B,IAAAA,OAAO,CAACkB,WAAR,CAAoBY,GAVa;AAWnCX,IAAAA,cAXmC;AAYnCY,IAAAA,MAAM,EAAErB,gBAAgB,IAAIA,gBAAgB,CAACsB,IAAjB,KAA0B;AAZnB,GAAjB,CAAnB;AAeAC,EAAAA,mBAAmB,CAACjC,OAAO,CAACkC,MAAT,EAAiB;AACnC5B,IAAAA,OAAO;AAAE;AAAwBN,IAAAA,OAAO,CAACM,OADN;AAEnCI,IAAAA,gBAFmC;AAGnCyB,IAAAA,wBAAwB,EACvB1B,MAAM,KAAKvB,SAAX,IACC,OAAOuB,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAAC2B,UAAP,CAAkB,cAAlB,CAD/B,IAEC9C,KAAK,CAACC,OAAN,CAAckB,MAAd,KACAA,MAAM,CAAC4B,IAAP,CAAY5B,MAAM,IAAIA,MAAM,CAAC2B,UAAP,CAAkB,cAAlB,CAAtB,CAPiC;AAQnCE,IAAAA,YAAY;AACX;AACCtC,IAAAA,OAAO,CAACkB,WAAR,CAAoBoB,YAVa;AAWnC3B,IAAAA,WAXmC;AAYnCE,IAAAA,KAAK,EAAEb,OAAO,CAACa,KAZoB;AAanCc,IAAAA,MAAM,EAAE3B,OAAO,CAAC2B,MAbmB;AAcnCR,IAAAA;AAdmC,GAAjB,CAAnB;AAiBAoB,EAAAA,6BAA6B,CAACvC,OAAO,CAACwC,gBAAT,EAA2B;AACvD9B,IAAAA,gBADuD;AAEvD+B,IAAAA,SAAS,EAAE,CAAC,CAACzC,OAAO,CAACkB,WAAR,CAAoBuB;AAFsB,GAA3B,CAA7B;AAKAC,EAAAA,mBAAmB;AAClB;AAAsD1C,EAAAA,OAAO,CAAC2C,MAD5C,EAElB;AAAEjC,IAAAA,gBAAF;AAAoBkC,IAAAA,WAAW,EAAE5C,OAAO,CAACkC,MAAR,CAAeU;AAAhD,GAFkB,CAAnB;AAKAzD,EAAAA,CAAC,CAACa,OAAD,EAAU,eAAV,EAA2B,MAAM;AACjC,UAAM6C,kBAAkB,GAAGjF,OAAO,CAAC,mCAAD,CAAP,CACzBkF,WADyB,CACbC,aADa,CACCC,IAD5B;;AAEA,WAAOhD,OAAO,CAACkC,MAAR,CAAee,OAAf,IACNJ,kBAAkB,CAACK,QAAnB,CAA4BlD,OAAO,CAACkC,MAAR,CAAee,OAAf,CAAuB7B,IAAnD,CADM;AAEJ;AAA8BpB,IAAAA,OAAO,CAACkC,MAAR,CAAee,OAAf,CAAuB7B,IAFjD,GAGJpB,OAAO,CAACkC,MAAR,CAAeP,MAAf,GACA,QADA,GAEA,KALH;AAMA,GATA,CAAD;AAWAwB,EAAAA,iBAAiB,CAACnD,OAAO,CAACgC,IAAT,EAAe;AAC/Bb,IAAAA,cAAc;AACb;AACCnB,IAAAA,OAAO,CAACkB,WAAR,CAAoBC,cAHS;AAI/BT,IAAAA;AAJ+B,GAAf,CAAjB;AAOAvB,EAAAA,CAAC,CAACa,OAAD,EAAU,aAAV,EAAyB,MACzBY,UAAU,IACVF,gBADA,KAECA,gBAAgB,CAAC0C,OAAjB,IAA4B1C,gBAAgB,CAAC0C,OAAjB,KAA6B,IAF1D,IAGG,EAHH,GAIG,KALH,CAAD;AAOAC,EAAAA,wBAAwB;AACvB;AACCrD,EAAAA,OAAO,CAACsD,WAFc,EAGvB;AACC1C,IAAAA;AADD,GAHuB,CAAxB;AAQA2C,EAAAA,yBAAyB,CAACvD,OAAO,CAACwD,YAAT,EAAuB;AAC/C7C,IAAAA,WAD+C;AAE/CC,IAAAA,UAF+C;AAG/CkB,IAAAA,GAAG;AACF;AACC9B,IAAAA,OAAO,CAACkB,WAAR,CAAoBY,GALyB;AAM/C2B,IAAAA,OAAO,EAAE,CAAC,EAAEzD,OAAO,CAAC0D,gBAAR,IAA4B1D,OAAO,CAAC2D,iBAAtC;AANqC,GAAvB,CAAzB;AASA3D,EAAAA,OAAO,CAAC4D,OAAR,GAAkBnF,WAAW,CAC5BoF,kBAAkB,CAAC;AAClBvC,IAAAA,KADkB;AAElBhB,IAAAA,OAAO;AAAE;AAAwBN,IAAAA,OAAO,CAACM,OAFvB;AAGlBI,IAAAA,gBAHkB;AAIlBH,IAAAA,IAAI;AAAE;AAAqBP,IAAAA,OAAO,CAACO,IAJjB;AAKlBuB,IAAAA,GAAG;AACF;AACC9B,IAAAA,OAAO,CAACkB,WAAR,CAAoBY;AAPJ,GAAD,CADU,EAU5B9B,OAAO,CAAC4D,OAVoB,CAA7B;AAaA5D,EAAAA,OAAO,CAAC8D,aAAR,GAAwBrF,WAAW,CAClCsF,wBAAwB,CAAC;AAAEzC,IAAAA;AAAF,GAAD,CADU,EAElCtB,OAAO,CAAC8D,aAF0B,CAAnC;AAIA,CArKD;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAM7C,wBAAwB,GAAG,CAChCC,WADgC,WAG5B;AAAA,MADJ;AAAEN,IAAAA,UAAF;AAAcD,IAAAA,WAAd;AAA2BD,IAAAA;AAA3B,GACI;AACJ5B,EAAAA,CAAC,CAACoC,WAAD,EAAc,gBAAd,EAAgC,KAAhC,CAAD;AACApC,EAAAA,CAAC,CAACoC,WAAD,EAAc,YAAd,EAA4B,CAACA,WAAW,CAACC,cAAzC,CAAD;AACArC,EAAAA,CAAC,CAACoC,WAAD,EAAc,iBAAd,EAAiC,KAAjC,CAAD;AACApC,EAAAA,CAAC,CAACoC,WAAD,EAAc,kBAAd,EAAkCA,WAAW,CAACC,cAA9C,CAAD;AACArC,EAAAA,CAAC,CAACoC,WAAD,EAAc,cAAd,EAA8B,KAA9B,CAAD;AACApC,EAAAA,CAAC,CAACoC,WAAD,EAAc,QAAd,EAAwB,KAAxB,CAAD;AACApC,EAAAA,CAAC,CAACoC,WAAD,EAAc,iBAAd,EAAiChC,SAAjC,CAAD;AACAJ,EAAAA,CAAC,CAACoC,WAAD,EAAc,WAAd,EAA2BhC,SAA3B,CAAD;AACAJ,EAAAA,CAAC,CAACoC,WAAD,EAAc,iBAAd,EAAiCA,WAAW,CAACC,cAA7C,CAAD;AACAhC,EAAAA,CAAC,CAAC+B,WAAD,EAAc,KAAd,EAAqB,MAAOA,WAAW,CAACC,cAAZ,GAA6B,EAA7B,GAAkCjC,SAA9D,CAAD,CAVI,CAYJ;;AACA,MAAI8E,yBAAyB,GAAG,IAAhC;;AACA,MAAI,OAAO9C,WAAW,CAAC+C,aAAnB,KAAqC,SAAzC,EAAoD;AACnDD,IAAAA,yBAAyB,GAAG9C,WAAW,CAAC+C,aAAxC;AACA;;AACDnF,EAAAA,CAAC,CAACoC,WAAD,EAAc,eAAd,EAA+B8C,yBAA/B,CAAD;;AAEA,MAAI,OAAO9C,WAAW,CAACuB,SAAnB,KAAiC,QAArC,EAA+C;AAC9C3D,IAAAA,CAAC,CAACoC,WAAW,CAACuB,SAAb,EAAwB,QAAxB,EAAkC7B,UAAlC,CAAD;AACA9B,IAAAA,CAAC,CAACoC,WAAW,CAACuB,SAAb,EAAwB,SAAxB,EAAmC,KAAnC,CAAD;AACA;;AAED,MAAI,OAAOvB,WAAW,CAACY,GAAnB,KAA2B,QAA/B,EAAyC;AACxChD,IAAAA,CAAC,CACAoC,WAAW,CAACY,GADZ,EAEA,aAFA,EAGA,CAACpB,gBAAD,IAAqB,CAACA,gBAAgB,CAACwD,QAHvC,CAAD;AAKA;AACD,CAlCD;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAM7C,kBAAkB,GAAG,CAC1BC,KAD0B,YAGtB;AAAA,MADJ;AAAEd,IAAAA,IAAF;AAAQD,IAAAA,IAAR;AAAcI,IAAAA,WAAd;AAA2BY,IAAAA;AAA3B,GACI;AACJ,MAAID,KAAK,KAAK,KAAd,EAAqB;;AACrB,UAAQA,KAAK,CAACF,IAAd;AACC,SAAK,YAAL;AACCjC,MAAAA,CAAC,CAACmC,KAAD,EAAQ,MAAR,EAAgB,MAAMd,IAAI,GAAG,GAAP,GAAaD,IAAnC,CAAD;AACAzB,MAAAA,CAAC,CAACwC,KAAD,EAAQ,SAAR,EAAmB,EAAnB,CAAD;AACAnC,MAAAA,CAAC,CAACmC,KAAD,EAAQ,gBAAR,EAA0B,MAAM;AAChC,cAAMpB,GAAG,GAAGD,OAAO,CAACC,GAAR,EAAZ;AACA;;AACA,YAAIiE,GAAG,GAAGjE,GAAV;;AACA,iBAAS;AACR,cAAI;AACH,gBAAIvC,EAAE,CAACyG,QAAH,CAAYvG,IAAI,CAACwG,IAAL,CAAUF,GAAV,EAAe,cAAf,CAAZ,EAA4CG,MAA5C,EAAJ,EAA0D,MADvD,CAEH;AACA,WAHD,CAGE,OAAOC,CAAP,EAAU,CAAE;;AACd,gBAAMC,MAAM,GAAG3G,IAAI,CAAC4G,OAAL,CAAaN,GAAb,CAAf;;AACA,cAAIA,GAAG,KAAKK,MAAZ,EAAoB;AACnBL,YAAAA,GAAG,GAAGjF,SAAN;AACA;AACA;;AACDiF,UAAAA,GAAG,GAAGK,MAAN;AACA;;AACD,YAAI,CAACL,GAAL,EAAU;AACT,iBAAOtG,IAAI,CAAC+F,OAAL,CAAa1D,GAAb,EAAkB,gBAAlB,CAAP;AACA,SAFD,MAEO,IAAID,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAA7B,EAAkC;AACxC,iBAAO9G,IAAI,CAAC+F,OAAL,CAAaO,GAAb,EAAkB,qBAAlB,CAAP;AACA,SAFM,MAEA,IAAIlE,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAA7B,EAAkC;AACxC,iBAAO9G,IAAI,CAAC+F,OAAL,CAAaO,GAAb,EAAkB,sBAAlB,CAAP;AACA,SAFM,MAEA;AACN,iBAAOtG,IAAI,CAAC+F,OAAL,CAAaO,GAAb,EAAkB,6BAAlB,CAAP;AACA;AACD,OAzBA,CAAD;AA0BAhF,MAAAA,CAAC,CAACmC,KAAD,EAAQ,eAAR,EAAyB,MACzBzD,IAAI,CAAC+F,OAAL;AACC;AACCtC,MAAAA,KAAK,CAACsD,cAFR;AAGC;AAAsDtD,MAAAA,KAAK,CAACd,IAH7D,CADA,CAAD;AAOA1B,MAAAA,CAAC,CAACwC,KAAD,EAAQ,eAAR,EAAyB,KAAzB,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,OAAR,EAAiB,MAAjB,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,aAAR,EAAuB,KAAvB,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,SAAR,EAAmB,KAAnB,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,aAAR,EAAuB,KAAvB,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,4BAAR,EAAsC,IAAtC,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,8BAAR,EAAwC,IAAxC,CAAD;AACAxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,sBAAR,EAAgCX,WAAW,GAAG,CAAH,GAAOkE,QAAlD,CAAD;AACA/F,MAAAA,CAAC,CAACwC,KAAD,EAAQ,QAAR,EAAkB,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAjB,GAAsB,EAAxC,CAAD,CA5CD,CA4C+C;;AAC9CxC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,uBAAR,EAAiCX,WAAjC,CAAD;AACA7B,MAAAA,CAAC,CAACwC,KAAD,EAAQ,uBAAR,EAAiCX,WAAW,IAAIY,eAAhD,CAAD;AACAzC,MAAAA,CAAC,CAACwC,KAAD,EAAQ,UAAR,EAAoB,KAApB,CAAD;AACAxC,MAAAA,CAAC;AACA;AACCwC,MAAAA,KAAK,CAACwD,iBAFP,EAGA,gBAHA,EAIA,CAACjH,IAAI,CAAC+F,OAAL,CAAamB,SAAb,EAAwB,IAAxB,IAAgClH,IAAI,CAACmH,GAAtC,CAJA,CAAD;AAMA;;AACD,SAAK,QAAL;AACClG,MAAAA,CAAC,CAACwC,KAAD,EAAQ,gBAAR,EAA0BuD,QAA1B,CAAD;AACA/F,MAAAA,CAAC,CAACwC,KAAD,EAAQ,iBAAR,EAA2BX,WAAW,IAAIY,eAA1C,CAAD;AACA;AA3DF;AA6DA,CAlED;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,qBAAqB,GAAG,CAACC,QAAD,YAA8C;AAAA,MAAnC;AAAEb,IAAAA,UAAF;AAAcO,IAAAA;AAAd,GAAmC;;AAC3E,MAAIA,cAAJ,EAAoB;AACnBhC,IAAAA,CAAC,CAACsC,QAAD,EAAW,cAAX,EAA2B,MAC3BxB,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAAzB,GACG,CACA,wEADA,CADH,GAIG,CAAC,8BAAD,CALH,CAAD;AAOAxF,IAAAA,CAAC,CAACsC,QAAD,EAAW,gBAAX,EAA6B,MAC7BxB,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAAzB,GACG,CAAC,yDAAD,CADH,GAEG,EAHH,CAAD;AAKA,GAbD,MAaO;AACNtF,IAAAA,CAAC,CAACoC,QAAD,EAAW,cAAX,EAA2B,MAAM;AACjC,UAAIxB,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAA7B,EAAkC;AACjC,cAAMM,KAAK,GACV,wEAAwEC,IAAxE,CACCtH,OAAO,CAACgG,OAAR,CAAgB,WAAhB,CADD,CADD;;AAIA,YAAIqB,KAAJ,EAAW;AACV,iBAAO,CAACpH,IAAI,CAAC+F,OAAL,CAAaqB,KAAK,CAAC,CAAD,CAAlB,EAAuB,WAAvB,CAAD,CAAP;AACA;AACD,OARD,MAQO;AACN,cAAMA,KAAK,GAAG,+BAA+BC,IAA/B,EACb;AACAtH,QAAAA,OAAO,CAACgG,OAAR,CAAgB,WAAhB,CAFa,CAAd;;AAIA,YAAIqB,KAAJ,EAAW;AACV,iBAAO,CAACA,KAAK,CAAC,CAAD,CAAN,CAAP;AACA;AACD;;AACD,aAAO,EAAP;AACA,KAnBA,CAAD;AAoBA5F,IAAAA,CAAC,CAACoC,QAAD,EAAW,gBAAX,EAA6B,MAAM;AACnC,UAAIxB,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAA7B,EAAkC;AACjC,cAAMM,KAAK,GACV,4EAA4EC,IAA5E,CACCtH,OAAO,CAACgG,OAAR,CAAgB,WAAhB,CADD,CADD;;AAIA,YAAIqB,KAAJ,EAAW;AACV,iBAAO,CAACA,KAAK,CAAC,CAAD,CAAN,CAAP;AACA;AACD,OARD,MAQO,IAAIhF,OAAO,CAACyE,QAAR,CAAiBC,GAAjB,KAAyB,GAA7B,EAAkC;AACxC,cAAMM,KAAK,GACV,8DAA8DC,IAA9D,CACCtH,OAAO,CAACgG,OAAR,CAAgB,WAAhB,CADD,CADD;;AAIA,YAAIqB,KAAJ,EAAW;AACV,iBAAO,CAACA,KAAK,CAAC,CAAD,CAAN,CAAP;AACA;AACD;;AACD,aAAO,EAAP;AACA,KAnBA,CAAD;AAoBA;;AACD9F,EAAAA,CAAC,CAACsC,QAAD,EAAW,0BAAX,EAAuC,OAAO;AAC9C0D,IAAAA,SAAS,EAAE,IADmC;AAE9CC,IAAAA,IAAI,EAAE;AAFwC,GAAP,CAAvC,CAAD;AAIAjG,EAAAA,CAAC,CAACsC,QAAD,EAAW,mBAAX,EAAgC,OAAO;AAAE0D,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,IAAI,EAAE;AAAzB,GAAP,CAAhC,CAAD;AACAjG,EAAAA,CAAC,CAACsC,QAAD,EAAW,QAAX,EAAqB,MACrBb,UAAU,GAAG;AAAEuE,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,IAAI,EAAE;AAAzB,GAAH,GAAqC;AAAED,IAAAA,SAAS,EAAE;AAAb,GAD/C,CAAD;AAGAhG,EAAAA,CAAC,CAACsC,QAAD,EAAW,SAAX,EAAsB,MACtBb,UAAU,GAAG;AAAEuE,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,IAAI,EAAE;AAAzB,GAAH,GAAqC;AAAED,IAAAA,SAAS,EAAE;AAAb,GAD/C,CAAD;AAGA,CAnED;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAME,oCAAoC,GAAG,CAC5CC,aAD4C,YAGxC;AAAA,MADJ;AAAEnE,IAAAA,cAAF;AAAkBY,IAAAA;AAAlB,GACI;AACJjD,EAAAA,CAAC,CAACwG,aAAD,EAAgB,uBAAhB,EAAyC,GAAzC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,sBAAhB,EAAwC,KAAxC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,yBAAhB,EAA2C,IAA3C,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,wBAAhB,EAA0C,IAA1C,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,oBAAhB,EAAsC,GAAtC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,mBAAhB,EAAqC,KAArC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,sBAAhB,EAAwC,IAAxC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,qBAAhB,EAAuC,IAAvC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,sBAAhB,EAAwC,IAAxC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,yBAAhB,EAA2C,IAA3C,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,wBAAhB,EAA0C,KAA1C,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,4BAAhB,EAA8C,KAA9C,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,YAAhB,EAA8B,IAA9B,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,mBAAhB,EAAqC,MAArC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,uBAAhB,EAAyC,KAAzC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,sBAAhB,EAAwC,KAAxC,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,4BAAhB,EAA8C,KAA9C,CAAD;AACAxG,EAAAA,CAAC,CAACwG,aAAD,EAAgB,eAAhB,EAAiCvD,MAAjC,CAAD;AACA,MAAIZ,cAAJ,EAAoBrC,CAAC,CAACwG,aAAD,EAAgB,iBAAhB,EAAmC,OAAnC,CAAD;AACpB,CAvBD;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAM5D,mBAAmB,GAAG,CAC3BC,MAD2B,YAGvB;AAAA,MADJ;AAAEL,IAAAA,KAAF;AAASM,IAAAA,eAAT;AAA0BC,IAAAA,gBAA1B;AAA4CC,IAAAA,GAA5C;AAAiDX,IAAAA,cAAjD;AAAiEY,IAAAA;AAAjE,GACI;;AACJ,MAAIT,KAAJ,EAAW;AACVxC,IAAAA,CAAC,CACA6C,MADA,EAEA,aAFA;AAGA;AACH;AACA;AACA;AACGA,IAAAA,MAAM,IAAI;AACT,YAAMnB,IAAI,GAAGmB,MAAM,CAAC4D,gBAAP,EAAb;AACA,aAAO/E,IAAI,IAAI3B,mBAAmB,CAAC2G,IAApB,CAAyBhF,IAAzB,CAAf;AACA,KAVD,CAAD;AAYA,GAbD,MAaO;AACN1B,IAAAA,CAAC,CAAC6C,MAAD,EAAS,aAAT,EAAwB,KAAxB,CAAD;AACA;;AAEDxC,EAAAA,CAAC,CAACwC,MAAM,CAAC8D,MAAR,EAAgBrH,iBAAhB,EAAmC,OAAO,EAAP,CAAnC,CAAD;AACAe,EAAAA,CAAC;AACA;AACCwC,EAAAA,MAAM,CAAC8D,MAAP,CAAcC,KAFf,EAGA,kBAHA,EAIA,OAAO,EAAP,CAJA,CAAD;;AAMA,MACC;AACC;AACC/D,EAAAA,MAAM,CAAC8D,MAAP,CAAcC,KAAf,CAAsBC,gBAFvB,KAGM,QAJP,EAKE;AACD7G,IAAAA,CAAC;AACA;AACC6C,IAAAA,MAAM,CAAC8D,MAAP,CAAcC,KAAf,CAAsBC,gBAFtB,EAGA,SAHA,EAIA,IAJA,CAAD;AAMA;;AAEDxG,EAAAA,CAAC,CAACwC,MAAM,CAAC8D,MAAR,EAAgB,YAAhB,EAA8B,OAAO,EAAP,CAA9B,CAAD;AAEAJ,EAAAA,oCAAoC;AACnC;AACC1D,EAAAA,MAAM,CAAC8D,MAAP,CAAcG,UAFoB,EAGnC;AACCzE,IAAAA,cADD;AAECY,IAAAA;AAFD,GAHmC,CAApC;AASA1C,EAAAA,CAAC,CAACsC,MAAD,EAAS,cAAT,EAAyB,MAAM;AAC/B,UAAMkE,GAAG,GAAG;AACXzE,MAAAA,IAAI,EAAEnD,0BADK;AAEX2F,MAAAA,OAAO,EAAE;AACRkC,QAAAA,YAAY,EAAE;AACbD,UAAAA,GAAG,EAAE;AACJE,YAAAA,cAAc,EAAE;AADZ;AADQ;AADN;AAFE,KAAZ;AAUA,UAAMC,QAAQ,GAAG;AAChB5E,MAAAA,IAAI,EAAElD;AADU,KAAjB;AAGA;;AACA,UAAM+H,KAAK,GAAG,CACb;AACCC,MAAAA,QAAQ,EAAE,kBADX;AAEC9E,MAAAA,IAAI,EAAEtD;AAFP,KADa,EAKb;AACC0H,MAAAA,IAAI,EAAE,UADP;AAECpE,MAAAA,IAAI,EAAErD;AAFP,KALa,EASb;AACCmI,MAAAA,QAAQ,EAAE,kBADX;AAEC9E,MAAAA,IAAI,EAAErD;AAFP,KATa,EAab;AACCyH,MAAAA,IAAI,EAAE,SADP;AAEC,SAAGK;AAFJ,KAba,EAiBb;AACCL,MAAAA,IAAI,EAAE,QADP;AAECW,MAAAA,eAAe,EAAE;AAChB/E,QAAAA,IAAI,EAAE;AADU,OAFlB;AAKC,SAAGyE;AALJ,KAjBa,EAwBb;AACCL,MAAAA,IAAI,EAAE,SADP;AAEC,SAAGQ;AAFJ,KAxBa,EA4Bb;AACCR,MAAAA,IAAI,EAAE,QADP;AAECW,MAAAA,eAAe,EAAE;AAChB/E,QAAAA,IAAI,EAAE;AADU,OAFlB;AAKC,SAAG4E;AALJ,KA5Ba,EAmCb;AACCE,MAAAA,QAAQ,EAAE;AACTE,QAAAA,EAAE,EAAE,CAAC,iBAAD,EAAoB,wBAApB;AADK,OADX;AAIC,SAAGP;AAJJ,KAnCa,CAAd;;AA0CA,QAAIhE,gBAAJ,EAAsB;AACrB,YAAMwE,IAAI,GAAG;AACZjF,QAAAA,IAAI,EAAEpD,6BADM;AAEZiI,QAAAA,KAAK,EAAE,CACN;AACCE,UAAAA,eAAe,EAAE;AAChB/E,YAAAA,IAAI,EAAE;AADU,WADlB;AAICwC,UAAAA,OAAO,EAAE;AACRmC,YAAAA,cAAc,EAAE;AADR;AAJV,SADM;AAFK,OAAb;AAaAE,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACV0F,QAAAA,IAAI,EAAE,UADI;AAEV,WAAGa;AAFO,OAAX;AAIAJ,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACVoG,QAAAA,QAAQ,EAAE,kBADA;AAEV,WAAGG;AAFO,OAAX;AAIA,KAtBD,MAsBO,IAAIzE,eAAJ,EAAqB;AAC3B,YAAMyE,IAAI,GAAG;AACZjF,QAAAA,IAAI,EAAEjD,4BADM;AAEZ8H,QAAAA,KAAK,EAAE,CACN;AACCE,UAAAA,eAAe,EAAE;AAChB/E,YAAAA,IAAI,EAAE;AADU,WADlB;AAICwC,UAAAA,OAAO,EAAE;AACRmC,YAAAA,cAAc,EAAE;AADR;AAJV,SADM;AAFK,OAAb;AAaAE,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACV0F,QAAAA,IAAI,EAAE,UADI;AAEV,WAAGa;AAFO,OAAX;AAIAJ,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACVoG,QAAAA,QAAQ,EAAE,kBADA;AAEV,WAAGG;AAFO,OAAX;AAIA;;AACD,QAAIvE,GAAJ,EAAS;AACR,YAAM8B,OAAO,GAAG;AACfmC,QAAAA,cAAc,EAAE,IADD;AAEfO,QAAAA,cAAc,EAAE;AAFD,OAAhB;AAIAL,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACV0F,QAAAA,IAAI,EAAE,SADI;AAEVpE,QAAAA,IAAI,EAAE/C,oBAFI;AAGVuF,QAAAA;AAHU,OAAX;AAKAqC,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACVoG,QAAAA,QAAQ,EAAE,iBADA;AAEV9E,QAAAA,IAAI,EAAE7C,sBAFI;AAGVqF,QAAAA;AAHU,OAAX;AAKAqC,MAAAA,KAAK,CAACnG,IAAN,CAAW;AACVoG,QAAAA,QAAQ,EAAE,UADA;AAEV9E,QAAAA,IAAI,EAAE9C,eAFI;AAGVsF,QAAAA;AAHU,OAAX;AAKA;;AACDqC,IAAAA,KAAK,CAACnG,IAAN,CACC;AACCyG,MAAAA,UAAU,EAAE,KADb;AAECC,MAAAA,KAAK,EAAE,CACN;AACCC,QAAAA,MAAM,EAAE,QADT;AAECrF,QAAAA,IAAI,EAAE;AAFP,OADM,EAKN;AACCA,QAAAA,IAAI,EAAE;AADP,OALM;AAFR,KADD,EAaC;AACCsF,MAAAA,MAAM,EAAE;AAAEtF,QAAAA,IAAI,EAAE;AAAR,OADT;AAECA,MAAAA,IAAI,EAAErD;AAFP,KAbD;AAkBA,WAAOkI,KAAP;AACA,GA9IA,CAAD;AA+IA,CApMD;AAsMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMhE,mBAAmB,GAAG,CAC3BC,MAD2B,YAYvB;AAAA,MAVJ;AACC5B,IAAAA,OADD;AAECI,IAAAA,gBAAgB,EAAEiG,EAFnB;AAGCxE,IAAAA,wBAHD;AAICG,IAAAA,YAJD;AAKC3B,IAAAA,WALD;AAMCE,IAAAA,KAND;AAOCc,IAAAA,MAPD;AAQCR,IAAAA;AARD,GAUI;;AACJ;AACD;AACA;AACA;AACC,QAAMyF,cAAc,GAAG3D,OAAO,IAAI;AACjC,UAAM4D,WAAW,GAChB,OAAO5D,OAAP,KAAmB,QAAnB,IACAA,OADA,IAEA,CAAC3D,KAAK,CAACC,OAAN,CAAc0D,OAAd,CAFD,IAGA,UAAUA,OAHV,GAIGA,OAAO,CAACzC,IAJX;AAKG;AAA4ByC,IAAAA,OANhC;;AAOA,QAAI3D,KAAK,CAACC,OAAN,CAAcsH,WAAd,CAAJ,EAAgC;AAC/B,aAAOA,WAAW,CAACxC,IAAZ,CAAiB,GAAjB,CAAP;AACA,KAFD,MAEO,IAAI,OAAOwC,WAAP,KAAuB,QAA3B,EAAqC;AAC3C,aAAOD,cAAc,CAACC,WAAW,CAACC,IAAb,CAArB;AACA,KAFM,MAEA,IAAI,OAAOD,WAAP,KAAuB,QAA3B,EAAqC;AAC3C,aAAOA,WAAP;AACA;;AACD,WAAO,EAAP;AACA,GAhBD;;AAkBA1H,EAAAA,CAAC,CAAC+C,MAAD,EAAS,YAAT,EAAuB,MAAM;AAC7B,UAAM2E,WAAW,GAAGD,cAAc,CAAC1E,MAAM,CAACe,OAAR,CAAd,CAA+B8D,OAA/B,CACnB,4EADmB,EAEnB,CAACC,CAAD,EAAIC,CAAJ,EAAOC,EAAP,EAAWC,EAAX,EAAeC,CAAf,EAAkBC,CAAlB,KAAwB;AACvB,YAAMC,OAAO,GAAGL,CAAC,IAAIG,CAAL,IAAUC,CAA1B;AACA,aAAOC,OAAO,CAAClF,UAAR,CAAmB,IAAnB,KAA4BkF,OAAO,CAACC,QAAR,CAAiB,IAAjB,CAA5B,GACH,GAAEJ,EAAE,IAAI,EAAG,IAAGG,OAAO,CAAC1H,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAqB,IAAGsH,EAAE,IAAI,EAAG,EAD5C,GAEJ,EAFH;AAGA,KAPkB,CAApB;AASA,QAAIL,WAAJ,EAAiB,OAAOA,WAAP;AACjB,UAAMW,OAAO,GAAG3J,IAAI,CAAC+F,OAAL,CAAatD,OAAb,EAAsB,cAAtB,CAAhB;;AACA,QAAI;AACH,YAAMmH,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWhK,EAAE,CAACiK,YAAH,CAAgBJ,OAAhB,EAAyB,OAAzB,CAAX,CAApB;AACA,aAAOC,WAAW,CAACjH,IAAZ,IAAoB,EAA3B;AACA,KAHD,CAGE,OAAO+D,CAAP,EAAU;AACX;AAAI;AAAyCA,MAAAA,CAAD,CAAIsD,IAAJ,KAAa,QAAzD,EAAmE;AAClE;AAECtD,QAAAA,CADD,CAEEuD,OAFF,IAEc,kEAAiEN,OAAQ,EAFvF;AAGA,cAAMjD,CAAN;AACA;;AACD,aAAO,EAAP;AACA;AACD,GAzBA,CAAD;AA2BApF,EAAAA,CAAC,CAAC+C,MAAD,EAAS,QAAT,EAAmB,MAAM,CAAC,CAACI,YAA3B,CAAD;AACAxD,EAAAA,CAAC,CAACoD,MAAD,EAAS,UAAT,EAAqBA,MAAM,CAACP,MAAP,GAAgB,YAAhB,GAA+B,WAApD,CAAD;AACAxC,EAAAA,CAAC,CAAC+C,MAAD,EAAS,MAAT,EAAiB,MAAM,CAACA,MAAM,CAACP,MAA/B,CAAD;AACA7C,EAAAA,CAAC,CAACoD,MAAD,EAAS,oBAAT,EAA+B,QAA/B,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,gBAAT,EAA2B,aAA3B,CAAD;AACA/C,EAAAA,CAAC,CAAC+C,MAAD,EAAS,eAAT,EAA0B,MAAM;AAChC,UAAM6F,QAAQ;AACb;AACC7F,IAAAA,MAAM,CAAC6F,QAFT;;AAGA,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AACnC,YAAMC,OAAO,GAAGD,QAAQ,CAAC7E,QAAT,CAAkB,QAAlB,CAAhB;AACA,YAAM+E,KAAK,GAAGF,QAAQ,CAAC7E,QAAT,CAAkB,MAAlB,CAAd;AACA,YAAMgF,YAAY,GAAGH,QAAQ,CAAC7E,QAAT,CAAkB,aAAlB,CAArB;AACA,YAAMiF,cAAc,GAAGJ,QAAQ,CAAC7E,QAAT,CAAkB,eAAlB,CAAvB,CAJmC,CAKnC;;AACA,UAAIgF,YAAY,IAAIC,cAAhB,IAAkCH,OAAlC,IAA6CC,KAAjD,EAAwD,OAAOF,QAAP,CANrB,CAOnC;;AACA,aAAOA,QAAQ,CAAChB,OAAT,CAAiB,uBAAjB,EAA0C,WAA1C,CAAP;AACA;;AACD,WAAO7E,MAAM,CAACP,MAAP,GAAgB,UAAhB,GAA6B,SAApC;AACA,GAfA,CAAD;AAgBAxC,EAAAA,CAAC,CAAC+C,MAAD,EAAS,aAAT,EAAwB,MAAM;AAC9B,UAAM6F,QAAQ;AACb;AACC7F,IAAAA,MAAM,CAAC6F,QAFT;;AAGA,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AACnC,aAAOA,QAAQ,CAAChB,OAAT,CAAiB,iBAAjB,EAAoC,QAApC,CAAP;AACA;;AACD,WAAO,UAAP;AACA,GARA,CAAD;AASA5H,EAAAA,CAAC,CAAC+C,MAAD,EAAS,kBAAT,EAA6B,MAAM;AACnC,UAAMkG,aAAa;AAClB;AACClG,IAAAA,MAAM,CAACkG,aAFT;;AAGA,QAAI,OAAOA,aAAP,KAAyB,UAA7B,EAAyC;AACxC,aAAOA,aAAa,CAACrB,OAAd,CAAsB,iBAAtB,EAAyC,QAAzC,CAAP;AACA;;AACD,WAAO,UAAP;AACA,GARA,CAAD;AASAjI,EAAAA,CAAC,CAACoD,MAAD,EAAS,qBAAT,EAAgC,oBAAhC,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,2BAAT,EAAsC,oBAAtC,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,mBAAT,EAA8B,IAA9B,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,SAAT,EAAoB,IAApB,CAAD;AACA/C,EAAAA,CAAC,CAAC+C,MAAD,EAAS,iBAAT,EAA4B,MAC5B1D,QAAQ,CAAC6J,YAAT,CACC,qBACC7J,QAAQ,CAAC6J,YAAT;AACC;AAAkDnG,EAAAA,MAAM,CAACoG,UAD1D,CAFF,CADA,CAAD;AAQAnJ,EAAAA,CAAC,CAAC+C,MAAD,EAAS,oBAAT,EAA+B,MAC/B1D,QAAQ,CAAC6J,YAAT,CACC,iBACC7J,QAAQ,CAAC6J,YAAT;AACC;AAAkDnG,EAAAA,MAAM,CAACoG,UAD1D,CAFF,CADA,CAAD;AAQAnJ,EAAAA,CAAC,CAAC+C,MAAD,EAAS,cAAT,EAAyB,MAAM;AAC/B,QAAIyE,EAAJ,EAAQ;AACP,UAAIA,EAAE,CAAC4B,MAAP,EAAe,OAAO,QAAP;AACf,UAAI5B,EAAE,CAAC6B,UAAP,EAAmB,OAAO,YAAP;AACnB;;AACD,WAAO,MAAP;AACA,GANA,CAAD;AAOArJ,EAAAA,CAAC,CAAC+C,MAAD,EAAS,aAAT,EAAwB,MAAM;AAC9B,QAAIyE,EAAJ,EAAQ;AACP,YAAM8B,WAAW,GAAGtG,wBAAwB,GACzC,iOADyC,GAEzC,iHAFH;;AAGA,UAAID,MAAM,CAACP,MAAX,EAAmB;AAClB,YAAIgF,EAAE,CAAC+B,aAAP,EAAsB,OAAO,QAAP;AACtB,YAAI/B,EAAE,CAACzC,QAAP,EAAiB,OAAO,YAAP;AACjB,cAAM,IAAIyE,KAAJ,CACL,6EACC,2DADD,GAEC,gEAFD,GAGCF,WAJI,CAAN;AAMA,OATD,MASO;AACN,YAAI9B,EAAE,CAACzC,QAAP,EAAiB,OAAO,YAAP;AACjB,YAAIyC,EAAE,CAAC/I,OAAP,EAAgB,OAAO,UAAP;AAChB,YAAI+I,EAAE,CAACiC,YAAP,EAAqB,OAAO,UAAP;AACrB,YAAIjC,EAAE,CAACkC,aAAP,EAAsB,OAAO,YAAP;AACtB,cAAM,IAAIF,KAAJ,CACL,gFACC,mFADD,GAEC,iFAFD,GAGCF,WAJI,CAAN;AAMA;AACD;;AACD,UAAM,IAAIE,KAAJ,CACL,uEADK,CAAN;AAGA,GA9BA,CAAD;AA+BA7J,EAAAA,CAAC,CAACoD,MAAD,EAAS,aAAT,EAAwB,IAAxB,CAAD;AACA/C,EAAAA,CAAC,CAAC+C,MAAD,EAAS,cAAT,EAAyB,MAAM;AAC/B,QAAIyE,EAAJ,EAAQ;AACP,cAAQzE,MAAM,CAAC4G,WAAf;AACC,aAAK,YAAL;AACC,cAAInC,EAAE,CAACzC,QAAP,EAAiB,OAAO,OAAP;AACjB,cAAIyC,EAAE,CAACkC,aAAP,EAAsB,OAAO,gBAAP;AACtB;;AACD,aAAK,UAAL;AACC,cAAIlC,EAAE,CAAC/I,OAAP,EAAgB,OAAO,SAAP;AAChB,cAAI+I,EAAE,CAACiC,YAAP,EAAqB,OAAO,YAAP;AACrB;;AACD,aAAK,QAAL;AACC,cAAIjC,EAAE,CAAC+B,aAAP,EAAsB,OAAO,QAAP;AACtB;AAXF;;AAaA,UACC/B,EAAE,CAAC/I,OAAH,KAAe,IAAf,IACA+I,EAAE,CAACiC,YAAH,KAAoB,IADpB,IAEAjC,EAAE,CAACzC,QAAH,KAAgB,IAFhB,IAGAyC,EAAE,CAACkC,aAAH,KAAqB,IAJtB,EAKE;AACD,eAAO,WAAP;AACA;AACD;;AACD,WAAO,KAAP;AACA,GAzBA,CAAD;AA0BA1J,EAAAA,CAAC,CAAC+C,MAAD,EAAS,oBAAT,EAA+B,MAAM;AACrC,QAAIyE,EAAJ,EAAQ;AACP,cAAQzE,MAAM,CAAC4G,WAAf;AACC,aAAK,YAAL;AACC,cAAInC,EAAE,CAACoC,qBAAP,EAA8B,OAAO,gBAAP;AAC9B;;AACD,aAAK,UAAL;AACC,cAAIpC,EAAE,CAAC/I,OAAP,EAAgB,OAAO,SAAP;AAChB,cAAI+I,EAAE,CAACiC,YAAP,EAAqB,OAAO,YAAP;AACrB;;AACD,aAAK,QAAL;AACC,cAAIjC,EAAE,CAACqC,qBAAP,EAA8B,OAAO,QAAP;AAC9B;AAVF;;AAYA,UACCrC,EAAE,CAAC/I,OAAH,KAAe,IAAf,IACA+I,EAAE,CAACiC,YAAH,KAAoB,IADpB,IAEAjC,EAAE,CAACoC,qBAAH,KAA6B,IAH9B,EAIE;AACD,eAAO,WAAP;AACA;AACD;;AACD,WAAO,KAAP;AACA,GAvBA,CAAD;AAwBA5J,EAAAA,CAAC,CAAC+C,MAAD,EAAS,aAAT,EAAwB,MAAM;AAC9B,QAAIyE,EAAJ,EAAQ;AACP,UAAIA,EAAE,CAACsC,SAAP,EAAkB,OAAO,OAAP;AAClB,UAAItC,EAAE,CAACiC,YAAP,EACC,OAAO1G,MAAM,CAACP,MAAP,GAAgB,mBAAhB,GAAsC,YAA7C;;AACD,UAAIgF,EAAE,CAACiC,YAAH,KAAoB,IAApB,IAA4BjC,EAAE,CAACsC,SAAH,KAAiB,IAAjD,EAAuD;AACtD,eAAO,WAAP;AACA;AACD;;AACD,WAAO,KAAP;AACA,GAVA,CAAD;AAWA9J,EAAAA,CAAC,CAAC+C,MAAD,EAAS,mBAAT,EAA8B,MAAMA,MAAM,CAACgH,WAA3C,CAAD;AACA/J,EAAAA,CAAC,CAAC+C,MAAD,EAAS,kBAAT,EAA6B,MAAMA,MAAM,CAACoG,UAA1C,CAAD;;AACA,MAAIpG,MAAM,CAACe,OAAX,EAAoB;AACnB9D,IAAAA,CAAC,CAAC+C,MAAM,CAACe,OAAR,EAAiB,MAAjB,EAAyB,MAAOf,MAAM,CAACP,MAAP,GAAgB,QAAhB,GAA2B,KAA3D,CAAD;AACA;;AACDxC,EAAAA,CAAC,CAAC+C,MAAD,EAAS,MAAT,EAAiB,MAAMrE,IAAI,CAACwG,IAAL,CAAUpE,OAAO,CAACC,GAAR,EAAV,EAAyB,MAAzB,CAAvB,CAAD;AACAf,EAAAA,CAAC,CAAC+C,MAAD,EAAS,UAAT,EAAqB,MAAMvB,WAA3B,CAAD;AACA7B,EAAAA,CAAC,CAACoD,MAAD,EAAS,mBAAT,EAA8B,mBAA9B,CAAD;AACApD,EAAAA,CAAC,CACAoD,MADA,EAEA,wBAFA,EAGC,8BAA6BA,MAAM,CAACP,MAAP,GAAgB,KAAhB,GAAwB,IAAK,EAH3D,CAAD;AAKA7C,EAAAA,CAAC,CAACoD,MAAD,EAAS,uBAAT,EAAkC,sCAAlC,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,oBAAT,EAA+B,KAA/B,CAAD;AACA/C,EAAAA,CAAC,CAAC+C,MAAD,EAAS,YAAT,EAAuB,MAAOA,MAAM,CAACP,MAAP,GAAgB,QAAhB,GAA2B,KAAzD,CAAD;AACA7C,EAAAA,CAAC,CACAoD,MADA,EAEA,YAFA,EAGCyE,EAAE,KAAKA,EAAE,CAACzC,QAAH,IAAeyC,EAAE,CAACkC,aAAvB,CAAH,IAA6C3G,MAAM,CAACiH,UAAP,KAAsB,QAAnE,GACG,MADH,GAEG,EALH,CAAD;AAOArK,EAAAA,CAAC,CAACoD,MAAD,EAAS,kBAAT,EAA6B,EAA7B,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,kBAAT,EAA6B,MAA7B,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,cAAT,EAAyBf,cAAc,GAAG,UAAH,GAAgB,KAAvD,CAAD;AACArC,EAAAA,CAAC,CAACoD,MAAD,EAAS,YAAT,EAAuB,KAAvB,CAAD;AACApD,EAAAA,CAAC,CAACoD,MAAD,EAAS,kBAAT,EAA6Bf,cAAc,GAAG,EAAH,GAAQ,EAAnD,CAAD;AACArC,EAAAA,CAAC,CAACoD,MAAD,EAAS,+BAAT,EAA0C,KAA1C,CAAD;AAEA,QAAMU,WAAW;AAAG;AAA4BV,EAAAA,MAAM,CAACU,WAAvD;AACA;AACD;AACA;AACA;;AACC,QAAMwG,UAAU,GAAGC,CAAC,IAAIA,CAAC,IAAIA,CAAC,KAAKnK,SAAnC;AACA;AACD;AACA;AACA;AACA;;;AACC,QAAMoK,uBAAuB,GAAG,CAACD,CAAD,EAAIhC,CAAJ,KAAWgC,CAAC,KAAKnK,SAAN,IAAmBmI,CAApB,IAA0BgC,CAApE;;AAEAlK,EAAAA,CAAC,CACAyD,WADA,EAEA,YAFA,EAGA;AAAM;AAAoC+D,EAAAA,EAAE,IAAIA,EAAE,CAAC6B,UAHnD,CAAD;AAKArJ,EAAAA,CAAC,CACAyD,WADA,EAEA,eAFA,EAGA;AAAM;AAAoC+D,EAAAA,EAAE,IAAIA,EAAE,CAAC4C,aAHnD,CAAD;AAKApK,EAAAA,CAAC,CACAyD,WADA,EAEA,OAFA,EAGA,MAAM+D,EAAE,IAAIyC,UAAU;AAAC;AAAoCzC,EAAAA,EAAE,CAAC6C,KAAxC,CAHtB,CAAD;AAKArK,EAAAA,CAAC,CACAyD,WADA,EAEA,eAFA,EAGA,MACC+D,EAAE,IAAIyC,UAAU;AAAC;AAAoCzC,EAAAA,EAAE,CAAC8C,aAAxC,CAJjB,CAAD;AAMAtK,EAAAA,CAAC,CACAyD,WADA,EAEA,OAFA,EAGA,MAAM+D,EAAE,IAAIyC,UAAU;AAAC;AAAoCzC,EAAAA,EAAE,CAAC+C,KAAxC,CAHtB,CAAD;AAKAvK,EAAAA,CAAC,CACAyD,WADA,EAEA,eAFA,EAGA,MACC+D,EAAE,IAAIyC,UAAU;AAAC;AAAoCzC,EAAAA,EAAE,CAACgD,aAAxC,CAJjB,CAAD;AAMAxK,EAAAA,CAAC,CACAyD,WADA,EAEA,kBAFA,EAGA,MACC+D,EAAE,IAAIyC,UAAU;AAAC;AAAoCzC,EAAAA,EAAE,CAACiD,gBAAxC,CAJjB,CAAD;AAMAzK,EAAAA,CAAC,CACAyD,WADA,EAEA,iBAFA,EAGA,MACC+D,EAAE,IAAIyC,UAAU;AAAC;AAAoCzC,EAAAA,EAAE,CAACkD,eAAxC,CAJjB,CAAD;AAMA1K,EAAAA,CAAC,CAACyD,WAAD,EAAc,eAAd,EAA+B,MAC/B0G,uBAAuB;AACtB;AAAoC3C,EAAAA,EAAE,IAAIA,EAAE,CAAC+B,aADvB,EAEtBxG,MAAM,CAACP,MAFe,CADvB,CAAD;AAMAxC,EAAAA,CAAC,CAACyD,WAAD,EAAc,uBAAd,EAAuC,MACvC0G,uBAAuB;AACtB;AAAoC3C,EAAAA,EAAE,IAAIA,EAAE,CAACqC,qBADvB,EAEtB9G,MAAM,CAACP,MAFe,CADvB,CAAD;AAMAxC,EAAAA,CAAC,CAACyD,WAAD,EAAc,QAAd,EAAwB,MACxB0G,uBAAuB;AACtB;AAAoC3C,EAAAA,EAAE,IAAIA,EAAE,CAAChF,MADvB,EAEtBO,MAAM,CAACP,MAFe,CADvB,CAAD;AAOA,QAAM;AAAEmI,IAAAA;AAAF,MAAmB5H,MAAzB;;AACA,MAAI4H,YAAJ,EAAkB;AACjB3K,IAAAA,CAAC,CACA2K,YADA,EAEA,YAFA,EAGA;AACC;AACC5H,IAAAA,MAAM,CAACoG,UAAR,CAAoBvB,OAApB,CAA4B,yBAA5B,EAAuD,GAAvD,KAA+D,SALhE,CAAD;AAOAjI,IAAAA,CAAC,CAACgL,YAAD,EAAe,yBAAf,EAA0C,MAA1C,CAAD;AACA;AAED;AACD;AACA;AACA;;;AACC,QAAMC,YAAY,GAAGC,EAAE,IAAI;AAC1B,SAAK,MAAMxJ,IAAX,IAAmBO,MAAM,CAACC,IAAP,CAAYH,KAAZ,CAAnB,EAAuC;AACtCmJ,MAAAA,EAAE;AAAC;AAAiDnJ,MAAAA,KAAD,CAAQL,IAAR,CAAjD,CAAF;AACA;AACD,GAJD;;AAKAnB,EAAAA,CAAC,CAAC6C,MAAD,EAAS,qBAAT,EAAgC,MAAM;AACtC;AACA,UAAM+H,mBAAmB,GAAG,EAA5B;;AACA,QAAI/H,MAAM,CAACe,OAAX,EAAoB;AACnBgH,MAAAA,mBAAmB,CAACnK,IAApB,CAAyBoC,MAAM,CAACe,OAAP,CAAe7B,IAAxC;AACA;;AACD2I,IAAAA,YAAY,CAACG,IAAI,IAAI;AACpB,UAAIA,IAAI,CAACjH,OAAT,EAAkB;AACjBgH,QAAAA,mBAAmB,CAACnK,IAApB,CAAyBoK,IAAI,CAACjH,OAAL,CAAa7B,IAAtC;AACA;AACD,KAJW,CAAZ;AAKA,WAAO6I,mBAAP;AACA,GAZA,CAAD;AAcA5K,EAAAA,CAAC,CAAC6C,MAAD,EAAS,0BAAT,EAAqC,MAAM;AAC3C,UAAMiI,wBAAwB,GAAG,IAAIC,GAAJ,EAAjC;;AACA,QAAIlI,MAAM,CAACmI,YAAX,EAAyB;AACxBF,MAAAA,wBAAwB,CAACG,GAAzB,CAA6BpI,MAAM,CAACmI,YAApC;AACA;;AACD,QAAInI,MAAM,CAACqI,kBAAX,EAA+B;AAC9BJ,MAAAA,wBAAwB,CAACG,GAAzB,CAA6BpI,MAAM,CAACqI,kBAApC;AACA;;AACDR,IAAAA,YAAY,CAACG,IAAI,IAAI;AACpB,UAAIA,IAAI,CAACG,YAAT,EAAuB;AACtBF,QAAAA,wBAAwB,CAACG,GAAzB,CAA6BJ,IAAI,CAACG,YAAlC;AACA;AACD,KAJW,CAAZ;AAKA,WAAO/K,KAAK,CAACkL,IAAN,CAAWL,wBAAX,CAAP;AACA,GAdA,CAAD;AAgBA9K,EAAAA,CAAC,CAAC6C,MAAD,EAAS,yBAAT,EAAoC,MAAM;AAC1C,UAAMuI,uBAAuB,GAAG,IAAIL,GAAJ,EAAhC;;AACA,QAAIlI,MAAM,CAACgH,WAAX,EAAwB;AACvBuB,MAAAA,uBAAuB,CAACH,GAAxB,CAA4BpI,MAAM,CAACgH,WAAnC;AACA;;AACD,QAAIhH,MAAM,CAACwI,iBAAX,EAA8B;AAC7BD,MAAAA,uBAAuB,CAACH,GAAxB,CAA4BpI,MAAM,CAACwI,iBAAnC;AACA;;AACDX,IAAAA,YAAY,CAACG,IAAI,IAAI;AACpB,UAAIA,IAAI,CAAChB,WAAT,EAAsB;AACrBuB,QAAAA,uBAAuB,CAACH,GAAxB,CAA4BJ,IAAI,CAAChB,WAAjC;AACA;AACD,KAJW,CAAZ;AAKA,WAAO5J,KAAK,CAACkL,IAAN,CAAWC,uBAAX,CAAP;AACA,GAdA,CAAD;AAeA,CAzYD;AA2YA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMlI,6BAA6B,GAAG,CACrCC,gBADqC,YAGjC;AAAA,MADJ;AAAE9B,IAAAA,gBAAF;AAAoB+B,IAAAA;AAApB,GACI;AACJ3D,EAAAA,CAAC,CACA0D,gBADA,EAEA,KAFA;AAGA;AACC,GAACC,SAAD,IAAc/B,gBAAd,IAAkCA,gBAAgB,CAACiK,GAJpD,CAAD;AAMA7L,EAAAA,CAAC,CACA0D,gBADA,EAEA,MAFA;AAGA;AACC9B,EAAAA,gBAAgB,IAAIA,gBAAgB,CAACsB,IAJtC,CAAD;AAMAlD,EAAAA,CAAC,CACA0D,gBADA,EAEA,MAFA;AAGA;AACC9B,EAAAA,gBAAgB,IAAIA,gBAAgB,CAACkK,IAJtC,CAAD;AAMA9L,EAAAA,CAAC,CACA0D,gBADA,EAEA,UAFA;AAGA;AACC9B,EAAAA,gBAAgB,IAAIA,gBAAgB,CAACmK,QAJtC,CAAD;AAMA/L,EAAAA,CAAC,CACA0D,gBADA,EAEA,cAFA;AAGA;AAEC9B,EAAAA,gBAAgB,IACfA,gBAAgB,CAACmK,QADlB,IAECnK,gBAAgB,CAACoK,YAPnB,CAAD;AAUAhM,EAAAA,CAAC,CACA0D,gBADA,EAEA,iBAFA;AAGA;AAEC9B,EAAAA,gBAAgB,IACfA,gBAAgB,CAACmK,QADlB,IAECnK,gBAAgB,CAACqK,eAPnB,CAAD;AAUAjM,EAAAA,CAAC,CACA0D,gBADA,EAEA,kBAFA;AAGA;AAEC9B,EAAAA,gBAAgB,IACfA,gBAAgB,CAACmK,QADlB,IAECnK,gBAAgB,CAACsK,gBAPnB,CAAD;AAUA,CA1DD;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMtI,mBAAmB,GAAG,CAACC,MAAD,YAA+C;AAAA,MAAtC;AAAEjC,IAAAA,gBAAF;AAAoBkC,IAAAA;AAApB,GAAsC;AAC1EzD,EAAAA,CAAC,CAACwD,MAAD,EAAS,QAAT,EAAmB,MAAM;AACzB,QAAIjC,gBAAJ,EAAsB;AACrB,UAAIA,gBAAgB,CAACmK,QAArB,EAA+B;AAC9B,YAAInK,gBAAgB,CAACoK,YAArB,EAAmC,OAAO,eAAP;AACnC,YAAIpK,gBAAgB,CAACqK,eAArB,EAAsC,OAAO,kBAAP;AACtC,YAAIrK,gBAAgB,CAACsK,gBAArB,EAAuC,OAAO,mBAAP;AACvC,eAAO,UAAP;AACA;;AACD,UAAItK,gBAAgB,CAACkK,IAArB,EAA2B,OAAO,MAAP;AAC3B,UAAIlK,gBAAgB,CAACsB,IAArB,EAA2B,OAAO,MAAP;AAC3B,UAAItB,gBAAgB,CAACiK,GAArB,EAA0B,OAAO,KAAP;AAC1B;AACD,GAZA,CAAD;AAaA7L,EAAAA,CAAC,CAAC6D,MAAD,EAAS,aAAT,EAAwBC,WAAxB,CAAD;AACA,CAfD;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMO,iBAAiB,GAAG,CAACnB,IAAD,YAAgD;AAAA,MAAzC;AAAEb,IAAAA,cAAF;AAAkBT,IAAAA;AAAlB,GAAyC;AACzE,MAAIsB,IAAI,KAAK,KAAb,EAAoB;AAEpB7C,EAAAA,CAAC,CAAC6C,IAAD,EAAO,QAAP,EAAiB,MAAM;AACvB,QAAItB,gBAAgB,IAAIA,gBAAgB,CAAC6H,MAAzC,EAAiD,OAAO,KAAP,CAD1B,CAEvB;;AACA,WAAOpH,cAAc,GAAG,MAAH,GAAY,IAAjC;AACA,GAJA,CAAD;AAKAhC,EAAAA,CAAC,CAAC6C,IAAD,EAAO,YAAP,EAAqB,MAAM;AAC3B,QAAItB,gBAAgB,IAAIA,gBAAgB,CAACsB,IAAzC,EAA+C,OAAO,WAAP,CADpB,CAE3B;;AACA,WAAOb,cAAc,GAAG,WAAH,GAAiB,MAAtC;AACA,GAJA,CAAD;AAKAhC,EAAAA,CAAC,CAAC6C,IAAD,EAAO,WAAP,EAAoB,MAAM;AAC1B,QAAItB,gBAAgB,IAAIA,gBAAgB,CAACsB,IAAzC,EAA+C,OAAO,WAAP,CADrB,CAE1B;;AACA,WAAOb,cAAc,GAAG,WAAH,GAAiB,MAAtC;AACA,GAJA,CAAD;AAKA,CAlBD;AAoBA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMkC,wBAAwB,GAAG,CAACC,WAAD,aAAiC;AAAA,MAAnB;AAAE1C,IAAAA;AAAF,GAAmB;AACjE,MAAI0C,WAAW,KAAK,KAApB,EAA2B;AAC3BxE,EAAAA,CAAC,CAACwE,WAAD,EAAc,cAAd,EAA8B,MAA9B,CAAD;AACAxE,EAAAA,CAAC,CAACwE,WAAD,EAAc,mBAAd,EAAmC,MAAnC,CAAD;AACAnE,EAAAA,CAAC,CAACmE,WAAD,EAAc,OAAd,EAAuB,MAAO1C,UAAU,GAAG,SAAH,GAAe,KAAvD,CAAD;AACA,CALD;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAM2C,yBAAyB,GAAG,CACjCC,YADiC,aAG7B;AAAA,MADJ;AAAE5C,IAAAA,UAAF;AAAcD,IAAAA,WAAd;AAA2BmB,IAAAA,GAA3B;AAAgC2B,IAAAA;AAAhC,GACI;AACJ3E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,wBAAf,EAAyC,KAAzC,CAAD;AACA1E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,mBAAf,EAAoC,IAApC,CAAD;AACA1E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,sBAAf,EAAuC,IAAvC,CAAD;AACA1E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,oBAAf,EAAqC5C,UAArC,CAAD;AACAzB,EAAAA,CAAC,CAACqE,YAAD,EAAe,WAAf,EAA4B,MAAM;AAClC,QAAI5C,UAAJ,EAAgB,OAAO,eAAP;AAChB,QAAID,WAAJ,EAAiB,OAAO,OAAP;AACjB,WAAO,SAAP;AACA,GAJA,CAAD;AAKAxB,EAAAA,CAAC,CAACqE,YAAD,EAAe,UAAf,EAA2B,MAAM;AACjC,QAAI5C,UAAJ,EAAgB,OAAO,eAAP;AAChB,QAAID,WAAJ,EAAiB,OAAO,OAAP;AACjB,WAAO,SAAP;AACA,GAJA,CAAD;AAKAxB,EAAAA,CAAC,CAACqE,YAAD,EAAe,aAAf,EAA8B,MAAO5C,UAAU,GAAG,IAAH,GAAU,MAAzD,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,iBAAf,EAAkC,IAAlC,CAAD;AACA1E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,aAAf,EAA8B5C,UAA9B,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,YAAf,EAA6B5C,UAA7B,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,eAAf,EAAgC5C,UAAhC,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,oBAAf,EAAqC5C,UAArC,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,cAAf,EAA+B,KAA/B,CAAD;AACA1E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,cAAf,EAA+B,CAAC5C,UAAhC,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,gBAAf,EAAiC5C,UAAjC,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,mBAAf,EAAoC,KAApC,CAAD;AACA1E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,iBAAf,EAAkCC,OAAlC,CAAD;AACA3E,EAAAA,CAAC,CAAC0E,YAAD,EAAe,iBAAf,EAAkC5C,UAAlC,CAAD;AACA9B,EAAAA,CAAC,CAAC0E,YAAD,EAAe,UAAf,EAA2B5C,UAA3B,CAAD;AACAvB,EAAAA,CAAC,CAACmE,YAAD,EAAe,WAAf,EAA4B,MAAM,CAClC;AACCyH,IAAAA,KAAK,EAAEC,QAAQ,IAAI;AAClB;AACA,YAAMC,YAAY,GAAGvN,OAAO,CAAC,uBAAD,CAA5B;;AACA,UAAIuN,YAAJ,CAAiB;AAChBC,QAAAA,aAAa,EAAE;AACdC,UAAAA,QAAQ,EAAE;AACTC,YAAAA,MAAM,EAAE;AADC;AADI;AADC,OAAjB,EAMGL,KANH,CAMSC,QANT;AAOA;AAXF,GADkC,CAAlC,CAAD;AAeA/L,EAAAA,CAAC,CAACqE,YAAD,EAAe,SAAf,EAA0B,MAAM;AAChC,QAAI5C,UAAJ,EAAgB,OAAO,YAAP;AAChB,QAAID,WAAJ,EAAiB,OAAO,aAAP;AACjB,WAAO,KAAP;AACA,GAJA,CAAD;AAKA,QAAM;AAAE4K,IAAAA;AAAF,MAAkB/H,YAAxB;;AACA,MAAI+H,WAAJ,EAAiB;AAChBlM,IAAAA,CAAC,CAACkM,WAAD,EAAc,kBAAd,EAAkC,MAClCzJ,GAAG,GAAG,CAAC,YAAD,EAAe,KAAf,EAAsB,SAAtB,CAAH,GAAsC,CAAC,YAAD,EAAe,SAAf,CADzC,CAAD;AAGAhD,IAAAA,CAAC,CAACyM,WAAD,EAAc,cAAd,EAA8B3K,UAA9B,CAAD;AACA9B,IAAAA,CAAC,CAACyM,WAAD,EAAc,QAAd,EAAwB,OAAxB,CAAD;AACAzM,IAAAA,CAAC,CAACyM,WAAD,EAAc,aAAd,EAA6B/H,YAAY,CAACgI,WAAb,KAA6B,IAA1D,CAAD;AACA1M,IAAAA,CAAC,CAACyM,WAAD,EAAc,WAAd,EAA2B,CAA3B,CAAD;AACApM,IAAAA,CAAC,CAACoM,WAAD,EAAc,SAAd,EAAyB,MAAO3K,UAAU,GAAG,KAAH,GAAW,KAArD,CAAD;AACAzB,IAAAA,CAAC,CAACoM,WAAD,EAAc,kBAAd,EAAkC,MAAO5K,WAAW,GAAG,CAAH,GAAOzB,SAA3D,CAAD;AACAC,IAAAA,CAAC,CAACoM,WAAD,EAAc,sBAAd,EAAsC,MAAO3K,UAAU,GAAG,KAAH,GAAW,KAAlE,CAAD;AACAzB,IAAAA,CAAC,CAACoM,WAAD,EAAc,kBAAd,EAAkC,MAAO3K,UAAU,GAAG,EAAH,GAAQiE,QAA3D,CAAD;AACA1F,IAAAA,CAAC,CAACoM,WAAD,EAAc,oBAAd,EAAoC,MAAO3K,UAAU,GAAG,EAAH,GAAQiE,QAA7D,CAAD;AACA/F,IAAAA,CAAC,CAACyM,WAAD,EAAc,wBAAd,EAAwC,GAAxC,CAAD;AACA,UAAME,WAAW;AAChB;AACCF,IAAAA,WAAW,CAACE,WAFd;AAGAtM,IAAAA,CAAC,CAACsM,WAAD,EAAc,SAAd,EAAyB,OAAO;AAChCC,MAAAA,MAAM,EAAE,EADwB;AAEhCC,MAAAA,kBAAkB,EAAE,IAFY;AAGhCC,MAAAA,SAAS,EAAE,CAHqB;AAIhCC,MAAAA,QAAQ,EAAE,CAAC;AAJqB,KAAP,CAAzB,CAAD;AAMA1M,IAAAA,CAAC,CAACsM,WAAD,EAAc,gBAAd,EAAgC,OAAO;AACvCC,MAAAA,MAAM,EAAE,SAD+B;AAEvCC,MAAAA,kBAAkB,EAAE,IAFmB;AAGvCnG,MAAAA,IAAI,EAAE3G,mBAHiC;AAIvCgN,MAAAA,QAAQ,EAAE,CAAC;AAJ4B,KAAP,CAAhC,CAAD;AAMA;AACD,CAlFD;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMhI,kBAAkB,GAAG,UAMrB;AAAA,MANsB;AAC3BvC,IAAAA,KAD2B;AAE3BhB,IAAAA,OAF2B;AAG3BI,IAAAA,gBAH2B;AAI3BH,IAAAA,IAJ2B;AAK3BuB,IAAAA;AAL2B,GAMtB;;AACL;AACA,QAAMgK,UAAU,GAAG,CAAC,SAAD,CAAnB;AAEAA,EAAAA,UAAU,CAAChM,IAAX,CAAgBS,IAAI,KAAK,aAAT,GAAyB,aAAzB,GAAyC,YAAzD;;AAEA,MAAIG,gBAAJ,EAAsB;AACrB,QAAIA,gBAAgB,CAACqL,SAArB,EAAgCD,UAAU,CAAChM,IAAX,CAAgB,QAAhB;AAChC,QAAIY,gBAAgB,CAACsB,IAArB,EAA2B8J,UAAU,CAAChM,IAAX,CAAgB,MAAhB;AAC3B,QAAIY,gBAAgB,CAACiK,GAArB,EAA0BmB,UAAU,CAAChM,IAAX,CAAgB,SAAhB;AAC1B,QAAIY,gBAAgB,CAACmK,QAArB,EAA+BiB,UAAU,CAAChM,IAAX,CAAgB,UAAhB;AAC/B,QAAIY,gBAAgB,CAACkK,IAArB,EAA2BkB,UAAU,CAAChM,IAAX,CAAgB,MAAhB;AAC3B;;AAED,QAAMkM,YAAY,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,OAAjB,CAArB;AAEA,QAAMrF,EAAE,GAAGjG,gBAAX;AACA,QAAMuL,YAAY,GACjBtF,EAAE,IAAIA,EAAE,CAACgE,GAAT,KAAiB,CAAChE,EAAE,CAAC3E,IAAJ,IAAa2E,EAAE,CAACkE,QAAH,IAAelE,EAAE,CAACqE,gBAAhD,CADD;AAGA;;AACA,QAAMkB,OAAO,GAAG,OAAO;AACtBC,IAAAA,WAAW,EAAEF,YAAY,GAAG,CAAC,SAAD,CAAH,GAAiB,EADpB;AAEtBG,IAAAA,UAAU,EAAEH,YAAY,GAAG,CAAC,SAAD,EAAY,QAAZ,EAAsB,KAAtB,CAAH,GAAkC,CAAC,QAAD,EAAW,KAAX,CAFpC;AAGtBI,IAAAA,cAAc,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,KAAtB,CAHM;AAItBC,IAAAA,UAAU,EAAE,CAAC,GAAGN,YAAJ;AAJU,GAAP,CAAhB;AAMA;;;AACA,QAAMO,OAAO,GAAG,OAAO;AACtBJ,IAAAA,WAAW,EAAEF,YAAY,GAAG,CAAC,SAAD,CAAH,GAAiB,EADpB;AAEtBG,IAAAA,UAAU,EAAEH,YAAY,GAAG,CAAC,SAAD,EAAY,QAAZ,EAAsB,KAAtB,CAAH,GAAkC,CAAC,QAAD,EAAW,KAAX,CAFpC;AAGtBI,IAAAA,cAAc,EAAE,CAAC,QAAD,EAAW,QAAX,EAAqB,KAArB,CAHM;AAItBC,IAAAA,UAAU,EAAE,CAAC,GAAGN,YAAJ;AAJU,GAAP,CAAhB;AAOA;;;AACA,QAAMQ,cAAc,GAAG;AACtBlL,IAAAA,KADsB;AAEtBmL,IAAAA,OAAO,EAAE,CAAC,cAAD,CAFa;AAGtBJ,IAAAA,cAAc,EAAEP,UAHM;AAItBY,IAAAA,SAAS,EAAE,CAAC,OAAD,CAJW;AAKtBJ,IAAAA,UAAU,EAAE,EALU;AAMtBH,IAAAA,WAAW,EAAE,EANS;AAOtBQ,IAAAA,aAAa,EAAE,CAAC,SAAD,CAPO;AAQtBC,IAAAA,KAAK,EAAE,CAACtM,OAAD,CARe;AAStB8L,IAAAA,UAAU,EAAE,CAAC,MAAD,CATU;AAUtBtG,IAAAA,YAAY,EAAE;AACbO,MAAAA,IAAI,EAAEkG,OAAO,EADA;AAEb1G,MAAAA,GAAG,EAAE0G,OAAO,EAFC;AAGbM,MAAAA,YAAY,EAAEN,OAAO,EAHR;AAIbO,MAAAA,GAAG,EAAE;AACJxG,QAAAA,cAAc,EAAE;AADZ,OAJQ;AAObyG,MAAAA,MAAM,EAAE,EACP,GAAGR,OAAO,EADH;AAEPjG,QAAAA,cAAc,EAAE;AAFT,OAPK;AAWbN,MAAAA,QAAQ,EAAEkG,OAAO,EAXJ;AAYbc,MAAAA,GAAG,EAAEd,OAAO,EAZC;AAab;AACAvJ,MAAAA,MAAM,EAAEuJ,OAAO,EAdF;AAeb;AACAe,MAAAA,OAAO,EAAEf,OAAO,EAhBH;AAiBb;AACAhN,MAAAA,SAAS,EAAEgN,OAAO;AAlBL;AAVQ,GAAvB;;AAgCA,MAAIpK,GAAJ,EAAS;AACR,UAAMoL,eAAe,GAAG,EAAxB;AAEAA,IAAAA,eAAe,CAACpN,IAAhB,CAAqB,SAArB;AACAoN,IAAAA,eAAe,CAACpN,IAAhB,CAAqBS,IAAI,KAAK,aAAT,GAAyB,aAAzB,GAAyC,YAA9D;AACA2M,IAAAA,eAAe,CAACpN,IAAhB,CAAqB,OAArB;AAEA0M,IAAAA,cAAc,CAAC1G,YAAf,CAA4B,YAA5B,IAA4C;AAC3C;AACA;AACA;AACA4G,MAAAA,SAAS,EAAE,EAJgC;AAK3CN,MAAAA,UAAU,EAAE,CAAC,OAAD,EAAU,KAAV,CAL+B;AAM3CC,MAAAA,cAAc,EAAEa,eAN2B;AAO3CZ,MAAAA,UAAU,EAAE,CAAC,MAAD;AAP+B,KAA5C;AASA;;AAED,SAAOE,cAAP;AACA,CA7FD;AA+FA;AACA;AACA;AACA;AACA;;;AACA,MAAMzI,wBAAwB,GAAG,UAAe;AAAA,MAAd;AAAEzC,IAAAA;AAAF,GAAc;;AAC/C;AACA,QAAMkL,cAAc,GAAG;AACtBlL,IAAAA,KADsB;AAEtB+K,IAAAA,cAAc,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsB,MAAtB,CAFM;AAGtBM,IAAAA,aAAa,EAAE,CAAC,SAAD,CAHO;AAItBP,IAAAA,UAAU,EAAE,CAAC,QAAD,EAAW,MAAX,CAJU;AAKtBE,IAAAA,UAAU,EAAE,CAAC,KAAD,CALU;AAMtBI,IAAAA,SAAS,EAAE,CAAC,OAAD;AANW,GAAvB;AASA,SAAOF,cAAP;AACA,CAZD;AAcA;AACA;AACA;AACA;;;AACA,MAAMrM,kCAAkC,GAAGC,qBAAqB,IAAI;AACnEjB,EAAAA,CAAC,CAACiB,qBAAD,EAAwB,QAAxB,EAAkC,MAAMH,OAAO,CAACkN,MAAhD,CAAD;AACA,QAAMC,GAAG;AACR;AAAoBhN,EAAAA,qBAAqB,CAACiN,MAAvB,CAA+BC,KAA/B,IACnBrN,OAAO,CAACsN,GAAR,CAAYC,IAAZ,KAAqB,MAFtB;AAGA1O,EAAAA,CAAC,CAACsB,qBAAD,EAAwB,OAAxB,EAAiC,MAAjC,CAAD;AACAtB,EAAAA,CAAC,CAACsB,qBAAD,EAAwB,OAAxB,EAAiC,KAAjC,CAAD;AACAtB,EAAAA,CAAC,CAACsB,qBAAD,EAAwB,QAAxB,EAAkCgN,GAAlC,CAAD;AACAtO,EAAAA,CAAC,CAACsB,qBAAD,EAAwB,YAAxB,EAAsC,CAACgN,GAAvC,CAAD;AACA,CATD;;AAWAK,OAAO,CAAC1N,+BAAR,GAA0CA,+BAA1C;AACA0N,OAAO,CAACpN,2BAAR,GAAsCA,2BAAtC","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst {\n\tJAVASCRIPT_MODULE_TYPE_AUTO,\n\tJSON_MODULE_TYPE,\n\tWEBASSEMBLY_MODULE_TYPE_ASYNC,\n\tJAVASCRIPT_MODULE_TYPE_ESM,\n\tJAVASCRIPT_MODULE_TYPE_DYNAMIC,\n\tWEBASSEMBLY_MODULE_TYPE_SYNC,\n\tASSET_MODULE_TYPE,\n\tCSS_MODULE_TYPE_AUTO,\n\tCSS_MODULE_TYPE,\n\tCSS_MODULE_TYPE_MODULE\n} = require(\"../ModuleTypeConstants\");\nconst Template = require(\"../Template\");\nconst { cleverMerge } = require(\"../util/cleverMerge\");\nconst {\n\tgetTargetsProperties,\n\tgetTargetProperties,\n\tgetDefaultTarget\n} = require(\"./target\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Context} Context */\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryStaticNormalized} EntryStaticNormalized */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Environment} Environment */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n/** @typedef {import(\"../../declarations/WebpackOptions\").FileCacheOptions} FileCacheOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryType} LibraryType */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n/** @typedef {import(\"../../declarations/WebpackOptions\").OptimizationSplitChunksOptions} OptimizationSplitChunksOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ParserOptionsByModuleTypeKnown} ParserOptionsByModuleTypeKnown */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n\n/**\n * Sets a constant default value when undefined\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {T[P]} value a default value of the property\n * @returns {void}\n */\nconst D = (obj, prop, value) => {\n\tif (obj[prop] === undefined) {\n\t\tobj[prop] = value;\n\t}\n};\n\n/**\n * Sets a dynamic default value when undefined, by calling the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\nconst F = (obj, prop, factory) => {\n\tif (obj[prop] === undefined) {\n\t\tobj[prop] = factory();\n\t}\n};\n\n/**\n * Sets a dynamic default value when undefined, by calling the factory function.\n * factory must return an array or undefined\n * When the current value is already an array an contains \"...\" it's replaced with\n * the result of the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\nconst A = (obj, prop, factory) => {\n\tconst value = obj[prop];\n\tif (value === undefined) {\n\t\tobj[prop] = factory();\n\t} else if (Array.isArray(value)) {\n\t\t/** @type {any[] | undefined} */\n\t\tlet newArray = undefined;\n\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\tconst item = value[i];\n\t\t\tif (item === \"...\") {\n\t\t\t\tif (newArray === undefined) {\n\t\t\t\t\tnewArray = value.slice(0, i);\n\t\t\t\t\tobj[prop] = /** @type {T[P]} */ (/** @type {unknown} */ (newArray));\n\t\t\t\t}\n\t\t\t\tconst items = /** @type {any[]} */ (/** @type {unknown} */ (factory()));\n\t\t\t\tif (items !== undefined) {\n\t\t\t\t\tfor (const item of items) {\n\t\t\t\t\t\tnewArray.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (newArray !== undefined) {\n\t\t\t\tnewArray.push(item);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\nconst applyWebpackOptionsBaseDefaults = options => {\n\tF(options, \"context\", () => process.cwd());\n\tapplyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\nconst applyWebpackOptionsDefaults = options => {\n\tF(options, \"context\", () => process.cwd());\n\tF(options, \"target\", () => {\n\t\treturn getDefaultTarget(/** @type {string} */ (options.context));\n\t});\n\n\tconst { mode, name, target } = options;\n\n\tlet targetProperties =\n\t\ttarget === false\n\t\t\t? /** @type {false} */ (false)\n\t\t\t: typeof target === \"string\"\n\t\t\t? getTargetProperties(target, /** @type {Context} */ (options.context))\n\t\t\t: getTargetsProperties(\n\t\t\t\t\t/** @type {string[]} */ (target),\n\t\t\t\t\t/** @type {Context} */ (options.context)\n\t\t\t  );\n\n\tconst development = mode === \"development\";\n\tconst production = mode === \"production\" || !mode;\n\n\tif (typeof options.entry !== \"function\") {\n\t\tfor (const key of Object.keys(options.entry)) {\n\t\t\tF(\n\t\t\t\toptions.entry[key],\n\t\t\t\t\"import\",\n\t\t\t\t() => /** @type {[string]} */ ([\"./src\"])\n\t\t\t);\n\t\t}\n\t}\n\n\tF(options, \"devtool\", () => (development ? \"eval\" : false));\n\tD(options, \"watch\", false);\n\tD(options, \"profile\", false);\n\tD(options, \"parallelism\", 100);\n\tD(options, \"recordsInputPath\", false);\n\tD(options, \"recordsOutputPath\", false);\n\n\tapplyExperimentsDefaults(options.experiments, {\n\t\tproduction,\n\t\tdevelopment,\n\t\ttargetProperties\n\t});\n\n\tconst futureDefaults =\n\t\t/** @type {NonNullable<ExperimentsNormalized[\"futureDefaults\"]>} */\n\t\t(options.experiments.futureDefaults);\n\n\tF(options, \"cache\", () =>\n\t\tdevelopment ? { type: /** @type {\"memory\"} */ (\"memory\") } : false\n\t);\n\tapplyCacheDefaults(options.cache, {\n\t\tname: name || \"default\",\n\t\tmode: mode || \"production\",\n\t\tdevelopment,\n\t\tcacheUnaffected: options.experiments.cacheUnaffected\n\t});\n\tconst cache = !!options.cache;\n\n\tapplySnapshotDefaults(options.snapshot, {\n\t\tproduction,\n\t\tfutureDefaults\n\t});\n\n\tapplyModuleDefaults(options.module, {\n\t\tcache,\n\t\tsyncWebAssembly:\n\t\t\t/** @type {NonNullable<ExperimentsNormalized[\"syncWebAssembly\"]>} */\n\t\t\t(options.experiments.syncWebAssembly),\n\t\tasyncWebAssembly:\n\t\t\t/** @type {NonNullable<ExperimentsNormalized[\"asyncWebAssembly\"]>} */\n\t\t\t(options.experiments.asyncWebAssembly),\n\t\tcss:\n\t\t\t/** @type {NonNullable<ExperimentsNormalized[\"css\"]>} */\n\t\t\t(options.experiments.css),\n\t\tfutureDefaults,\n\t\tisNode: targetProperties && targetProperties.node === true\n\t});\n\n\tapplyOutputDefaults(options.output, {\n\t\tcontext: /** @type {Context} */ (options.context),\n\t\ttargetProperties,\n\t\tisAffectedByBrowserslist:\n\t\t\ttarget === undefined ||\n\t\t\t(typeof target === \"string\" && target.startsWith(\"browserslist\")) ||\n\t\t\t(Array.isArray(target) &&\n\t\t\t\ttarget.some(target => target.startsWith(\"browserslist\"))),\n\t\toutputModule:\n\t\t\t/** @type {NonNullable<ExperimentsNormalized[\"outputModule\"]>} */\n\t\t\t(options.experiments.outputModule),\n\t\tdevelopment,\n\t\tentry: options.entry,\n\t\tmodule: options.module,\n\t\tfutureDefaults\n\t});\n\n\tapplyExternalsPresetsDefaults(options.externalsPresets, {\n\t\ttargetProperties,\n\t\tbuildHttp: !!options.experiments.buildHttp\n\t});\n\n\tapplyLoaderDefaults(\n\t\t/** @type {NonNullable<WebpackOptions[\"loader\"]>} */ (options.loader),\n\t\t{ targetProperties, environment: options.output.environment }\n\t);\n\n\tF(options, \"externalsType\", () => {\n\t\tconst validExternalTypes = require(\"../../schemas/WebpackOptions.json\")\n\t\t\t.definitions.ExternalsType.enum;\n\t\treturn options.output.library &&\n\t\t\tvalidExternalTypes.includes(options.output.library.type)\n\t\t\t? /** @type {ExternalsType} */ (options.output.library.type)\n\t\t\t: options.output.module\n\t\t\t? \"module\"\n\t\t\t: \"var\";\n\t});\n\n\tapplyNodeDefaults(options.node, {\n\t\tfutureDefaults:\n\t\t\t/** @type {NonNullable<WebpackOptions[\"experiments\"][\"futureDefaults\"]>} */\n\t\t\t(options.experiments.futureDefaults),\n\t\ttargetProperties\n\t});\n\n\tF(options, \"performance\", () =>\n\t\tproduction &&\n\t\ttargetProperties &&\n\t\t(targetProperties.browser || targetProperties.browser === null)\n\t\t\t? {}\n\t\t\t: false\n\t);\n\tapplyPerformanceDefaults(\n\t\t/** @type {NonNullable<WebpackOptions[\"performance\"]>} */\n\t\t(options.performance),\n\t\t{\n\t\t\tproduction\n\t\t}\n\t);\n\n\tapplyOptimizationDefaults(options.optimization, {\n\t\tdevelopment,\n\t\tproduction,\n\t\tcss:\n\t\t\t/** @type {NonNullable<ExperimentsNormalized[\"css\"]>} */\n\t\t\t(options.experiments.css),\n\t\trecords: !!(options.recordsInputPath || options.recordsOutputPath)\n\t});\n\n\toptions.resolve = cleverMerge(\n\t\tgetResolveDefaults({\n\t\t\tcache,\n\t\t\tcontext: /** @type {Context} */ (options.context),\n\t\t\ttargetProperties,\n\t\t\tmode: /** @type {Mode} */ (options.mode),\n\t\t\tcss:\n\t\t\t\t/** @type {NonNullable<ExperimentsNormalized[\"css\"]>} */\n\t\t\t\t(options.experiments.css)\n\t\t}),\n\t\toptions.resolve\n\t);\n\n\toptions.resolveLoader = cleverMerge(\n\t\tgetResolveLoaderDefaults({ cache }),\n\t\toptions.resolveLoader\n\t);\n};\n\n/**\n * @param {ExperimentsNormalized} experiments options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development mode\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\nconst applyExperimentsDefaults = (\n\texperiments,\n\t{ production, development, targetProperties }\n) => {\n\tD(experiments, \"futureDefaults\", false);\n\tD(experiments, \"backCompat\", !experiments.futureDefaults);\n\tD(experiments, \"syncWebAssembly\", false);\n\tD(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n\tD(experiments, \"outputModule\", false);\n\tD(experiments, \"layers\", false);\n\tD(experiments, \"lazyCompilation\", undefined);\n\tD(experiments, \"buildHttp\", undefined);\n\tD(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n\tF(experiments, \"css\", () => (experiments.futureDefaults ? {} : undefined));\n\n\t// TODO webpack 6: remove this. topLevelAwait should be enabled by default\n\tlet shouldEnableTopLevelAwait = true;\n\tif (typeof experiments.topLevelAwait === \"boolean\") {\n\t\tshouldEnableTopLevelAwait = experiments.topLevelAwait;\n\t}\n\tD(experiments, \"topLevelAwait\", shouldEnableTopLevelAwait);\n\n\tif (typeof experiments.buildHttp === \"object\") {\n\t\tD(experiments.buildHttp, \"frozen\", production);\n\t\tD(experiments.buildHttp, \"upgrade\", false);\n\t}\n\n\tif (typeof experiments.css === \"object\") {\n\t\tD(\n\t\t\texperiments.css,\n\t\t\t\"exportsOnly\",\n\t\t\t!targetProperties || !targetProperties.document\n\t\t);\n\t}\n};\n\n/**\n * @param {CacheOptions} cache options\n * @param {Object} options options\n * @param {string} options.name name\n * @param {Mode} options.mode mode\n * @param {boolean} options.development is development mode\n * @param {Experiments[\"cacheUnaffected\"]} options.cacheUnaffected the cacheUnaffected experiment is enabled\n * @returns {void}\n */\nconst applyCacheDefaults = (\n\tcache,\n\t{ name, mode, development, cacheUnaffected }\n) => {\n\tif (cache === false) return;\n\tswitch (cache.type) {\n\t\tcase \"filesystem\":\n\t\t\tF(cache, \"name\", () => name + \"-\" + mode);\n\t\t\tD(cache, \"version\", \"\");\n\t\t\tF(cache, \"cacheDirectory\", () => {\n\t\t\t\tconst cwd = process.cwd();\n\t\t\t\t/** @type {string | undefined} */\n\t\t\t\tlet dir = cwd;\n\t\t\t\tfor (;;) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (fs.statSync(path.join(dir, \"package.json\")).isFile()) break;\n\t\t\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\tconst parent = path.dirname(dir);\n\t\t\t\t\tif (dir === parent) {\n\t\t\t\t\t\tdir = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdir = parent;\n\t\t\t\t}\n\t\t\t\tif (!dir) {\n\t\t\t\t\treturn path.resolve(cwd, \".cache/webpack\");\n\t\t\t\t} else if (process.versions.pnp === \"1\") {\n\t\t\t\t\treturn path.resolve(dir, \".pnp/.cache/webpack\");\n\t\t\t\t} else if (process.versions.pnp === \"3\") {\n\t\t\t\t\treturn path.resolve(dir, \".yarn/.cache/webpack\");\n\t\t\t\t} else {\n\t\t\t\t\treturn path.resolve(dir, \"node_modules/.cache/webpack\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tF(cache, \"cacheLocation\", () =>\n\t\t\t\tpath.resolve(\n\t\t\t\t\t/** @type {NonNullable<FileCacheOptions[\"cacheDirectory\"]>} */\n\t\t\t\t\t(cache.cacheDirectory),\n\t\t\t\t\t/** @type {NonNullable<FileCacheOptions[\"name\"]>} */ (cache.name)\n\t\t\t\t)\n\t\t\t);\n\t\t\tD(cache, \"hashAlgorithm\", \"md4\");\n\t\t\tD(cache, \"store\", \"pack\");\n\t\t\tD(cache, \"compression\", false);\n\t\t\tD(cache, \"profile\", false);\n\t\t\tD(cache, \"idleTimeout\", 60000);\n\t\t\tD(cache, \"idleTimeoutForInitialStore\", 5000);\n\t\t\tD(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n\t\t\tD(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n\t\t\tD(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n\t\t\tD(cache, \"allowCollectingMemory\", development);\n\t\t\tD(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n\t\t\tD(cache, \"readonly\", false);\n\t\t\tD(\n\t\t\t\t/** @type {NonNullable<FileCacheOptions[\"buildDependencies\"]>} */\n\t\t\t\t(cache.buildDependencies),\n\t\t\t\t\"defaultWebpack\",\n\t\t\t\t[path.resolve(__dirname, \"..\") + path.sep]\n\t\t\t);\n\t\t\tbreak;\n\t\tcase \"memory\":\n\t\t\tD(cache, \"maxGenerations\", Infinity);\n\t\t\tD(cache, \"cacheUnaffected\", development && cacheUnaffected);\n\t\t\tbreak;\n\t}\n};\n\n/**\n * @param {SnapshotOptions} snapshot options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applySnapshotDefaults = (snapshot, { production, futureDefaults }) => {\n\tif (futureDefaults) {\n\t\tF(snapshot, \"managedPaths\", () =>\n\t\t\tprocess.versions.pnp === \"3\"\n\t\t\t\t? [\n\t\t\t\t\t\t/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/\n\t\t\t\t  ]\n\t\t\t\t: [/^(.+?[\\\\/]node_modules[\\\\/])/]\n\t\t);\n\t\tF(snapshot, \"immutablePaths\", () =>\n\t\t\tprocess.versions.pnp === \"3\"\n\t\t\t\t? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/]\n\t\t\t\t: []\n\t\t);\n\t} else {\n\t\tA(snapshot, \"managedPaths\", () => {\n\t\t\tif (process.versions.pnp === \"3\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [path.resolve(match[1], \"unplugged\")];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec(\n\t\t\t\t\t// eslint-disable-next-line node/no-extraneous-require\n\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t});\n\t\tA(snapshot, \"immutablePaths\", () => {\n\t\t\tif (process.versions.pnp === \"1\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t} else if (process.versions.pnp === \"3\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t});\n\t}\n\tF(snapshot, \"resolveBuildDependencies\", () => ({\n\t\ttimestamp: true,\n\t\thash: true\n\t}));\n\tF(snapshot, \"buildDependencies\", () => ({ timestamp: true, hash: true }));\n\tF(snapshot, \"module\", () =>\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\n\t);\n\tF(snapshot, \"resolve\", () =>\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\n\t);\n};\n\n/**\n * @param {JavascriptParserOptions} parserOptions parser options\n * @param {Object} options options\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\nconst applyJavascriptParserOptionsDefaults = (\n\tparserOptions,\n\t{ futureDefaults, isNode }\n) => {\n\tD(parserOptions, \"unknownContextRequest\", \".\");\n\tD(parserOptions, \"unknownContextRegExp\", false);\n\tD(parserOptions, \"unknownContextRecursive\", true);\n\tD(parserOptions, \"unknownContextCritical\", true);\n\tD(parserOptions, \"exprContextRequest\", \".\");\n\tD(parserOptions, \"exprContextRegExp\", false);\n\tD(parserOptions, \"exprContextRecursive\", true);\n\tD(parserOptions, \"exprContextCritical\", true);\n\tD(parserOptions, \"wrappedContextRegExp\", /.*/);\n\tD(parserOptions, \"wrappedContextRecursive\", true);\n\tD(parserOptions, \"wrappedContextCritical\", false);\n\tD(parserOptions, \"strictThisContextOnImports\", false);\n\tD(parserOptions, \"importMeta\", true);\n\tD(parserOptions, \"dynamicImportMode\", \"lazy\");\n\tD(parserOptions, \"dynamicImportPrefetch\", false);\n\tD(parserOptions, \"dynamicImportPreload\", false);\n\tD(parserOptions, \"dynamicImportFetchPriority\", false);\n\tD(parserOptions, \"createRequire\", isNode);\n\tif (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n\n/**\n * @param {ModuleOptions} module options\n * @param {Object} options options\n * @param {boolean} options.cache is caching enabled\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\n * @param {CssExperimentOptions|false} options.css is css enabled\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\nconst applyModuleDefaults = (\n\tmodule,\n\t{ cache, syncWebAssembly, asyncWebAssembly, css, futureDefaults, isNode }\n) => {\n\tif (cache) {\n\t\tD(\n\t\t\tmodule,\n\t\t\t\"unsafeCache\",\n\t\t\t/**\n\t\t\t * @param {Module} module module\n\t\t\t * @returns {boolean | null | string} true, if we want to cache the module\n\t\t\t */\n\t\t\tmodule => {\n\t\t\t\tconst name = module.nameForCondition();\n\t\t\t\treturn name && NODE_MODULES_REGEXP.test(name);\n\t\t\t}\n\t\t);\n\t} else {\n\t\tD(module, \"unsafeCache\", false);\n\t}\n\n\tF(module.parser, ASSET_MODULE_TYPE, () => ({}));\n\tF(\n\t\t/** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"asset\"]>} */\n\t\t(module.parser.asset),\n\t\t\"dataUrlCondition\",\n\t\t() => ({})\n\t);\n\tif (\n\t\ttypeof (\n\t\t\t/** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"asset\"]>} */\n\t\t\t(module.parser.asset).dataUrlCondition\n\t\t) === \"object\"\n\t) {\n\t\tD(\n\t\t\t/** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"asset\"]>} */\n\t\t\t(module.parser.asset).dataUrlCondition,\n\t\t\t\"maxSize\",\n\t\t\t8096\n\t\t);\n\t}\n\n\tF(module.parser, \"javascript\", () => ({}));\n\n\tapplyJavascriptParserOptionsDefaults(\n\t\t/** @type {NonNullable<ParserOptionsByModuleTypeKnown[\"javascript\"]>} */\n\t\t(module.parser.javascript),\n\t\t{\n\t\t\tfutureDefaults,\n\t\t\tisNode\n\t\t}\n\t);\n\n\tA(module, \"defaultRules\", () => {\n\t\tconst esm = {\n\t\t\ttype: JAVASCRIPT_MODULE_TYPE_ESM,\n\t\t\tresolve: {\n\t\t\t\tbyDependency: {\n\t\t\t\t\tesm: {\n\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst commonjs = {\n\t\t\ttype: JAVASCRIPT_MODULE_TYPE_DYNAMIC\n\t\t};\n\t\t/** @type {RuleSetRules} */\n\t\tconst rules = [\n\t\t\t{\n\t\t\t\tmimetype: \"application/node\",\n\t\t\t\ttype: JAVASCRIPT_MODULE_TYPE_AUTO\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.json$/i,\n\t\t\t\ttype: JSON_MODULE_TYPE\n\t\t\t},\n\t\t\t{\n\t\t\t\tmimetype: \"application/json\",\n\t\t\t\ttype: JSON_MODULE_TYPE\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.mjs$/i,\n\t\t\t\t...esm\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.js$/i,\n\t\t\t\tdescriptionData: {\n\t\t\t\t\ttype: \"module\"\n\t\t\t\t},\n\t\t\t\t...esm\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.cjs$/i,\n\t\t\t\t...commonjs\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.js$/i,\n\t\t\t\tdescriptionData: {\n\t\t\t\t\ttype: \"commonjs\"\n\t\t\t\t},\n\t\t\t\t...commonjs\n\t\t\t},\n\t\t\t{\n\t\t\t\tmimetype: {\n\t\t\t\t\tor: [\"text/javascript\", \"application/javascript\"]\n\t\t\t\t},\n\t\t\t\t...esm\n\t\t\t}\n\t\t];\n\t\tif (asyncWebAssembly) {\n\t\t\tconst wasm = {\n\t\t\t\ttype: WEBASSEMBLY_MODULE_TYPE_ASYNC,\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdescriptionData: {\n\t\t\t\t\t\t\ttype: \"module\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.wasm$/i,\n\t\t\t\t...wasm\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"application/wasm\",\n\t\t\t\t...wasm\n\t\t\t});\n\t\t} else if (syncWebAssembly) {\n\t\t\tconst wasm = {\n\t\t\t\ttype: WEBASSEMBLY_MODULE_TYPE_SYNC,\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdescriptionData: {\n\t\t\t\t\t\t\ttype: \"module\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.wasm$/i,\n\t\t\t\t...wasm\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"application/wasm\",\n\t\t\t\t...wasm\n\t\t\t});\n\t\t}\n\t\tif (css) {\n\t\t\tconst resolve = {\n\t\t\t\tfullySpecified: true,\n\t\t\t\tpreferRelative: true\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.css$/i,\n\t\t\t\ttype: CSS_MODULE_TYPE_AUTO,\n\t\t\t\tresolve\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"text/css+module\",\n\t\t\t\ttype: CSS_MODULE_TYPE_MODULE,\n\t\t\t\tresolve\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"text/css\",\n\t\t\t\ttype: CSS_MODULE_TYPE,\n\t\t\t\tresolve\n\t\t\t});\n\t\t}\n\t\trules.push(\n\t\t\t{\n\t\t\t\tdependency: \"url\",\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\tscheme: /^data$/,\n\t\t\t\t\t\ttype: \"asset/inline\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"asset/resource\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tassert: { type: \"json\" },\n\t\t\t\ttype: JSON_MODULE_TYPE\n\t\t\t}\n\t\t);\n\t\treturn rules;\n\t});\n};\n\n/**\n * @param {Output} output options\n * @param {Object} options options\n * @param {string} options.context context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\n * @param {boolean} options.outputModule is outputModule experiment enabled\n * @param {boolean} options.development is development mode\n * @param {Entry} options.entry entry option\n * @param {ModuleOptions} options.module module option\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyOutputDefaults = (\n\toutput,\n\t{\n\t\tcontext,\n\t\ttargetProperties: tp,\n\t\tisAffectedByBrowserslist,\n\t\toutputModule,\n\t\tdevelopment,\n\t\tentry,\n\t\tmodule,\n\t\tfutureDefaults\n\t}\n) => {\n\t/**\n\t * @param {Library=} library the library option\n\t * @returns {string} a readable library name\n\t */\n\tconst getLibraryName = library => {\n\t\tconst libraryName =\n\t\t\ttypeof library === \"object\" &&\n\t\t\tlibrary &&\n\t\t\t!Array.isArray(library) &&\n\t\t\t\"type\" in library\n\t\t\t\t? library.name\n\t\t\t\t: /** @type {LibraryName} */ (library);\n\t\tif (Array.isArray(libraryName)) {\n\t\t\treturn libraryName.join(\".\");\n\t\t} else if (typeof libraryName === \"object\") {\n\t\t\treturn getLibraryName(libraryName.root);\n\t\t} else if (typeof libraryName === \"string\") {\n\t\t\treturn libraryName;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tF(output, \"uniqueName\", () => {\n\t\tconst libraryName = getLibraryName(output.library).replace(\n\t\t\t/^\\[(\\\\*[\\w:]+\\\\*)\\](\\.)|(\\.)\\[(\\\\*[\\w:]+\\\\*)\\](?=\\.|$)|\\[(\\\\*[\\w:]+\\\\*)\\]/g,\n\t\t\t(m, a, d1, d2, b, c) => {\n\t\t\t\tconst content = a || b || c;\n\t\t\t\treturn content.startsWith(\"\\\\\") && content.endsWith(\"\\\\\")\n\t\t\t\t\t? `${d2 || \"\"}[${content.slice(1, -1)}]${d1 || \"\"}`\n\t\t\t\t\t: \"\";\n\t\t\t}\n\t\t);\n\t\tif (libraryName) return libraryName;\n\t\tconst pkgPath = path.resolve(context, \"package.json\");\n\t\ttry {\n\t\t\tconst packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n\t\t\treturn packageInfo.name || \"\";\n\t\t} catch (e) {\n\t\t\tif (/** @type {Error & { code: string }} */ (e).code !== \"ENOENT\") {\n\t\t\t\t/** @type {Error & { code: string }} */\n\t\t\t\t(\n\t\t\t\t\te\n\t\t\t\t).message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t});\n\n\tF(output, \"module\", () => !!outputModule);\n\tD(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n\tF(output, \"iife\", () => !output.module);\n\tD(output, \"importFunctionName\", \"import\");\n\tD(output, \"importMetaName\", \"import.meta\");\n\tF(output, \"chunkFilename\", () => {\n\t\tconst filename =\n\t\t\t/** @type {NonNullable<Output[\"chunkFilename\"]>} */\n\t\t\t(output.filename);\n\t\tif (typeof filename !== \"function\") {\n\t\t\tconst hasName = filename.includes(\"[name]\");\n\t\t\tconst hasId = filename.includes(\"[id]\");\n\t\t\tconst hasChunkHash = filename.includes(\"[chunkhash]\");\n\t\t\tconst hasContentHash = filename.includes(\"[contenthash]\");\n\t\t\t// Anything changing depending on chunk is fine\n\t\t\tif (hasChunkHash || hasContentHash || hasName || hasId) return filename;\n\t\t\t// Otherwise prefix \"[id].\" in front of the basename to make it changing\n\t\t\treturn filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n\t\t}\n\t\treturn output.module ? \"[id].mjs\" : \"[id].js\";\n\t});\n\tF(output, \"cssFilename\", () => {\n\t\tconst filename =\n\t\t\t/** @type {NonNullable<Output[\"cssFilename\"]>} */\n\t\t\t(output.filename);\n\t\tif (typeof filename !== \"function\") {\n\t\t\treturn filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n\t\t}\n\t\treturn \"[id].css\";\n\t});\n\tF(output, \"cssChunkFilename\", () => {\n\t\tconst chunkFilename =\n\t\t\t/** @type {NonNullable<Output[\"cssChunkFilename\"]>} */\n\t\t\t(output.chunkFilename);\n\t\tif (typeof chunkFilename !== \"function\") {\n\t\t\treturn chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n\t\t}\n\t\treturn \"[id].css\";\n\t});\n\tD(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n\tD(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n\tD(output, \"compareBeforeEmit\", true);\n\tD(output, \"charset\", true);\n\tF(output, \"hotUpdateGlobal\", () =>\n\t\tTemplate.toIdentifier(\n\t\t\t\"webpackHotUpdate\" +\n\t\t\t\tTemplate.toIdentifier(\n\t\t\t\t\t/** @type {NonNullable<Output[\"uniqueName\"]>} */ (output.uniqueName)\n\t\t\t\t)\n\t\t)\n\t);\n\tF(output, \"chunkLoadingGlobal\", () =>\n\t\tTemplate.toIdentifier(\n\t\t\t\"webpackChunk\" +\n\t\t\t\tTemplate.toIdentifier(\n\t\t\t\t\t/** @type {NonNullable<Output[\"uniqueName\"]>} */ (output.uniqueName)\n\t\t\t\t)\n\t\t)\n\t);\n\tF(output, \"globalObject\", () => {\n\t\tif (tp) {\n\t\t\tif (tp.global) return \"global\";\n\t\t\tif (tp.globalThis) return \"globalThis\";\n\t\t}\n\t\treturn \"self\";\n\t});\n\tF(output, \"chunkFormat\", () => {\n\t\tif (tp) {\n\t\t\tconst helpMessage = isAffectedByBrowserslist\n\t\t\t\t? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\"\n\t\t\t\t: \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n\t\t\tif (output.module) {\n\t\t\t\tif (tp.dynamicImport) return \"module\";\n\t\t\t\tif (tp.document) return \"array-push\";\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"For the selected environment is no default ESM chunk format available:\\n\" +\n\t\t\t\t\t\t\"ESM exports can be chosen when 'import()' is available.\\n\" +\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' is available.\\n\" +\n\t\t\t\t\t\thelpMessage\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (tp.document) return \"array-push\";\n\t\t\t\tif (tp.require) return \"commonjs\";\n\t\t\t\tif (tp.nodeBuiltins) return \"commonjs\";\n\t\t\t\tif (tp.importScripts) return \"array-push\";\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"For the selected environment is no default script chunk format available:\\n\" +\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" +\n\t\t\t\t\t\t\"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" +\n\t\t\t\t\t\thelpMessage\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthrow new Error(\n\t\t\t\"Chunk format can't be selected by default when no target is specified\"\n\t\t);\n\t});\n\tD(output, \"asyncChunks\", true);\n\tF(output, \"chunkLoading\", () => {\n\t\tif (tp) {\n\t\t\tswitch (output.chunkFormat) {\n\t\t\t\tcase \"array-push\":\n\t\t\t\t\tif (tp.document) return \"jsonp\";\n\t\t\t\t\tif (tp.importScripts) return \"import-scripts\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"commonjs\":\n\t\t\t\t\tif (tp.require) return \"require\";\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"module\":\n\t\t\t\t\tif (tp.dynamicImport) return \"import\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttp.require === null ||\n\t\t\t\ttp.nodeBuiltins === null ||\n\t\t\t\ttp.document === null ||\n\t\t\t\ttp.importScripts === null\n\t\t\t) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"workerChunkLoading\", () => {\n\t\tif (tp) {\n\t\t\tswitch (output.chunkFormat) {\n\t\t\t\tcase \"array-push\":\n\t\t\t\t\tif (tp.importScriptsInWorker) return \"import-scripts\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"commonjs\":\n\t\t\t\t\tif (tp.require) return \"require\";\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"module\":\n\t\t\t\t\tif (tp.dynamicImportInWorker) return \"import\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttp.require === null ||\n\t\t\t\ttp.nodeBuiltins === null ||\n\t\t\t\ttp.importScriptsInWorker === null\n\t\t\t) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"wasmLoading\", () => {\n\t\tif (tp) {\n\t\t\tif (tp.fetchWasm) return \"fetch\";\n\t\t\tif (tp.nodeBuiltins)\n\t\t\t\treturn output.module ? \"async-node-module\" : \"async-node\";\n\t\t\tif (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"workerWasmLoading\", () => output.wasmLoading);\n\tF(output, \"devtoolNamespace\", () => output.uniqueName);\n\tif (output.library) {\n\t\tF(output.library, \"type\", () => (output.module ? \"module\" : \"var\"));\n\t}\n\tF(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n\tF(output, \"pathinfo\", () => development);\n\tD(output, \"sourceMapFilename\", \"[file].map[query]\");\n\tD(\n\t\toutput,\n\t\t\"hotUpdateChunkFilename\",\n\t\t`[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`\n\t);\n\tD(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n\tD(output, \"crossOriginLoading\", false);\n\tF(output, \"scriptType\", () => (output.module ? \"module\" : false));\n\tD(\n\t\toutput,\n\t\t\"publicPath\",\n\t\t(tp && (tp.document || tp.importScripts)) || output.scriptType === \"module\"\n\t\t\t? \"auto\"\n\t\t\t: \"\"\n\t);\n\tD(output, \"workerPublicPath\", \"\");\n\tD(output, \"chunkLoadTimeout\", 120000);\n\tD(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n\tD(output, \"hashDigest\", \"hex\");\n\tD(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n\tD(output, \"strictModuleExceptionHandling\", false);\n\n\tconst environment = /** @type {Environment} */ (output.environment);\n\t/**\n\t * @param {boolean | undefined} v value\n\t * @returns {boolean} true, when v is truthy or undefined\n\t */\n\tconst optimistic = v => v || v === undefined;\n\t/**\n\t * @param {boolean | undefined} v value\n\t * @param {boolean | undefined} c condition\n\t * @returns {boolean | undefined} true, when v is truthy or undefined, or c is truthy\n\t */\n\tconst conditionallyOptimistic = (v, c) => (v === undefined && c) || v;\n\n\tF(\n\t\tenvironment,\n\t\t\"globalThis\",\n\t\t() => /** @type {boolean | undefined} */ (tp && tp.globalThis)\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"bigIntLiteral\",\n\t\t() => /** @type {boolean | undefined} */ (tp && tp.bigIntLiteral)\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"const\",\n\t\t() => tp && optimistic(/** @type {boolean | undefined} */ (tp.const))\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"arrowFunction\",\n\t\t() =>\n\t\t\ttp && optimistic(/** @type {boolean | undefined} */ (tp.arrowFunction))\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"forOf\",\n\t\t() => tp && optimistic(/** @type {boolean | undefined} */ (tp.forOf))\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"destructuring\",\n\t\t() =>\n\t\t\ttp && optimistic(/** @type {boolean | undefined} */ (tp.destructuring))\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"optionalChaining\",\n\t\t() =>\n\t\t\ttp && optimistic(/** @type {boolean | undefined} */ (tp.optionalChaining))\n\t);\n\tF(\n\t\tenvironment,\n\t\t\"templateLiteral\",\n\t\t() =>\n\t\t\ttp && optimistic(/** @type {boolean | undefined} */ (tp.templateLiteral))\n\t);\n\tF(environment, \"dynamicImport\", () =>\n\t\tconditionallyOptimistic(\n\t\t\t/** @type {boolean | undefined} */ (tp && tp.dynamicImport),\n\t\t\toutput.module\n\t\t)\n\t);\n\tF(environment, \"dynamicImportInWorker\", () =>\n\t\tconditionallyOptimistic(\n\t\t\t/** @type {boolean | undefined} */ (tp && tp.dynamicImportInWorker),\n\t\t\toutput.module\n\t\t)\n\t);\n\tF(environment, \"module\", () =>\n\t\tconditionallyOptimistic(\n\t\t\t/** @type {boolean | undefined} */ (tp && tp.module),\n\t\t\toutput.module\n\t\t)\n\t);\n\n\tconst { trustedTypes } = output;\n\tif (trustedTypes) {\n\t\tF(\n\t\t\ttrustedTypes,\n\t\t\t\"policyName\",\n\t\t\t() =>\n\t\t\t\t/** @type {NonNullable<Output[\"uniqueName\"]>} */\n\t\t\t\t(output.uniqueName).replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\"\n\t\t);\n\t\tD(trustedTypes, \"onPolicyCreationFailure\", \"stop\");\n\t}\n\n\t/**\n\t * @param {function(EntryDescription): void} fn iterator\n\t * @returns {void}\n\t */\n\tconst forEachEntry = fn => {\n\t\tfor (const name of Object.keys(entry)) {\n\t\t\tfn(/** @type {{[k: string] : EntryDescription}} */ (entry)[name]);\n\t\t}\n\t};\n\tA(output, \"enabledLibraryTypes\", () => {\n\t\t/** @type {LibraryType[]} */\n\t\tconst enabledLibraryTypes = [];\n\t\tif (output.library) {\n\t\t\tenabledLibraryTypes.push(output.library.type);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.library) {\n\t\t\t\tenabledLibraryTypes.push(desc.library.type);\n\t\t\t}\n\t\t});\n\t\treturn enabledLibraryTypes;\n\t});\n\n\tA(output, \"enabledChunkLoadingTypes\", () => {\n\t\tconst enabledChunkLoadingTypes = new Set();\n\t\tif (output.chunkLoading) {\n\t\t\tenabledChunkLoadingTypes.add(output.chunkLoading);\n\t\t}\n\t\tif (output.workerChunkLoading) {\n\t\t\tenabledChunkLoadingTypes.add(output.workerChunkLoading);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.chunkLoading) {\n\t\t\t\tenabledChunkLoadingTypes.add(desc.chunkLoading);\n\t\t\t}\n\t\t});\n\t\treturn Array.from(enabledChunkLoadingTypes);\n\t});\n\n\tA(output, \"enabledWasmLoadingTypes\", () => {\n\t\tconst enabledWasmLoadingTypes = new Set();\n\t\tif (output.wasmLoading) {\n\t\t\tenabledWasmLoadingTypes.add(output.wasmLoading);\n\t\t}\n\t\tif (output.workerWasmLoading) {\n\t\t\tenabledWasmLoadingTypes.add(output.workerWasmLoading);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.wasmLoading) {\n\t\t\t\tenabledWasmLoadingTypes.add(desc.wasmLoading);\n\t\t\t}\n\t\t});\n\t\treturn Array.from(enabledWasmLoadingTypes);\n\t});\n};\n\n/**\n * @param {ExternalsPresets} externalsPresets options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.buildHttp buildHttp experiment enabled\n * @returns {void}\n */\nconst applyExternalsPresetsDefaults = (\n\texternalsPresets,\n\t{ targetProperties, buildHttp }\n) => {\n\tD(\n\t\texternalsPresets,\n\t\t\"web\",\n\t\t/** @type {boolean | undefined} */\n\t\t(!buildHttp && targetProperties && targetProperties.web)\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"node\",\n\t\t/** @type {boolean | undefined} */\n\t\t(targetProperties && targetProperties.node)\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"nwjs\",\n\t\t/** @type {boolean | undefined} */\n\t\t(targetProperties && targetProperties.nwjs)\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electron\",\n\t\t/** @type {boolean | undefined} */\n\t\t(targetProperties && targetProperties.electron)\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronMain\",\n\t\t/** @type {boolean | undefined} */\n\t\t(\n\t\t\ttargetProperties &&\n\t\t\t\ttargetProperties.electron &&\n\t\t\t\ttargetProperties.electronMain\n\t\t)\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronPreload\",\n\t\t/** @type {boolean | undefined} */\n\t\t(\n\t\t\ttargetProperties &&\n\t\t\t\ttargetProperties.electron &&\n\t\t\t\ttargetProperties.electronPreload\n\t\t)\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronRenderer\",\n\t\t/** @type {boolean | undefined} */\n\t\t(\n\t\t\ttargetProperties &&\n\t\t\t\ttargetProperties.electron &&\n\t\t\t\ttargetProperties.electronRenderer\n\t\t)\n\t);\n};\n\n/**\n * @param {Loader} loader options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Environment} options.environment environment\n * @returns {void}\n */\nconst applyLoaderDefaults = (loader, { targetProperties, environment }) => {\n\tF(loader, \"target\", () => {\n\t\tif (targetProperties) {\n\t\t\tif (targetProperties.electron) {\n\t\t\t\tif (targetProperties.electronMain) return \"electron-main\";\n\t\t\t\tif (targetProperties.electronPreload) return \"electron-preload\";\n\t\t\t\tif (targetProperties.electronRenderer) return \"electron-renderer\";\n\t\t\t\treturn \"electron\";\n\t\t\t}\n\t\t\tif (targetProperties.nwjs) return \"nwjs\";\n\t\t\tif (targetProperties.node) return \"node\";\n\t\t\tif (targetProperties.web) return \"web\";\n\t\t}\n\t});\n\tD(loader, \"environment\", environment);\n};\n\n/**\n * @param {WebpackNode} node options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyNodeDefaults = (node, { futureDefaults, targetProperties }) => {\n\tif (node === false) return;\n\n\tF(node, \"global\", () => {\n\t\tif (targetProperties && targetProperties.global) return false;\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn\" : true;\n\t});\n\tF(node, \"__filename\", () => {\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\n\t});\n\tF(node, \"__dirname\", () => {\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\n\t});\n};\n\n/**\n * @param {Performance} performance options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @returns {void}\n */\nconst applyPerformanceDefaults = (performance, { production }) => {\n\tif (performance === false) return;\n\tD(performance, \"maxAssetSize\", 250000);\n\tD(performance, \"maxEntrypointSize\", 250000);\n\tF(performance, \"hints\", () => (production ? \"warning\" : false));\n};\n\n/**\n * @param {Optimization} optimization options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development\n * @param {CssExperimentOptions|false} options.css is css enabled\n * @param {boolean} options.records using records\n * @returns {void}\n */\nconst applyOptimizationDefaults = (\n\toptimization,\n\t{ production, development, css, records }\n) => {\n\tD(optimization, \"removeAvailableModules\", false);\n\tD(optimization, \"removeEmptyChunks\", true);\n\tD(optimization, \"mergeDuplicateChunks\", true);\n\tD(optimization, \"flagIncludedChunks\", production);\n\tF(optimization, \"moduleIds\", () => {\n\t\tif (production) return \"deterministic\";\n\t\tif (development) return \"named\";\n\t\treturn \"natural\";\n\t});\n\tF(optimization, \"chunkIds\", () => {\n\t\tif (production) return \"deterministic\";\n\t\tif (development) return \"named\";\n\t\treturn \"natural\";\n\t});\n\tF(optimization, \"sideEffects\", () => (production ? true : \"flag\"));\n\tD(optimization, \"providedExports\", true);\n\tD(optimization, \"usedExports\", production);\n\tD(optimization, \"innerGraph\", production);\n\tD(optimization, \"mangleExports\", production);\n\tD(optimization, \"concatenateModules\", production);\n\tD(optimization, \"runtimeChunk\", false);\n\tD(optimization, \"emitOnErrors\", !production);\n\tD(optimization, \"checkWasmTypes\", production);\n\tD(optimization, \"mangleWasmImports\", false);\n\tD(optimization, \"portableRecords\", records);\n\tD(optimization, \"realContentHash\", production);\n\tD(optimization, \"minimize\", production);\n\tA(optimization, \"minimizer\", () => [\n\t\t{\n\t\t\tapply: compiler => {\n\t\t\t\t// Lazy load the Terser plugin\n\t\t\t\tconst TerserPlugin = require(\"terser-webpack-plugin\");\n\t\t\t\tnew TerserPlugin({\n\t\t\t\t\tterserOptions: {\n\t\t\t\t\t\tcompress: {\n\t\t\t\t\t\t\tpasses: 2\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).apply(compiler);\n\t\t\t}\n\t\t}\n\t]);\n\tF(optimization, \"nodeEnv\", () => {\n\t\tif (production) return \"production\";\n\t\tif (development) return \"development\";\n\t\treturn false;\n\t});\n\tconst { splitChunks } = optimization;\n\tif (splitChunks) {\n\t\tA(splitChunks, \"defaultSizeTypes\", () =>\n\t\t\tcss ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]\n\t\t);\n\t\tD(splitChunks, \"hidePathInfo\", production);\n\t\tD(splitChunks, \"chunks\", \"async\");\n\t\tD(splitChunks, \"usedExports\", optimization.usedExports === true);\n\t\tD(splitChunks, \"minChunks\", 1);\n\t\tF(splitChunks, \"minSize\", () => (production ? 20000 : 10000));\n\t\tF(splitChunks, \"minRemainingSize\", () => (development ? 0 : undefined));\n\t\tF(splitChunks, \"enforceSizeThreshold\", () => (production ? 50000 : 30000));\n\t\tF(splitChunks, \"maxAsyncRequests\", () => (production ? 30 : Infinity));\n\t\tF(splitChunks, \"maxInitialRequests\", () => (production ? 30 : Infinity));\n\t\tD(splitChunks, \"automaticNameDelimiter\", \"-\");\n\t\tconst cacheGroups =\n\t\t\t/** @type {NonNullable<OptimizationSplitChunksOptions[\"cacheGroups\"]>} */\n\t\t\t(splitChunks.cacheGroups);\n\t\tF(cacheGroups, \"default\", () => ({\n\t\t\tidHint: \"\",\n\t\t\treuseExistingChunk: true,\n\t\t\tminChunks: 2,\n\t\t\tpriority: -20\n\t\t}));\n\t\tF(cacheGroups, \"defaultVendors\", () => ({\n\t\t\tidHint: \"vendors\",\n\t\t\treuseExistingChunk: true,\n\t\t\ttest: NODE_MODULES_REGEXP,\n\t\t\tpriority: -10\n\t\t}));\n\t}\n};\n\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @param {string} options.context build context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Mode} options.mode mode\n * @param {CssExperimentOptions|false} options.css is css enabled\n * @returns {ResolveOptions} resolve options\n */\nconst getResolveDefaults = ({\n\tcache,\n\tcontext,\n\ttargetProperties,\n\tmode,\n\tcss\n}) => {\n\t/** @type {string[]} */\n\tconst conditions = [\"webpack\"];\n\n\tconditions.push(mode === \"development\" ? \"development\" : \"production\");\n\n\tif (targetProperties) {\n\t\tif (targetProperties.webworker) conditions.push(\"worker\");\n\t\tif (targetProperties.node) conditions.push(\"node\");\n\t\tif (targetProperties.web) conditions.push(\"browser\");\n\t\tif (targetProperties.electron) conditions.push(\"electron\");\n\t\tif (targetProperties.nwjs) conditions.push(\"nwjs\");\n\t}\n\n\tconst jsExtensions = [\".js\", \".json\", \".wasm\"];\n\n\tconst tp = targetProperties;\n\tconst browserField =\n\t\ttp && tp.web && (!tp.node || (tp.electron && tp.electronRenderer));\n\n\t/** @type {function(): ResolveOptions} */\n\tconst cjsDeps = () => ({\n\t\taliasFields: browserField ? [\"browser\"] : [],\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n\t\tconditionNames: [\"require\", \"module\", \"...\"],\n\t\textensions: [...jsExtensions]\n\t});\n\t/** @type {function(): ResolveOptions} */\n\tconst esmDeps = () => ({\n\t\taliasFields: browserField ? [\"browser\"] : [],\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n\t\tconditionNames: [\"import\", \"module\", \"...\"],\n\t\textensions: [...jsExtensions]\n\t});\n\n\t/** @type {ResolveOptions} */\n\tconst resolveOptions = {\n\t\tcache,\n\t\tmodules: [\"node_modules\"],\n\t\tconditionNames: conditions,\n\t\tmainFiles: [\"index\"],\n\t\textensions: [],\n\t\taliasFields: [],\n\t\texportsFields: [\"exports\"],\n\t\troots: [context],\n\t\tmainFields: [\"main\"],\n\t\tbyDependency: {\n\t\t\twasm: esmDeps(),\n\t\t\tesm: esmDeps(),\n\t\t\tloaderImport: esmDeps(),\n\t\t\turl: {\n\t\t\t\tpreferRelative: true\n\t\t\t},\n\t\t\tworker: {\n\t\t\t\t...esmDeps(),\n\t\t\t\tpreferRelative: true\n\t\t\t},\n\t\t\tcommonjs: cjsDeps(),\n\t\t\tamd: cjsDeps(),\n\t\t\t// for backward-compat: loadModule\n\t\t\tloader: cjsDeps(),\n\t\t\t// for backward-compat: Custom Dependency\n\t\t\tunknown: cjsDeps(),\n\t\t\t// for backward-compat: getResolve without dependencyType\n\t\t\tundefined: cjsDeps()\n\t\t}\n\t};\n\n\tif (css) {\n\t\tconst styleConditions = [];\n\n\t\tstyleConditions.push(\"webpack\");\n\t\tstyleConditions.push(mode === \"development\" ? \"development\" : \"production\");\n\t\tstyleConditions.push(\"style\");\n\n\t\tresolveOptions.byDependency[\"css-import\"] = {\n\t\t\t// We avoid using any main files because we have to be consistent with CSS `@import`\n\t\t\t// and CSS `@import` does not handle `main` files in directories,\n\t\t\t// you should always specify the full URL for styles\n\t\t\tmainFiles: [],\n\t\t\tmainFields: [\"style\", \"...\"],\n\t\t\tconditionNames: styleConditions,\n\t\t\textensions: [\".css\"]\n\t\t};\n\t}\n\n\treturn resolveOptions;\n};\n\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @returns {ResolveOptions} resolve options\n */\nconst getResolveLoaderDefaults = ({ cache }) => {\n\t/** @type {ResolveOptions} */\n\tconst resolveOptions = {\n\t\tcache,\n\t\tconditionNames: [\"loader\", \"require\", \"node\"],\n\t\texportsFields: [\"exports\"],\n\t\tmainFields: [\"loader\", \"main\"],\n\t\textensions: [\".js\"],\n\t\tmainFiles: [\"index\"]\n\t};\n\n\treturn resolveOptions;\n};\n\n/**\n * @param {InfrastructureLogging} infrastructureLogging options\n * @returns {void}\n */\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n\tF(infrastructureLogging, \"stream\", () => process.stderr);\n\tconst tty =\n\t\t/** @type {any} */ (infrastructureLogging.stream).isTTY &&\n\t\tprocess.env.TERM !== \"dumb\";\n\tD(infrastructureLogging, \"level\", \"info\");\n\tD(infrastructureLogging, \"debug\", false);\n\tD(infrastructureLogging, \"colors\", tty);\n\tD(infrastructureLogging, \"appendOnly\", !tty);\n};\n\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;\n"]},"metadata":{},"sourceType":"script"}